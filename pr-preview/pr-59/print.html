<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Git is my lab book</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="mdbook-admonish.css">
        <link rel="stylesheet" href="tabbed-code-blocks.css">
        <link rel="stylesheet" href="asciinema/asciinema-player.css">
        <link rel="stylesheet" href="asciinema/asciinema-theme-dracula.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="index.html">Introduction</a></li><li class="chapter-item affix "><a href="learning-objectives.html">Learning objectives</a></li><li class="chapter-item affix "><a href="prerequisites.html">Prerequisites</a></li><li class="chapter-item "><a href="version-control/index.html"><strong aria-hidden="true">1.</strong> Version control concepts</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="version-control/what-is-version-control.html"><strong aria-hidden="true">1.1.</strong> What is version control?</a></li><li class="chapter-item "><a href="version-control/what-is-a-repository.html"><strong aria-hidden="true">1.2.</strong> What is a repository?</a></li><li class="chapter-item "><a href="version-control/what-is-a-commit.html"><strong aria-hidden="true">1.3.</strong> What is a commit?</a></li><li class="chapter-item "><a href="version-control/what-should-I-commit.html"><strong aria-hidden="true">1.4.</strong> What should I commit?</a></li><li class="chapter-item "><a href="version-control/how-do-I-write-a-commit-message.html"><strong aria-hidden="true">1.5.</strong> How do I write a commit message?</a></li><li class="chapter-item "><a href="version-control/what-is-a-tag.html"><strong aria-hidden="true">1.6.</strong> What is a tag?</a></li><li class="chapter-item "><a href="version-control/what-is-a-branch.html"><strong aria-hidden="true">1.7.</strong> What is a branch?</a></li><li class="chapter-item "><a href="version-control/what-is-a-merge-conflict.html"><strong aria-hidden="true">1.8.</strong> What is a merge conflict?</a></li><li class="chapter-item "><a href="version-control/exercise-using-version-control.html"><strong aria-hidden="true">1.9.</strong> Exercise: using version control</a></li></ol></li><li class="chapter-item "><a href="using-git/index.html"><strong aria-hidden="true">2.</strong> Effective use of git</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="using-git/graphical-git-clients.html"><strong aria-hidden="true">2.1.</strong> Graphical Git clients</a></li><li class="chapter-item "><a href="using-git/first-time-git-setup.html"><strong aria-hidden="true">2.2.</strong> First-time Git setup</a></li><li class="chapter-item "><a href="using-git/choosing-your-git-editor.html"><strong aria-hidden="true">2.3.</strong> Choosing your Git editor</a></li><li class="chapter-item "><a href="using-git/creating-a-repository.html"><strong aria-hidden="true">2.4.</strong> Creating a repository</a></li><li class="chapter-item "><a href="using-git/cloning-an-existing-repository.html"><strong aria-hidden="true">2.5.</strong> Cloning an existing repository</a></li><li class="chapter-item "><a href="using-git/how-to-structure-a-repository.html"><strong aria-hidden="true">2.6.</strong> How to structure a repository</a></li><li class="chapter-item "><a href="using-git/choosing-a-license.html"><strong aria-hidden="true">2.7.</strong> Choosing a license</a></li><li class="chapter-item "><a href="using-git/creating-a-commit.html"><strong aria-hidden="true">2.8.</strong> Creating a commit</a></li><li class="chapter-item "><a href="using-git/creating-a-remote-repository.html"><strong aria-hidden="true">2.9.</strong> Creating a remote repository</a></li><li class="chapter-item "><a href="using-git/pushing-and-pulling-commits.html"><strong aria-hidden="true">2.10.</strong> Pushing and pulling commits</a></li><li class="chapter-item "><a href="using-git/how-to-ignore-certain-files.html"><strong aria-hidden="true">2.11.</strong> How to ignore certain files</a></li><li class="chapter-item "><a href="using-git/how-to-create-and-use-tags.html"><strong aria-hidden="true">2.12.</strong> How to create and use tags</a></li><li class="chapter-item "><a href="using-git/inspecting-your-history.html"><strong aria-hidden="true">2.13.</strong> Inspecting your history</a></li><li class="chapter-item "><a href="using-git/where-did-this-line-come-from.html"><strong aria-hidden="true">2.14.</strong> Where did this line come from?</a></li><li class="chapter-item "><a href="using-git/where-did-this-problem-come-from.html"><strong aria-hidden="true">2.15.</strong> Where did this problem come from?</a></li><li class="chapter-item "><a href="using-git/how-to-use-branches.html"><strong aria-hidden="true">2.16.</strong> How to use branches?</a></li><li class="chapter-item "><a href="using-git/how-to-resolve-merge-conflicts.html"><strong aria-hidden="true">2.17.</strong> How to resolve merge conflicts?</a></li><li class="chapter-item "><a href="using-git/exercise-create-a-local-repository.html"><strong aria-hidden="true">2.18.</strong> Exercise: create a local repository</a></li><li class="chapter-item "><a href="using-git/exercise-use-a-remote-repository.html"><strong aria-hidden="true">2.19.</strong> Exercise: use a remote repository</a></li><li class="chapter-item "><a href="using-git/exercise-resolve-a-merge-conflict.html"><strong aria-hidden="true">2.20.</strong> Exercise: resolve a merge conflict</a></li></ol></li><li class="chapter-item "><a href="collaborating/index.html"><strong aria-hidden="true">3.</strong> Collaborating</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="collaborating/collaborating-on-code.html"><strong aria-hidden="true">3.1.</strong> Collaborating on code</a></li><li class="chapter-item "><a href="collaborating/collaborating-on-a-paper.html"><strong aria-hidden="true">3.2.</strong> Collaborating on a paper</a></li><li class="chapter-item "><a href="collaborating/sharing-a-repository.html"><strong aria-hidden="true">3.3.</strong> Sharing a repository</a></li><li class="chapter-item "><a href="collaborating/sharing-a-branch.html"><strong aria-hidden="true">3.4.</strong> Sharing a branch</a></li><li class="chapter-item "><a href="collaborating/merge-pull-requests.html"><strong aria-hidden="true">3.5.</strong> Merge/Pull requests</a></li><li class="chapter-item "><a href="collaborating/an-example-pull-request.html"><strong aria-hidden="true">3.6.</strong> An example pull request</a></li><li class="chapter-item "><a href="collaborating/peer-code-review.html"><strong aria-hidden="true">3.7.</strong> Peer code review</a></li><li class="chapter-item "><a href="collaborating/coding-style-guides.html"><strong aria-hidden="true">3.8.</strong> Coding style guides</a></li><li class="chapter-item "><a href="collaborating/continuous-integration.html"><strong aria-hidden="true">3.9.</strong> Continuous integration</a></li></ol></li><li class="chapter-item "><a href="project-structure/index.html"><strong aria-hidden="true">4.</strong> Project structure</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="project-structure/workflow.html"><strong aria-hidden="true">4.1.</strong> Define your workflow</a></li><li class="chapter-item "><a href="project-structure/automating-tasks.html"><strong aria-hidden="true">4.2.</strong> Automate common tasks</a></li><li class="chapter-item "><a href="project-structure/explain-how-it-works.html"><strong aria-hidden="true">4.3.</strong> Explain how it all works</a></li><li class="chapter-item "><a href="project-structure/exercise-what-works-for-you.html"><strong aria-hidden="true">4.4.</strong> Exercise: what works for you?</a></li></ol></li><li class="chapter-item "><a href="writing-code/index.html"><strong aria-hidden="true">5.</strong> Writing code</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="writing-code/how-we-learn-to-write-code.html"><strong aria-hidden="true">5.1.</strong> How we learn to write code</a></li><li class="chapter-item "><a href="writing-code/cohesion-coupling.html"><strong aria-hidden="true">5.2.</strong> Cohesion and coupling</a></li><li class="chapter-item "><a href="writing-code/behave-nicely.html"><strong aria-hidden="true">5.3.</strong> Behave nicely</a></li><li class="chapter-item "><a href="writing-code/coding-advice.html"><strong aria-hidden="true">5.4.</strong> Coding advice</a></li><li class="chapter-item "><a href="writing-code/create-packages.html"><strong aria-hidden="true">5.5.</strong> Create packages</a></li><li class="chapter-item "><a href="writing-code/check-your-code.html"><strong aria-hidden="true">5.6.</strong> Check your code</a></li><li class="chapter-item "><a href="writing-code/format-your-code.html"><strong aria-hidden="true">5.7.</strong> Format your code</a></li><li class="chapter-item "><a href="writing-code/exercise-seek-feedback.html"><strong aria-hidden="true">5.8.</strong> Exercise: seek feedback</a></li></ol></li><li class="chapter-item "><a href="reproducibility/index.html"><strong aria-hidden="true">6.</strong> Reproducibility</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><div><strong aria-hidden="true">6.1.</strong> What is reproducible research?</div></li><li class="chapter-item "><div><strong aria-hidden="true">6.2.</strong> Generating reproducible outputs</div></li><li class="chapter-item "><div><strong aria-hidden="true">6.3.</strong> Ensuring that outputs are reproducible</div></li><li class="chapter-item "><div><strong aria-hidden="true">6.4.</strong> Ensuring that output are up to date</div></li><li class="chapter-item "><div><strong aria-hidden="true">6.5.</strong> Reproducible supplementary materials</div></li></ol></li><li class="chapter-item "><a href="testing/index.html"><strong aria-hidden="true">7.</strong> Testing</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><div><strong aria-hidden="true">7.1.</strong> What are tests for?</div></li><li class="chapter-item "><div><strong aria-hidden="true">7.2.</strong> Unit tests</div></li><li class="chapter-item "><div><strong aria-hidden="true">7.3.</strong> Integration tests</div></li><li class="chapter-item "><div><strong aria-hidden="true">7.4.</strong> Regression tests</div></li><li class="chapter-item "><div><strong aria-hidden="true">7.5.</strong> Testing stochastic models</div></li><li class="chapter-item "><div><strong aria-hidden="true">7.6.</strong> I found a bug, now what?</div></li></ol></li><li class="chapter-item "><a href="high-performance-computing/index.html"><strong aria-hidden="true">8.</strong> Cloud and HPC platforms</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><div><strong aria-hidden="true">8.1.</strong> Available platforms</div></li><li class="chapter-item "><div><strong aria-hidden="true">8.2.</strong> Synchronising code and outputs</div></li><li class="chapter-item "><div><strong aria-hidden="true">8.3.</strong> Making one thing run faster</div></li><li class="chapter-item "><div><strong aria-hidden="true">8.4.</strong> Running many things at the same time</div></li></ol></li><li class="chapter-item "><a href="case-studies/index.html"><strong aria-hidden="true">9.</strong> Case studies</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="case-studies/moss-pypfilt-earlier-states.html"><strong aria-hidden="true">9.1.</strong> Fixing a bug in pypfilt</a></li><li class="chapter-item "><a href="case-studies/moss-incorrect-data-pre-print.html"><strong aria-hidden="true">9.2.</strong> Incorrect data in a pre-print figure</a></li><li class="chapter-item "><a href="case-studies/campbell-pen-and-paper-version-control.html"><strong aria-hidden="true">9.3.</strong> Pen and paper version control</a></li></ol></li><li class="chapter-item "><a href="community/index.html"><strong aria-hidden="true">10.</strong> Community of Practice</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="community/meetings/index.html"><strong aria-hidden="true">10.1.</strong> Meetings</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="community/meetings/2023-04-17.html"><strong aria-hidden="true">10.1.1.</strong> 17 April 2023</a></li><li class="chapter-item "><a href="community/meetings/2023-06-13.html"><strong aria-hidden="true">10.1.2.</strong> 13 June 2023</a></li><li class="chapter-item "><a href="community/meetings/2023-08-15.html"><strong aria-hidden="true">10.1.3.</strong> 15 August 2023</a></li><li class="spacer"></li></ol></li></ol></li><li class="chapter-item "><a href="how-to-contribute.html">How to contribute</a></li><li class="chapter-item affix "><a href="contributors.html">Contributors</a></li><li class="chapter-item affix "><a href="references.html">References</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Git is my lab book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/robmoss/git-is-my-lab-book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>These materials aim to support
early- and mid-career researchers (EMCRs) in the
<a href="https://www.spectrum.edu.au/">SPECTRUM</a> and <a href="https://www.spark.edu.au/">SPARK</a> networks to develop their computing skills, and to make effective use of available tools<sup class="footnote-reference"><a href="#tools">1</a></sup> and infrastructure<sup class="footnote-reference"><a href="#infra">2</a></sup>.</p>
<h2 id="motivation"><a class="header" href="#motivation">Motivation</a></h2>
<div id="admonition-question" class="admonition question">
<div class="admonition-title">
<p>Question</p>
<p><a class="admonition-anchor-link" href="index.html#admonition-question"></a></p>
</div>
<div>
<p>Why dedicate time and effort to learning these skills?
There are <strong>many reasons!</strong></p>
</div>
</div>
<p>The overall aim of these materials is help you conduct code-driven research <strong>more efficiently</strong> and with <strong>greater confidence</strong>.</p>
<p>Hopefully some of the following reasons resonate with you.</p>
<ul>
<li>
<p><strong>Fearlessly modify your code</strong>, knowing that your past work is never lost, by using <a href="./version-control/">version control</a>.</p>
</li>
<li>
<p><strong>Verify that your code behaves as expected</strong>, and get notified when it doesn't, by <a href="./testing/">writing tests</a>.</p>
</li>
<li>
<p><strong>Ensure that your results won't change</strong> when running on a different computer by &quot;baking in&quot; <a href="./reproducibility/">reproducibility</a>.</p>
</li>
<li>
<p><strong>Improve your coding skills</strong>, and those of your colleagues, by working <a href="./collaborating/">collaboratively</a> and making use of <a href="./collaborating/peer-code-review.html">peer code review</a>.</p>
</li>
<li>
<p><strong>Run your code quickly</strong>, and without relying on your own laptop or computer, by using <a href="./high-performance-computing/">high-performance computing</a>.</p>
</li>
</ul>
<div id="admonition-foundations-of-effective-research" class="admonition tip">
<div class="admonition-title">
<p>Foundations of effective research</p>
<p><a class="admonition-anchor-link" href="index.html#admonition-foundations-of-effective-research"></a></p>
</div>
<div>
<p>A piece of code is often useful beyond a single project or study.</p>
<p>By applying the above skills in your research, you will be able to easily reproduce past results, extend your code to address new questions and problems, and allow others to build on your code in their own research.</p>
<p><strong>The benefits of good practices can continue to pay off long after the project is finished</strong>.</p>
</div>
</div>
<h2 id="structure"><a class="header" href="#structure">Structure</a></h2>
<p>These materials are divided into the following sections:</p>
<ol>
<li>
<p>Understanding <a href="./version-control/">version control</a>, which provides you with a complete and annotated history of your work, and with powerful ways to search and examine this history.</p>
</li>
<li>
<p>Learning to use <a href="./using-git/">Git</a>, the most widely used version control system, which is the foundation of popular code-hosting services such as <a href="https://github.com/">GitHub</a>, <a href="https://gitlab.com/public">GitLab</a>, and <a href="https://bitbucket.org/">Bitbucket</a>.</p>
</li>
<li>
<p>Using Git to <a href="./collaborating/">collaborate with colleagues</a> in a precisely controlled and manageable way.</p>
</li>
<li>
<p>Learn how to <a href="./project-structure/">structure your project</a> so that it is easier for yourself and others to navigate.</p>
</li>
<li>
<p>Learn how to <a href="./writing-code/">write code</a> so that it clearly expresses your intent and ideas.</p>
</li>
<li>
<p>Ensuring that your research is <a href="./reproducibility/">reproducible by others</a>.</p>
</li>
<li>
<p>Using <a href="./testing/">testing frameworks</a> to verify that your code behaves as intended, and to automatically detect when you introduce a bug or mistake into your code.</p>
</li>
<li>
<p>Running your code on various <a href="">computing platforms</a> that allow you to obtain results efficiently and without relying on your own laptop/computer.</p>
</li>
<li>
<p><a href="./case-studies/">Case studies</a> where EMCRs showcase how their research activities are enabled and/or supported by these tools.</p>
</li>
<li>
<p>We are organising a <a href="./community/">Community of Practice</a> that will act as a living curriculum, and will use this section to record the findings and outputs of our community activities.</p>
</li>
</ol>
<h2 id="how-to-contribute"><a class="header" href="#how-to-contribute">How to contribute</a></h2>
<p>If you have any comments, feedback, or suggestions, please see the <a href="how-to-contribute.html">How to contribute</a> page.</p>
<h2 id="license"><a class="header" href="#license">License</a></h2>
<p>This work is licensed under a <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
<!-- NOTE: cannot link to README.md outside of SUMMARY.md
     https://github.com/rust-lang/mdBook/issues/984 -->
<div class="footnote-definition" id="tools"><sup class="footnote-definition-label">1</sup>
<p>Such as <a href="./version-control/">version control</a> and <a href="./testing/">testing frameworks</a>.</p>
</div>
<div class="footnote-definition" id="infra"><sup class="footnote-definition-label">2</sup>
<p>Such as the <a href="https://ardc.edu.au/services/nectar-research-cloud/">ARDC Nectar Research Cloud</a> and <a href="https://dashboard.hpc.unimelb.edu.au/">Spartan</a>.</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="learning-objectives"><a class="header" href="#learning-objectives">Learning objectives</a></h1>
<p>This page defines the learning objectives for individual sections.
These are skills that the reader should be able to demonstrate after reading through the relevant section, and completing any exercises in that section.</p>
<h2 id="version-control-concepts"><a class="header" href="#version-control-concepts">Version control concepts</a></h2>
<p>After completing <a href="version-control/">this section</a>, you should be able to identify how to apply version control concepts to your existing work.
This includes being able to:</p>
<ul>
<li>
<p>Identify projects and tasks for which version control would be suitable;</p>
</li>
<li>
<p>Categorise recent work activities into one or more commits;</p>
</li>
<li>
<p>Write commit messages that describe what changes you made and why you made them; and</p>
</li>
<li>
<p>Identify pieces of work that could be carried out in separate branches of a repository.</p>
</li>
</ul>
<h2 id="effective-use-of-git"><a class="header" href="#effective-use-of-git">Effective use of git</a></h2>
<p>After completing <a href="using-git/">this section</a>, you should be able to:</p>
<ul>
<li>
<p>Create a local repository;</p>
</li>
<li>
<p>Create commits in your local repository;</p>
</li>
<li>
<p>Search your commit history to identify commits that made a specific change;</p>
</li>
<li>
<p>Create a remote repository;</p>
</li>
<li>
<p>Push commits from your local repository to a remote repository;</p>
</li>
<li>
<p>Pull commits from a remote repository to your local repository;</p>
</li>
<li>
<p>Use tags to identify important milestones;</p>
</li>
<li>
<p>Work in a separate branch and then merge your changes into your main branch; and</p>
</li>
<li>
<p>Resolve merge conflicts.</p>
</li>
</ul>
<h2 id="collaborating"><a class="header" href="#collaborating">Collaborating</a></h2>
<p>After completing <a href="collaborating/">this section</a>, you should be able to:</p>
<ul>
<li>
<p><strong>Share a repository</strong> with one or more collaborators;</p>
</li>
<li>
<p>Create a <strong>pull request</strong>;</p>
</li>
<li>
<p>Use a pull request to <strong>review a collaborator's work</strong>;</p>
</li>
<li>
<p>Use a pull request to <strong>merge a collaborator's work</strong> into your main branch; and</p>
</li>
<li>
<p><strong>Conduct peer code review</strong> in a respectful manner.</p>
</li>
</ul>
<h2 id="project-structure"><a class="header" href="#project-structure">Project structure</a></h2>
<p>After completing <a href="project-structure/">this section</a>, you should be able to:</p>
<ul>
<li>
<p>Understand how to structure a new project;</p>
</li>
<li>
<p>Understand how to separate &quot;what to do&quot; from &quot;how to do it&quot;; and</p>
</li>
<li>
<p>Structure your code to enable new experiments and analyses.</p>
</li>
</ul>
<h2 id="writing-code"><a class="header" href="#writing-code">Writing code</a></h2>
<p>After completing <a href="writing-code/">this section</a>, you should be able to:</p>
<ul>
<li>
<p>Divide your code into functions and modules;</p>
</li>
<li>
<p>Ensure that your code is a clear expression of your ideas;</p>
</li>
<li>
<p>Structure your code into reusable packages; and</p>
</li>
<li>
<p>Take advantage of code formatters and code linters.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h1>
<p>These materials assume that the reader has a basic knowledge of the Bash command-line shell and using SSH to connect to remote computers.
You should be comfortable with using the command-line to perform the following tasks:</p>
<ul>
<li>Navigate your files and directories;</li>
<li>Create, copy, move, and delete files and directories; and</li>
<li>Work remotely using SSH.</li>
</ul>
<p>Please refer to the following materials for further details:</p>
<ul>
<li><a href="https://swcarpentry.github.io/shell-novice/">The Unix Shell</a>: an introduction to using Bash.</li>
<li><a href="https://carpentries-incubator.github.io/shell-extras/">Extra Unix Shell Material</a>: additional shell lessons, including SSH.</li>
</ul>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="prerequisites.html#admonition-info"></a></p>
</div>
<div>
<p>If you use Windows, you may want to use PowerShell instead of Bash, in which case please refer to this <a href="https://doi.org/10.46430/phen0054">Introduction to the Windows Command Line with Powershell</a>.</p>
</div>
</div>
<p>Some chapters also assume that the reader has an account on <a href="https://github.com/">GitHub</a> and has <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account">added an SSH key</a> to their account.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="version-control-concepts-1"><a class="header" href="#version-control-concepts-1">Version control concepts</a></h1>
<p>This section provides a high-level introduction to the concepts that you should understand in order to make effective use of version control.</p>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="version-control/index.html#admonition-info"></a></p>
</div>
<div>
<p>Version control can turn your files into a lab book that captures the broader context of your research activities and that you can easily search and reproduce.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="what-is-version-control"><a class="header" href="#what-is-version-control">What is version control?</a></h1>
<p>Version control is a way of systematically recording changes to files (such as computer code and data files).
This allows you to restore any previous version of a file.
More importantly, this history of changes can be queried, and each set of changes can include additional information, such as who made the changes and an explanation of why the changes were made.</p>
<blockquote>
<p>A core component of making great decisions is understanding the rationale behind previous decisions.
If we don't understand how we got &quot;here&quot;, we run the risk of making things much worse.</p>
<p>— <a href="https://fs.blog/chestertons-fence/">Chesterton's Fence</a></p>
</blockquote>
<p>For academic research activities that involve data analysis or simulation modelling, some key uses of version control are:</p>
<ul>
<li>
<p>You can use it as a <strong>log book</strong>, and capture a detailed and permanent record of every step of your research.
This is extremely helpful for people — <strong>including you!</strong> — who want to understand and make use of your work.</p>
</li>
<li>
<p>You can <strong>collaborate</strong> with others in a systematic way, ensuring that everyone has access to the most recent files and data, and review everyone's contributions.</p>
</li>
<li>
<p>You can <strong>inspect the changes</strong> made over a period of interest (e.g., &quot;What have I done in the last week?&quot;).</p>
</li>
<li>
<p>You can <strong>identify when a specific change occurred</strong>, and what other changes were made at the same time (e.g., &quot;What changes did I make that affected this output figure?&quot;).</p>
</li>
</ul>
<p>In this book we will focus on the <a href="https://git-scm.com/">Git</a> version control system, which is used by popular online platforms such as <a href="https://github.com/">GitHub</a>, <a href="https://gitlab.com/public">GitLab</a>, and <a href="https://bitbucket.org/">Bitbucket</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="what-is-a-repository"><a class="header" href="#what-is-a-repository">What is a repository?</a></h1>
<p>A repository records a set of files managed by a version control system, including the historical record of changes made to these files.</p>
<p>You can create as many repositories as you want.
Each repository should be a single &quot;thing&quot;, such as a research project or a journal article, and should be located in a separate directory.</p>
<p>You will generally have at least two copies of each repository:</p>
<ol>
<li>
<p>A <strong>local repository</strong> on your computer; and</p>
</li>
<li>
<p>A <strong>remote repository</strong> on a service such as GitHub, or a University-provided platform (such as the University of Melbourne's <a href="https://gitlab.unimelb.edu.au/">GitLab instance</a>).</p>
</li>
</ol>
<p>You make changes in your local repository and &quot;push&quot; them to the remote repository.
You can share this remote repository with your collaborators and supervisors, and they will be able to see all of the changes that you have pushed.</p>
<p>You can also allow collaborators to push their own changes to the remote repository, and then &quot;pull&quot; them into your local repository.
This is one way in which you can use version control to work collaboratively on a project.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="what-is-a-commit"><a class="header" href="#what-is-a-commit">What is a commit?</a></h1>
<p>A &quot;commit&quot; is a set of changes to one or more files in a repository.
These changes can include:</p>
<ul>
<li>Adding lines to a file;</li>
<li>Removing lines from a file;</li>
<li>Changing lines in a file;</li>
<li>Adding new files; and</li>
<li>Deleting existing files.</li>
</ul>
<p>Each commit also includes the date and time that it was created, the user that created it, and a <a href="version-control/how-do-I-write-a-commit-message.html">commit message</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="what-should-i-commit"><a class="header" href="#what-should-i-commit">What should I commit?</a></h1>
<p>A commit should represent a <strong>unit of work</strong>.</p>
<p>If you've made changes that represent multiple units of work (e.g., changing how input data are processed, and adding a new model parameter) these should be saved as separate commits.</p>
<p>Try describing out loud the changes you have made, and if you find yourself saying something like &quot;I did X and Y and Z&quot;, then the changes should probably divided into multiple commits.</p>
<p>A helpful guideline is &quot;<strong>commit early, commit often</strong>&quot;.</p>
<h2 id="commit-early"><a class="header" href="#commit-early">Commit early</a></h2>
<ul>
<li>
<p>Don't delay creating a commit because &quot;it's not ready yet&quot;.</p>
</li>
<li>
<p>A commit doesn't have to be &quot;perfect&quot;.</p>
</li>
</ul>
<h2 id="commit-often"><a class="header" href="#commit-often">Commit often</a></h2>
<ul>
<li>
<p>Small, focused commits are <strong>extremely helpful</strong> when trying to identify the cause of an unintended change in your code's behaviour or output.</p>
</li>
<li>
<p>There is no such thing as too many commits.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-do-i-write-a-commit-message"><a class="header" href="#how-do-i-write-a-commit-message">How do I write a commit message?</a></h1>
<p>Commit messages are shown as part of the repository history (e.g., when running <code>git log</code>).
Each message consists of a short one-line description, followed by as much or as little text as required.</p>
<p>You should treat these messages as <strong>entries in a log book</strong>.
Explain what changes were made and <strong>why</strong> they were made.
This can help collaborators understand what we have done, but more importantly is acts as a record for our future selves.</p>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="version-control/how-do-I-write-a-commit-message.html#admonition-info"></a></p>
</div>
<div>
<p>Have you ever looked at code you wrote a long time ago <em>and wondered what you were thinking?</em></p>
<p>A history of detailed commit messages should allow you to answer this question!</p>
<p>Remember that <strong>code is harder to read than it is to write</strong> (<a href="https://www.joelonsoftware.com/2000/04/06/things-you-should-never-do-part-i/">Joel Spolsky</a>).</p>
</div>
</div>
<p>For example, rather than writing:</p>
<blockquote>
<p>Added model</p>
</blockquote>
<p>You could write something like:</p>
<blockquote>
<p>Implemented the initial model</p>
<p>This model includes all of the core features that we need to fit the data,
but there several other features that we intend to add:</p>
<p>- Parameter X is currently constant, but we may need to allow it to vary
over time;</p>
<p>- Parameter Y should probably be a hyperparameter; and</p>
<p>- The population includes age-structured mixing, but we need to also include
age-specific outcomes, even though there is very little data to suggest
what the age effects might be.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="what-is-a-tag"><a class="header" href="#what-is-a-tag">What is a tag?</a></h1>
<p>A tag is a short, unique name that identifies a specific commit.
You can use tags as bookmarks for interesting or important commits.
Common uses of tags include:</p>
<ul>
<li>
<p>Identifying manuscript revisions: <code>draft-1</code>, <code>submitted-version</code>, <code>revision-1</code>, etc.</p>
</li>
<li>
<p>Identifying software package versions: <code>v1.0</code>, <code>v1.1</code>, <code>v2.0</code>, etc.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="what-is-a-branch"><a class="header" href="#what-is-a-branch">What is a branch?</a></h1>
<p>A branch allows you create a series of commits that are separate from the main history of your repository.
They can be used for units of work that are too large to be a single commit.</p>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="version-control/what-is-a-branch.html#admonition-info"></a></p>
</div>
<div>
<p>It is easy to switch between branches!
You can work on multiple ideas or tasks in parallel.</p>
</div>
</div>
<p>Consider a repository with three commits: commit A, followed by commit B, followed by commit C:</p>
<p><img src="version-control/branch-1.png" alt="A single branch" /></p>
<p>At this point, you might consider two ways to implement a new model feature.
One way to do this is to create a separate branch for each implementation:</p>
<p><img src="version-control/branch-2.png" alt="Multiple branches" /></p>
<p>You can work on each branch, <strong>and switch between them</strong>, in the same local repository.</p>
<p>If you decide that the first implementation (the green branch) is the best way to proceed, you can then <strong>merge</strong> this branch back into your main branch.
This means that your main branch now contains six commits (A to F), and you can continue adding new commits to your main branch:</p>
<p><img src="version-control/branch-3.png" alt="Merged branch" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="what-is-a-merge-conflict"><a class="header" href="#what-is-a-merge-conflict">What is a merge conflict?</a></h1>
<p>In <a href="version-control/what-is-a-branch.html">What is a branch?</a> we presented an example of successfully merging a branch into another.
However, when we try to merge one branch into another, we may find that the two branches have conflicting changes.
This is known as a <strong>merge conflict</strong>.</p>
<p>Consider two branches that make conflicting changes to the same line of a file:</p>
<ol>
<li>
<pre><code class="language-diff"> First line
-Second line
+My new second line
 Third line
</code></pre>
</li>
<li>
<pre><code class="language-diff"> First line
-Second line
+A different second line
 Third line
</code></pre>
</li>
</ol>
<p>There is no way to automatically reconcile these two branches, and <strong>we have to fix this conflict manually</strong>.
This means that we need to decide what the true result should be, edit the file to resolve these conflicting changes, and commit our modifications.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exercise-using-version-control"><a class="header" href="#exercise-using-version-control">Exercise: using version control</a></h1>
<p>In this section we have introduced version control, and outlined how it can be <a href="version-control/what-is-version-control.html">useful for academic research activities</a>, including:</p>
<ul>
<li>Capturing a detailed, annotated record of your research;</li>
<li>Inspecting changes made between any two moments in time;</li>
<li>Identifying when a specific change was made; and</li>
<li>Sharing your research with collaborators.</li>
</ul>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="version-control/exercise-using-version-control.html#admonition-info"></a></p>
</div>
<div>
<p>We'd now like you think about how version control might be useful to you and your research.
`</p>
</div>
</div>
<p>Have you experienced any issues or challenges in your career where version control would have been helpful?
For example:</p>
<ul>
<li>
<p>Have you ever looked at some of your older code and had difficulty understanding what it is doing, how it works, or why it was written?</p>
</li>
<li>
<p>Have you ever had difficulties identifying what code and/or data were used to generate a particular analysis or output?</p>
</li>
<li>
<p>Have you ever discovered a bug in your code and tried to identify when it was introduced, or what outputs it might have affected?</p>
</li>
<li>
<p>When collaborating on a research project, have you ever had challenges in making sure that everyone was working with the most recent files?</p>
</li>
</ul>
<p>How can you use version control in your current research project(s)?</p>
<ul>
<li>
<p>Do you have an existing project or piece of code that could benefit from being stored in a repository?</p>
</li>
<li>
<p>Have you recently written any code that could be recorded as one or more commits?</p>
</li>
<li>
<p>If so, what would you write for the commit messages?</p>
</li>
<li>
<p>Have you written some exploratory code or analysis that could be stored in a separate branch?</p>
</li>
</ul>
<p>Having looked at the use of version control in the past and present, how would using version control benefit you?</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="effective-use-of-git-1"><a class="header" href="#effective-use-of-git-1">Effective use of git</a></h1>
<p>This section shows how to use the <code>git</code> command-line program to record your work, to inspect your commit history, and to search this commit history to identify commits that make specific changes or have specific effects.</p>
<div id="admonition-reminder" class="admonition tip">
<div class="admonition-title">
<p>Reminder</p>
<p><a class="admonition-anchor-link" href="using-git/index.html#admonition-reminder"></a></p>
</div>
<div>
<p>Remember to <a href="using-git/../version-control/what-should-I-commit.html">commit early and commit often</a>.
<strong>Do not wait</strong> until your code is &quot;perfect&quot;.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="graphical-git-clients"><a class="header" href="#graphical-git-clients">Graphical Git clients</a></h1>
<p>While Git is a command-line program, there are other ways to work with Git repositories:</p>
<ul>
<li>
<p>There are many <a href="https://git-scm.com/downloads/guis">graphical clients</a> that you can download and use;</p>
</li>
<li>
<p>Many editors include Git support (e.g., <a href="https://atom.io/">Atom</a>, <a href="https://www.rstudio.com/">RStudio</a>, <a href="https://code.visualstudio.com/">Visual Studio Code</a>); and</p>
</li>
<li>
<p>Online platforms such as <a href="https://github.com/">GitHub</a>, <a href="https://gitlab.com/public">GitLab</a>, and <a href="https://bitbucket.org/">Bitbucket</a> also provide a graphical interface for common Git actions.</p>
</li>
</ul>
<p>In this book we will primarily show how to use Git <strong>from the command-line</strong>, but all of the concepts and terminology should also apply to all of the tools described above.
If you don't have Git already installed on your computer, see these <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">instructions for installing Git</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="first-time-git-setup"><a class="header" href="#first-time-git-setup">First-time Git setup</a></h1>
<p>Once you've installed Git, you should define some important settings before you starting using Git.</p>
<ol>
<li>
<p>Define your user name and email address.
These details are included in <strong>every commit that you create</strong>.</p>
<pre><code class="language-sh">git config --global user.name &quot;My Name&quot;
git config --global user.email &quot;my.name@some-university.edu.au&quot;
</code></pre>
</li>
<li>
<p>Define the text editor that Git should use for tasks such as writing commit messages:</p>
<pre><code class="language-sh">git config --global core.editor editor-name
</code></pre>
<p><strong>NOTE:</strong> on Windows you need to specify the full path to the editor:</p>
<pre><code class="language-sh">git config --global core.editor &quot;C:/Program Files/My Editor/editor.exe&quot;
</code></pre>
</li>
</ol>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="using-git/first-time-git-setup.html#admonition-tip"></a></p>
</div>
<div>
<p>Please see <a href="using-git/choosing-your-git-editor.html">Choosing your Git editor</a> for details.</p>
</div>
</div>
<ol start="3">
<li>
<p>By default, Git will create a branch called <code>master</code> when you create a new repository.
You can set a different name for this initial branch:</p>
<pre><code class="language-sh">git config --global init.defaultBranch main
</code></pre>
</li>
<li>
<p>Ensure that repository histories always record when branches were merged:</p>
<pre><code class="language-sh">git config --global merge.ff no
</code></pre>
<p>This prevents Git from <a href="https://www.atlassian.com/git/tutorials/using-branches/git-merge">&quot;fast-forwarding&quot;</a> when the destination branch contains no new commits.
For example, it ensures that when you merge the green branch into the blue branch (as shown below) it records that commits <em>D</em>, <em>E</em>, and <em>F</em> came from the green branch.</p>
<p><img src="using-git/../version-control/branch-3.png" alt="Merged branch" /></p>
</li>
</ol>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="using-git/first-time-git-setup.html#admonition-info"></a></p>
</div>
<div>
<p>If you use Windows, there are tools that can <a href="https://git-scm.com/book/en/v2/Appendix-A%3A-Git-in-Other-Environments-Git-in-PowerShell">improve your Git experience in PowerShell</a>.</p>
<p>There are also tools for integrating Git into many common text editors.
See <em>Git in other environments</em>, Appendix A of the <a href="https://git-scm.com/book/en/v2">Pro Git book</a>.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="choosing-your-git-editor"><a class="header" href="#choosing-your-git-editor">Choosing your Git editor</a></h1>
<p>In this video, we show how to use <a href="https://www.nano-editor.org/">nano</a> and <a href="https://www.vim.org/">vim</a> for writing commit messages.
See below for brief instructions on how to use these editors.</p>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="using-git/choosing-your-git-editor.html#admonition-tip"></a></p>
</div>
<div>
<p>This editor is <strong>only used for writing commit messages</strong>.
It is entirely separate from your choice of editor for any other task, such as writing code.</p>
</div>
</div>
<div class="tabbed-blocks">
<div class="tabbed-block" data-tab-title="Git editor example">
  <div id="demo" data-cast-file="git-editor-example.cast"></div>
<p>Video timeline:</p>
<ol>
    <li><a data-video="demo" data-seek-to="4" href="javascript:;">Overview</a></li>
    <li><a data-video="demo" data-seek-to="17" href="javascript:;">Show how to use nano</a></li>
    <li><a data-video="demo" data-seek-to="71" href="javascript:;">Show how to use vim</a></li>
  </ol>
</div>
</div>
<div id="admonition-note" class="admonition note">
<div class="admonition-title">
<p>Note</p>
<p><a class="admonition-anchor-link" href="using-git/choosing-your-git-editor.html#admonition-note"></a></p>
</div>
<div>
<p>You can pause the video to <strong>select and copy any of the text</strong>, such as the <code> git config --global core.editor</code> commands.</p>
</div>
</div>
<h2 id="how-to-use-nano"><a class="header" href="#how-to-use-nano">How to use nano</a></h2>
<p>Once you have written your commit message, press <kbd>Ctrl</kbd> + <kbd>O</kbd> and then <kbd>Enter</kbd> to save the commit message, then press <kbd>Ctrl</kbd> + <kbd>X</kbd> to quit the editor.</p>
<p><strong>To quit without saving</strong> press <kbd>Ctrl</kbd> + <kbd>X</kbd>.
If you have made any changes, <code>nano</code> will ask if you want to save them.
Press <kbd>n</kbd> to quit without saving these changes.</p>
<h2 id="how-to-use-vim"><a class="header" href="#how-to-use-vim">How to use vim</a></h2>
<p>You need to press <kbd>i</kbd> (switch to insert mode) before you can write your commit message.
Once you have written your commit message, press <kbd>Esc</kbd> and then type <kbd>:wq</kbd> to save your changes and quit the editor.</p>
<p><strong>To quit without saving</strong> press <kbd>Esc</kbd> and then type <kbd>:q!</kbd>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="creating-a-repository"><a class="header" href="#creating-a-repository">Creating a repository</a></h1>
<p>You can create repositories by running <code>git init</code>.
This will create a <code>.git</code> directory that will contain all of the repository information.</p>
<p>There are two common ways to use <code>git init</code>:</p>
<ol>
<li>
<p>Create an empty repository <strong>in the current directory</strong>, by running:</p>
<pre><code class="language-sh">git init
</code></pre>
</li>
<li>
<p>Create an empty repository <strong>in a specific directory</strong>, by running:</p>
<pre><code class="language-sh">git init path/to/repository
</code></pre>
</li>
</ol>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="using-git/creating-a-repository.html#admonition-info"></a></p>
</div>
<div>
<p>Git will create the repository directory if it does not exist.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cloning-an-existing-repository"><a class="header" href="#cloning-an-existing-repository">Cloning an existing repository</a></h1>
<p>If there is an existing repository that you want to work on, you can &quot;clone&quot; the repository and have a local copy.
To do this, you need to know the remote repository's URL.</p>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="using-git/cloning-an-existing-repository.html#admonition-tip"></a></p>
</div>
<div>
<p>For GitHub repositories, there should be a green button labelled &quot;Code&quot;.
Click on this button, and it will provide you with the URL.</p>
</div>
</div>
<p>You can then make a local copy of the repository by running:</p>
<pre><code class="language-sh">git clone URL
</code></pre>
<p>For example, to make a local copy of this book, run the following command:</p>
<pre><code class="language-sh">git clone https://github.com/robmoss/git-is-my-lab-book.git
</code></pre>
<p>This will create a local copy in the directory <code>git-is-my-lab-book</code>.</p>
<div id="admonition-note" class="admonition note">
<div class="admonition-title">
<p>Note</p>
<p><a class="admonition-anchor-link" href="using-git/cloning-an-existing-repository.html#admonition-note"></a></p>
</div>
<div>
<p>If you have a GitHub account and have set up an SSH key, you can clone GitHub repositories using your SSH key.
This will allow you to push commits to the remote repository (if you are permitted to do so) without having to enter your user name and password.</p>
<p>You can obtain the SSH URL from GitHub by clicking on the green &quot;Code&quot; button, and selecting the &quot;SSH&quot; tab.</p>
<p>For example, to make a local copy of this book using SSH, run the following command:</p>
<pre><code class="language-sh">git clone git@github.com:robmoss/git-is-my-lab-book.git
</code></pre>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-structure-a-repository"><a class="header" href="#how-to-structure-a-repository">How to structure a repository</a></h1>
<p>While there is no single &quot;best&quot; way to structure a repository, there are some guidelines that you can follow.
The key aims are to ensure that your files are logically organised, and that others can easily navigate the repository.</p>
<h2 id="divide-your-repository-into-multiple-directories"><a class="header" href="#divide-your-repository-into-multiple-directories">Divide your repository into multiple directories</a></h2>
<p>It is generally a good idea to have separate directories for different types of files.
For example, your repository might contain any of these different file types, and you should at least consider storing each of them in a separate directory:</p>
<ul>
<li>Input data files (which you may have received from a collaborator);</li>
<li>Cleaned and/or processed input files (e.g., if you aggregate the input data before using it);</li>
<li>Data analysis code;</li>
<li>Simulation/model code;</li>
<li>Output data files;</li>
<li>Plotting scripts that extract results from the output data files;</li>
<li>Output figures produced by the plotting scripts; and</li>
<li>Manuscript text and bibliography files.</li>
</ul>
<h2 id="use-descriptive-names-for-directories-and-files"><a class="header" href="#use-descriptive-names-for-directories-and-files">Use descriptive names for directories and files</a></h2>
<p>Choosing file names that indicate what each file/directory contains can help other people, such as your collaborators, navigate your repository.
They can also <strong>help you</strong> when you return to a project after several weeks or months.</p>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="using-git/how-to-structure-a-repository.html#admonition-tip"></a></p>
</div>
<div>
<p>Have you ever asked yourself &quot;where is the file that contains X&quot;?</p>
<p>Use descriptive file names, and the answer might be right in front of you!</p>
</div>
</div>
<h2 id="include-a-readme-file"><a class="header" href="#include-a-readme-file">Include a <code>README</code> file</a></h2>
<p>You can write this in Markdown (<code>README.md</code>), in plain text (<code>README</code> or <code>README.txt</code>), or in any other suitable format.
For example, Python projects often use reStructuredText and have a <code>README.rst</code> file.</p>
<p>This file should begin with a brief description of <strong>why</strong> the repository was created and <strong>what</strong> it contains.</p>
<p>Importantly, this file should also mention:</p>
<ul>
<li>
<p>How the files and directories are arranged.
Help your collaborators understand where they need to look in order to find something.</p>
</li>
<li>
<p>How to run important pieces of code (e.g., to generate output data files or figures).</p>
</li>
<li>
<p>The software packages and/or libraries that are required run any of the code in this repository.</p>
</li>
<li>
<p>The <a href="using-git/choosing-a-license.html">license</a> (if any) under which the repository contents are being made available.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="choosing-a-license"><a class="header" href="#choosing-a-license">Choosing a license</a></h1>
<p>A license specifies the conditions under which others may use, modify, and/or distribute your work.</p>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="using-git/choosing-a-license.html#admonition-info"></a></p>
</div>
<div>
<p>Simply making a repository publicly accessible is <strong>not sufficient</strong> to allow others to make use of your work.
Unless you include a license that specifies otherwise, <a href="https://choosealicense.com/no-permission/">nobody else</a> can copy, distribute, or modify your work.</p>
</div>
</div>
<p>There are many different types of licenses that you can use, and the number of options can seem overwhelming.
But it is usually straightforward to narrow down your options.</p>
<ul>
<li>
<p>If you're working on an <strong>existing project</strong>, the easiest option is to use that project's license.</p>
</li>
<li>
<p>If you're working with an <strong>existing community</strong>, they may have a <a href="https://choosealicense.com/community/">preferred license</a>.</p>
</li>
<li>
<p>If you want to choose an <strong>open source license</strong>, the <a href="https://choosealicense.com/">Choose an open source license</a> website  provides advice for selecting a license that meets your needs.</p>
</li>
</ul>
<p>For further information about the various types of available licenses, and some advice for selecting a suitable license for academic software, see <a href="https://doi.org/10.1371/journal.pcbi.1002598">A Quick Guide to Software Licensing for the Scientist-Programmer</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="creating-a-commit"><a class="header" href="#creating-a-commit">Creating a commit</a></h1>
<p>Creating a commit involves two steps:</p>
<ol>
<li>
<p>Identify the changes that should be included in the commit.
These changes are then &quot;staged&quot; and ready to be included in the next commit.</p>
</li>
<li>
<p>Create a new commit that records these staged changes.
This should be accompanied by <a href="using-git/../version-control/how-do-I-write-a-commit-message.html">a useful commit message</a>.</p>
</li>
</ol>
<p>We will now show how to perform these steps.</p>
<div id="admonition-note" class="admonition note">
<div class="admonition-title">
<p>Note</p>
<p><a class="admonition-anchor-link" href="using-git/creating-a-commit.html#admonition-note"></a></p>
</div>
<div>
<p>At any time, you can see a summary of the changes in your repository, and which ones are staged to be committed, by running:</p>
<pre><code class="language-sh">git status
</code></pre>
<p>This will show you:</p>
<ol>
<li>The files (if any) that contain changes that have been staged;</li>
<li>The files (if any) that contain changes that have not been staged; and</li>
<li>The files (if any) that are not recorded in the repository history.</li>
</ol>
</div>
</div>
<h2 id="adding-a-new-file"><a class="header" href="#adding-a-new-file">Adding a new file</a></h2>
<p>If you've created a new file, you can include this file in the next commit by running:</p>
<pre><code class="language-sh">git add filename
</code></pre>
<h2 id="adding-all-changes-in-an-existing-file"><a class="header" href="#adding-all-changes-in-an-existing-file">Adding all changes in an existing file</a></h2>
<p>If you've made changes to an existing file, you can include all of these changes in the next commit by running:</p>
<pre><code class="language-sh">git add filename
</code></pre>
<h2 id="adding-some-changes-in-an-existing-file"><a class="header" href="#adding-some-changes-in-an-existing-file">Adding some changes in an existing file</a></h2>
<p>If you've made changes to an existing file and only want to include <strong>some of these changes</strong> in the next commit, you can select the changes to include by running:</p>
<pre><code class="language-sh">git add -p filename
</code></pre>
<p>This will show you each of the changes in turn, and allow you select which ones to stage.</p>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="using-git/creating-a-commit.html#admonition-tip"></a></p>
</div>
<div>
<p>This interactive selection mode is very flexible; you can enter <code>?</code> at any of the prompts to see the range of available actions.</p>
</div>
</div>
<h2 id="renaming-a-file"><a class="header" href="#renaming-a-file">Renaming a file</a></h2>
<p>If you want to rename a file, you can use <code>git mv</code> to rename the file <strong>and</strong> stage this change for inclusion in the next commit:</p>
<pre><code class="language-sh">git mv filename newname
</code></pre>
<h2 id="removing-a-file"><a class="header" href="#removing-a-file">Removing a file</a></h2>
<p>If you want to remove a file, you can use <code>git rm</code> to remove the file <strong>and</strong> stage this change for inclusion in the next commit:</p>
<pre><code class="language-sh">git rm filename
</code></pre>
<div id="admonition-tip-1" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="using-git/creating-a-commit.html#admonition-tip-1"></a></p>
</div>
<div>
<p>If the file has any uncommitted changes, git will refuse to remove the file.
You can override this behaviour by running:</p>
<pre><code class="language-sh">git rm --force filename
</code></pre>
</div>
</div>
<h2 id="inspecting-the-staged-changes"><a class="header" href="#inspecting-the-staged-changes">Inspecting the staged changes</a></h2>
<p>To verify that you have staged all of the desired changes, you can view the staged changes by running:</p>
<pre><code class="language-sh">git diff --cached
</code></pre>
<p>You can view the staged changes for a specific file by running:</p>
<pre><code class="language-sh">git diff --cached filename
</code></pre>
<h2 id="undoing-a-staged-change"><a class="header" href="#undoing-a-staged-change">Undoing a staged change</a></h2>
<p>You may sometimes stage a change for inclusion in the next commit, but decide later that you don't want to include it in the next commit.
You can undo staged changes to a file by running:</p>
<pre><code class="language-sh">git restore --staged filename
</code></pre>
<div id="admonition-note-1" class="admonition note">
<div class="admonition-title">
<p>Note</p>
<p><a class="admonition-anchor-link" href="using-git/creating-a-commit.html#admonition-note-1"></a></p>
</div>
<div>
<p>This <strong>will not modify</strong> the contents of the file.</p>
</div>
</div>
<h2 id="creating-a-new-commit"><a class="header" href="#creating-a-new-commit">Creating a new commit</a></h2>
<p>Once you have staged all of the changes that you want to include in the commit, create the commit by running:</p>
<pre><code class="language-sh">git commit
</code></pre>
<p>This will open your <a href="using-git/first-time-git-setup.html">chosen editor</a> and prompt you to write the <a href="using-git/../version-control/how-do-I-write-a-commit-message.html">commit message</a>.</p>
<div id="admonition-tip-2" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="using-git/creating-a-commit.html#admonition-tip-2"></a></p>
</div>
<div>
<p>Note that the commit <strong>will not be created until you exit the editor</strong>.</p>
<p>If you decide that you don't want to create the commit, you can abort this action by closing your editor without saving a commit message.</p>
<p>Please see <a href="using-git/choosing-your-git-editor.html">Choosing your Git editor</a> for details.</p>
</div>
</div>
<h2 id="modifying-the-most-recent-commit"><a class="header" href="#modifying-the-most-recent-commit">Modifying the most recent commit</a></h2>
<p>After you create a commit, you might decide that there are other changes that should be included in the commit.
Git provides a simple way of modifying the most recent commit.</p>
<div id="admonition-warning" class="admonition warning">
<div class="admonition-title">
<p>Warning</p>
<p><a class="admonition-anchor-link" href="using-git/creating-a-commit.html#admonition-warning"></a></p>
</div>
<div>
<p><strong>Do not modify the commit</strong> if you have already pushed it to another repository.
Instead, record a new commit that includes the desired changes.</p>
<p>Remember that your commit history should not be a highly-edited, polished view of your work, but should instead act as a lab book.</p>
<p><strong>Do not worry about creating <a href="using-git/../version-control/what-should-I-commit.html">&quot;perfect&quot;</a> commits!</strong></p>
</div>
</div>
<p>To modify the most recent commit, stage the changes that you want to commit (see the sections above) and add them to the most recent commit by running:</p>
<pre><code class="language-sh">git commit --amend
</code></pre>
<p>This will open your <a href="using-git/first-time-git-setup.html">chosen editor</a> and allow you to modify the commit message.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="creating-a-remote-repository"><a class="header" href="#creating-a-remote-repository">Creating a remote repository</a></h1>
<p>Once you have created a &quot;local&quot; repository (i.e., a repository that exists on your own computer), it is <a href="using-git/../version-control/what-is-a-repository.html">generally a good idea</a> to create a &quot;remote&quot; repository.
You may choose to store this remote repository on a service such as GitHub, or on a University-provided platform.</p>
<p>If you are using GitHub, you can choose to create a <strong>public</strong> repository (viewable by anyone, but you control who can make changes) or a <strong>private</strong> repository (you control who can view and/or make changes).</p>
<h2 id="linking-your-local-and-remote-repositories"><a class="header" href="#linking-your-local-and-remote-repositories">Linking your local and remote repositories</a></h2>
<p>Once you have created the remote repository, you need to link it to your local repository.
This will allow you to &quot;push&quot; commits from your local repository to the remote repository, and to &quot;pull&quot; commits from the remote repository to your local repository.</p>
<div id="admonition-note" class="admonition note">
<div class="admonition-title">
<p>Note</p>
<p><a class="admonition-anchor-link" href="using-git/creating-a-remote-repository.html#admonition-note"></a></p>
</div>
<div>
<p>When you create a new repository on services such as GitHub, they will give you instructions on how to link this new repository to your local repository.
We also provide an example, below.</p>
</div>
</div>
<p>A repository can be linked to more than one remote repository, so we need to choose a name to identify this remote repository.</p>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="using-git/creating-a-remote-repository.html#admonition-info"></a></p>
</div>
<div>
<p>The name &quot;origin&quot; is commonly used to identify the main remote repository.</p>
</div>
</div>
<p>In this example, we link our local repository to the remote repository for this book (<code>https://github.com/robmoss/git-is-my-lab-book</code>) with the following command:</p>
<pre><code class="language-sh">git remote add origin git@github.com:robmoss/git-is-my-lab-book.git
</code></pre>
<div id="admonition-note-1" class="admonition note">
<div class="admonition-title">
<p>Note</p>
<p><a class="admonition-anchor-link" href="using-git/creating-a-remote-repository.html#admonition-note-1"></a></p>
</div>
<div>
<p>Notice that the URL is similar to, <strong>but not identical to</strong>, the URL you use to view the repository in your web browser.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pushing-and-pulling-commits"><a class="header" href="#pushing-and-pulling-commits">Pushing and pulling commits</a></h1>
<p>In general, we &quot;push&quot; commits from our local repository to a remote repository by running:</p>
<pre><code class="language-sh">git push &lt;remote-repository&gt;
</code></pre>
<p>and &quot;pull&quot; commits from a remote repository into our local repository by running:</p>
<pre><code class="language-sh">git pull &lt;remote-repository&gt;
</code></pre>
<p>where <code>&lt;remote-repository&gt;</code> is either a URL <strong>or</strong> the name of a <a href="using-git/creating-a-remote-repository.html">remote repository</a>.</p>
<p>However, we generally want to push to, and pull from, the same remote repository every time.
See the next section for an example of linking the main branch in your local repository with a corresponding &quot;upstream&quot; branch in your remote repository.</p>
<h2 id="pushing-your-first-commit-to-a-remote-repository"><a class="header" href="#pushing-your-first-commit-to-a-remote-repository">Pushing your first commit to a remote repository</a></h2>
<p>In order to push commits from your local repository to a <a href="using-git/creating-a-remote-repository.html">remote repository</a>, we need to create a branch in the remote repository that corresponds to the main branch of our local repository.
This requires that you have <strong>created at least one commit</strong> in your local repository.</p>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="using-git/pushing-and-pulling-commits.html#admonition-tip"></a></p>
</div>
<div>
<p>This is a good time to create a <code>README.md</code> file and write a brief description of what this repository will contain.</p>
</div>
</div>
<p>Once you have at least one commit in your local repository, you can create a corresponding <strong>upstream branch</strong> in the remote repository with the following command:</p>
<pre><code class="language-sh">git push -u origin
</code></pre>
<div id="admonition-note" class="admonition note">
<div class="admonition-title">
<p>Note</p>
<p><a class="admonition-anchor-link" href="using-git/pushing-and-pulling-commits.html#admonition-note"></a></p>
</div>
<div>
<p>Recall that we identify remote repositories by name.
In this example, the remote repository is call &quot;origin&quot;.
You can choose a different name when <a href="using-git/creating-a-remote-repository.html#linking-your-local-and-remote-repositories">linking your local and remote repositories</a>.</p>
</div>
</div>
<p>Once you have defined the <strong>upstream branch</strong>, you can push commits by running:</p>
<pre><code class="language-sh">git push
</code></pre>
<p>and pull commits by running:</p>
<pre><code class="language-sh">git pull
</code></pre>
<p>without having to specify the remote repository.</p>
<h2 id="forcing-updates-to-a-remote-repository"><a class="header" href="#forcing-updates-to-a-remote-repository">Forcing updates to a remote repository</a></h2>
<p>By default, Git will refuse to push commits from a local branch to a remote branch if the remote branch contains any commits that are not in your local branch.
This situation <strong>should not arise</strong> in general, and typically indicates that either someone else has pushed new commits to the remote branch (see the <a href="using-git/../collaborating/">Collaborating</a> section) or that you have altered the history of your local branch.</p>
<p>If you are <strong>absolutely confident</strong> that your local history of commits should replace the contents of the remote branch, you can force this update by running:</p>
<pre><code class="language-sh">git push --force
</code></pre>
<div id="admonition-tip-1" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="using-git/pushing-and-pulling-commits.html#admonition-tip-1"></a></p>
</div>
<div>
<p>Unless you are confident that you understand <strong>why</strong> this situation has occurred, it is probably a good idea to ask for advice before running the above command.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-ignore-certain-files"><a class="header" href="#how-to-ignore-certain-files">How to ignore certain files</a></h1>
<p>Your repository may contain files that you don't want to include in your commit history.
For example, you may not want to include files of the following types:</p>
<ul>
<li><strong>Sensitive data files</strong> for which access must be strictly controlled.</li>
<li><strong>Temporary files</strong> that do not contain useful information, such as:
<ul>
<li><code>.aux</code> files, which are generated when compiling LaTeX documents; and</li>
<li><code>.pyc</code> files, which are generated when running Python code.</li>
</ul>
</li>
<li><strong>Files that can be automatically generated</strong> from your commit history, such as:
<ul>
<li><code>.pdf</code> versions of LaTeX documents; and</li>
<li>documentation generated from your code files.</li>
</ul>
</li>
</ul>
<p>You can instruct Git to ignore certain files by creating a <code>.gitignore</code> file.
This is a plain text file, where each line defines a pattern that identifies files and directories which should be ignored.
You can also add comments, which must start with a <code>#</code>, to explain the purpose of these patterns.</p>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="using-git/how-to-ignore-certain-files.html#admonition-tip"></a></p>
</div>
<div>
<p>If your editor will not accept <code>.gitignore</code> as a file name, you can create a <code>.gitignore</code> file in your repository by running:</p>
<pre><code class="language-sh">touch .gitignore
</code></pre>
</div>
</div>
<p>For example, the following <code>.gitignore</code> file would make Git ignore all <code>.aux</code> and <code>.pyc</code> files, and the file <code>my-paper.pdf</code>:</p>
<pre><code class="language-text"># Ignore all .aux files generated by LaTeX.
*.aux
# Ignore all byte-code files generated by Python.
*.pyc
# Ignore the PDF version of my paper.
my-paper.pdf
</code></pre>
<p>If you have <strong>sensitive data files</strong>, one option is to store them all in a dedicated directory and add this directory to your <code>.gitignore</code> file:</p>
<pre><code class="language-text"># Ignore all data files in the &quot;sensitive-data&quot; directory.
sensitive-data
</code></pre>
<div id="admonition-tip-1" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="using-git/how-to-ignore-certain-files.html#admonition-tip-1"></a></p>
</div>
<div>
<p>You <strong>can</strong> force Git to add an ignored file to a commit by running:</p>
<pre><code class="language-sh">git add --force my-paper.pdf
</code></pre>
<p>But it would generally be better to update your <code>.gitignore</code> file so that it stops ignoring these files.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-create-and-use-tags"><a class="header" href="#how-to-create-and-use-tags">How to create and use tags</a></h1>
<p>Tags allow you to <a href="using-git/../version-control/what-is-a-tag.html">bookmark</a> important points in your commit history.</p>
<p>You can use tags to identify milestones such as:</p>
<ul>
<li>Adding specific features to your model or data analysis (e.g., <code>feature-age-dependent-mixing</code>);</li>
<li>Completing objectives in your research plan (e.g., <code>objective-1</code>, <code>objective-2</code>);</li>
<li>Completed manuscript drafts (e.g., <code>draft-1</code>, <code>draft-2</code>); and</li>
<li>Manuscript submission and revisions (e.g., <code>submitted</code>, <code>revision-1</code>).</li>
</ul>
<h2 id="tagging-the-current-commit"><a class="header" href="#tagging-the-current-commit">Tagging the current commit</a></h2>
<p>You can add a tag (in this example, &quot;my-tag&quot;) to the current commit by running:</p>
<pre><code class="language-sh">git tag -a my-tag
</code></pre>
<p>This will open your <a href="using-git/first-time-git-setup.html">chosen editor</a> and ask you to write a description for this tag.</p>
<h2 id="pushing-tags-to-a-remote-repository"><a class="header" href="#pushing-tags-to-a-remote-repository">Pushing tags to a remote repository</a></h2>
<p>By default, <code>git push</code> <strong>doesn't push tags to remote repositories</strong>.
Instead, you have to explicitly push tags.
You can push a tag (in this example, called &quot;my-tag&quot;) to a remote repository (in this example, called &quot;origin&quot;) by running:</p>
<pre><code class="language-sh">git push origin my-tag
</code></pre>
<p>You can push all of your tags to a remote repository (in this example, called &quot;origin&quot;) by running:</p>
<pre><code class="language-sh">git push origin --tags
</code></pre>
<h2 id="tagging-a-past-commit"><a class="header" href="#tagging-a-past-commit">Tagging a past commit</a></h2>
<p>To add a tag to a previous commit, you can identify the commit by its hash.
For example, you can inspect your commit history by running:</p>
<pre><code class="language-sh">git log --oneline --no-decorate
</code></pre>
<p>If your commit history looks like:</p>
<pre><code class="language-text">003cf6b Show how to ignore certain files
339eb5a Show how to prepare and record commits
6a7fb8b Show how to clone remote repositories
...
</code></pre>
<p>where the current commit is <code>003cf6b</code> (&quot;Show how to ignore certain files&quot;), you can tag the previous commit (&quot;Show how to prepare and record commits&quot;) by running:</p>
<pre><code class="language-sh">git tag -a my-tag 339eb5a
</code></pre>
<h2 id="listing-tags"><a class="header" href="#listing-tags">Listing tags</a></h2>
<p>You can list all tags by running:</p>
<pre><code class="language-sh">git tag
</code></pre>
<p>You can also list only tags that match a specific pattern (in this example, all tags beginning with &quot;my&quot;) by running:</p>
<pre><code class="language-sh">git tag --list 'my*'
</code></pre>
<h2 id="deleting-tags"><a class="header" href="#deleting-tags">Deleting tags</a></h2>
<p>You can delete a tag by running:</p>
<pre><code class="language-sh">git tag --delete my-tag
</code></pre>
<h2 id="creating-a-branch-from-a-tag"><a class="header" href="#creating-a-branch-from-a-tag">Creating a branch from a tag</a></h2>
<p>You can check out a tag and begin working on a new branch by running:</p>
<pre><code class="language-sh">git checkout -b my-branch my-tag
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inspecting-your-history"><a class="header" href="#inspecting-your-history">Inspecting your history</a></h1>
<p>You can inspect your commit history at any time with the <code>git log</code> command.
By default, this command will list every commit <strong>from the very first commit to the current commit</strong>, and for each commit it will show you:</p>
<ul>
<li>The commit identifier (&quot;hash&quot;), which uniquely identifies this commit;</li>
<li>The person who created the commit (&quot;author&quot;);</li>
<li>The date on which the commit was created; and</li>
<li>The commit message.</li>
</ul>
<p>There are many ways to adjust <strong>which commits</strong> and <strong>what details</strong> that <code>git log</code> will show.</p>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="using-git/inspecting-your-history.html#admonition-tip"></a></p>
</div>
<div>
<p>Each commit has a unique identifier (&quot;hash&quot;).
These hashes are quite long, but in general you only need to provide the first 5-7 digits to uniquely identify a specific commit.</p>
</div>
</div>
<h2 id="listing-commits-over-a-specific-time-interval"><a class="header" href="#listing-commits-over-a-specific-time-interval">Listing commits over a specific time interval</a></h2>
<p>You can limit which commits <code>git log</code> will show by specifying a start time and/or an end time.</p>
<div id="admonition-tip-1" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="using-git/inspecting-your-history.html#admonition-tip-1"></a></p>
</div>
<div>
<p>This can be extremely useful for generating <strong>progress reports</strong> and summarising your recent activity in team meetings.</p>
</div>
</div>
<p>For example, you can view commits from the past week by running:</p>
<pre><code class="language-sh">git log --since='7 days'
git log --since='1 week'
</code></pre>
<p>You can view commits made between 1 and 2 weeks ago by running:</p>
<pre><code class="language-sh">git log --since='2 weeks' --until='1 week'
</code></pre>
<p>You can view commits made between specific dates by running:</p>
<pre><code class="language-sh">git log --since='2022/05/12' --until='2022/05/14'
</code></pre>
<h2 id="listing-commits-that-modify-a-specific-file"><a class="header" href="#listing-commits-that-modify-a-specific-file">Listing commits that modify a specific file</a></h2>
<p>You can see which commits have made changes to a file by running:</p>
<pre><code class="language-sh">git log -- filename
</code></pre>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="using-git/inspecting-your-history.html#admonition-info"></a></p>
</div>
<div>
<p>Note the <code>--</code> argument that comes before the file name.
This ensures that if the file name begins with a <code>-</code>, <code>git log</code> will not treat the file name as an option.</p>
</div>
</div>
<h2 id="changing-how-commits-are-displayed"><a class="header" href="#changing-how-commits-are-displayed">Changing how commits are displayed</a></h2>
<p>You can make <code>git log</code> display only the first 7 digits of each commit hash, and the first line of each commit message, by running:</p>
<pre><code class="language-sh">git log --oneline
</code></pre>
<p>This can be a useful way to get a quick overview of the recent history.</p>
<h2 id="viewing-the-contents-of-a-single-commit"><a class="header" href="#viewing-the-contents-of-a-single-commit">Viewing the contents of a single commit</a></h2>
<p>You can identify a commit by its unique identifier (&quot;hash&quot;) or by its tag name (if it has been tagged), and view the commit with <code>git show</code>:</p>
<pre><code class="language-sh">git show commit-hash
git show tag-name
</code></pre>
<p>This will show the commit details <strong>and</strong> all of the changes that were recorded in this commit.</p>
<div id="admonition-tip-2" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="using-git/inspecting-your-history.html#admonition-tip-2"></a></p>
</div>
<div>
<p>By default, <code>git show</code> will show you the most recent commit.</p>
</div>
</div>
<h2 id="viewing-all-changes-over-a-specific-interval"><a class="header" href="#viewing-all-changes-over-a-specific-interval">Viewing all changes over a specific interval</a></h2>
<p>You can view all of the changes that were made between two commits with the <code>git diff</code> command.</p>
<div id="admonition-tip-3" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="using-git/inspecting-your-history.html#admonition-tip-3"></a></p>
</div>
<div>
<p>The <code>git diff</code> command shows the <strong>difference</strong> between two points in your commit history.</p>
<p>Note that <code>git diff</code> <strong>does not</strong> support start and/or end times like <code>git log</code> does; you must use <strong>commit identifiers</strong>.</p>
</div>
</div>
<p>For example, here is a subset of the commit history for <a href="https://github.com/robmoss/git-is-my-lab-book">this book's repository</a>:</p>
<pre><code class="language-text">95eaae5 Note the need for a GitHub account and SSH key
11085f0 Show how to create a branch from a tag
9369482 Show how to create and use tags
003cf6b Show how to ignore certain files
339eb5a Show how to prepare and record commits
6a7fb8b Show how to clone remote repositories
6a49e10 Note that mdbook-admonish must be installed
a8e6114 Fixed the URL for the UoM GitLab instance
5192704 Add a merge conflict exercise
</code></pre>
<p>We can view all of the changes that were made <strong>after</strong> the bottom commit (<code>5192704</code>, &quot;Add a merge conflict exercise&quot;) up to <strong>and including</strong> the top commit (<code>95eaae5</code>, &quot;Note the need for a GitHub account and SSH key&quot;) by running:</p>
<pre><code class="language-sh">git diff 5192704..95eaae5
</code></pre>
<p>In the above example, 8 files were changed, with a total of 310 new lines and 7 deleted lines.
This is a lot of information!
You can print a summary of these changes by running:</p>
<pre><code class="language-sh">git diff --stat 5192704..95eaae5
</code></pre>
<p>This should show you the following details:</p>
<pre><code class="language-text"> README.md                                       |   2 +-
 src/SUMMARY.md                                  |   3 +
 src/prerequisites.md                            |   2 +
 src/using-git/cloning-an-existing-repository.md |  36 ++++++++++
 src/using-git/creating-a-commit.md              | 146 +++++++++++++++++++++++++++++++++++++--
 src/using-git/how-to-create-and-use-tags.md     |  89 ++++++++++++++++++++++++
 src/using-git/how-to-ignore-certain-files.md    |  37 ++++++++++
 src/version-control/what-is-a-repository.md     |   2 +-
 8 files changed, 310 insertions(+), 7 deletions(-)
</code></pre>
<p>This reveals that about half of the changes (146 new/deleted lines) were made to <code>src/using-git/creating-a-commit.md</code>.</p>
<h2 id="viewing-changes-to-a-file-over-a-specific-interval"><a class="header" href="#viewing-changes-to-a-file-over-a-specific-interval">Viewing changes to a file over a specific interval</a></h2>
<p>Similar to the <code>git log</code> command, you can limit the files that the <code>git diff</code> command will examine.
For example, you can display only the changes made to <code>README.md</code> in the above example by running:</p>
<pre><code class="language-sh">git diff 5192704..95eaae5 -- README.md
</code></pre>
<p>This should show you the following change:</p>
<pre><code class="language-text">diff --git a/README.md b/README.md
index 7956b65..a34f907 100644
--- a/README.md
+++ b/README.md
@@ -15,7 +15,7 @@ This work is licensed under a [Creative Commons Attribution-ShareAlike 4.0 Inter

 ## Building the book

-You can build this book by installing [mdBook](https://rust-lang.github.io/mdBook/) and running the following command in this directory:
+You can build this book by installing [mdBook](https://rust-lang.github.io/mdBook/) and [mdbook-admonish](https://github.com/tommilligan/mdbook-admonish/), and running the following command in this directory:

 ```shell
 mdbook build
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="where-did-this-line-come-from"><a class="header" href="#where-did-this-line-come-from">Where did this line come from?</a></h1>
<p>Consider the <a href="using-git/../version-control/what-should-I-commit.html">What should I commit?</a> chapter.
Imagine that we want to know when <strong>and why</strong> the following text was added:</p>
<pre><code class="language-md">A helpful guideline is &quot;**commit early, commit often**&quot;.
</code></pre>
<p>If we can identify the relevant commit, we can then inspect the commit (using <code>git show &lt;commit&gt;</code>) to see all of the changes that it introduced.
Ideally, the commit message will explain the reasons why this commit was made.
This is one way in which <strong>your commit messages can act as a lab book</strong>.</p>
<p>At the time of writing (commit <code>2a96324</code>), the contents of the <a href="using-git/../version-control/what-should-I-commit.html">What should I commit?</a> came from two commits:</p>
<pre><code class="language-sh">git log --oneline src/version-control/what-should-I-commit.md
</code></pre>
<pre><code class="language-txt">3dfff1f Add notes about committing early and often
9be780b Briefly describe key version control concepts
</code></pre>
<p>We can use the <code>git blame</code> command to identify the commit that last modified each line in this file:</p>
<pre><code class="language-sh">git blame -s src/version-control/what-should-I-commit.md
</code></pre>
<pre><code class="language-txt">9be780b8  1) # What should I commit?
9be780b8  2)
9be780b8  3) A commit should represent a **unit of work**.
9be780b8  4)
9be780b8  5) If you've made changes that represent multiple units of work (e.g., changing how input data are processed, and adding a new model parameter) these should be saved as separate commits.
9be780b8  6)
9be780b8  7) Try describing out loud the changes you have made, and if you find yourself saying something like &quot;I did X and Y and Z&quot;, then the changes should probably divided into multiple commits.
3dfff1fe  8)
3dfff1fe  9) A helpful guideline is &quot;**commit early, commit often**&quot;.
3dfff1fe 10)
3dfff1fe 11) ## Commit early
3dfff1fe 12)
3dfff1fe 13) - Don't delay creating a commit because &quot;it's not ready yet&quot;.
3dfff1fe 14)
3dfff1fe 15) - A commit doesn't have to be &quot;perfect&quot;.
3dfff1fe 16)
3dfff1fe 17) ## Commit often
3dfff1fe 18)
3dfff1fe 19) - Small, focused commits are **extremely helpful** when trying to identify the cause of an unintended change in your code's behaviour or output.
3dfff1fe 20)
3dfff1fe 21) - There is no such thing as too many commits.
</code></pre>
<p>You can see that the first seven lines were last modified by commit <code>9be780b</code> (<em>Briefly describe key version control concepts</em>), while the rest of the file was last modified by commit <code>3dfff1f</code> (<em>Add notes about committing early and often</em>).
So the text that we're interested in (line 9) was <strong>introduced by commit <code>3dfff1f</code></strong>.</p>
<p>You can inspect this commit by running the following command:</p>
<pre><code class="language-sh">git show 3dfff1f
</code></pre>
<div class="tabbed-blocks">
<div class="tabbed-block" data-tab-title="Video demonstration">
  <div id="demo" data-cast-file="where-did-this-line-come-from.cast"></div>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="where-did-this-problem-come-from"><a class="header" href="#where-did-this-problem-come-from">Where did this problem come from?</a></h1>
<p>Let's find the commit that created the file <code>src/version-control/what-is-a-repository.md</code>.
We could find this out using <code>git log</code>, but the point here is to illustrate how to use a script to <strong>find the commit that causes any arbitrary change</strong> to our repository.</p>
<p>Once the commit has been found, you can inspect it (using <code>git show &lt;commit&gt;</code>) to see all of the changes this commit introduced <strong>and</strong> the commit message that (hopefully) explains the reasons why this commit was made.
This is one way in which <strong>your commit messages can act as a lab book</strong>.</p>
<ol>
<li>
<p>Create a Python script called <code>my_test.py</code> with the following contents:</p>
<pre><code class="language-py">#!/usr/bin/env python3
from pathlib import Path
import sys

expected_file = Path('src') / 'version-control' / 'what-is-a-repository.md'

if expected_file.exists():
    # This file is the &quot;new&quot; thing that we want to detect.
    sys.exit(1)
else:
    # The file does not exist, this commit is &quot;old&quot;.
    sys.exit(0)
</code></pre>
<p>For reference, here is an equivalent R script:</p>
<pre><code class="language-R">#!/usr/bin/Rscript --vanilla

expected_file &lt;- file.path('src', 'version-control', 'what-is-a-repository.md')

if (file.exists(expected_file)) {
    # This file is the &quot;new&quot; thing that we want to detect.
    quit(status = 1)
} else {
    # The file does not exist, this commit is &quot;old&quot;.
    quit(status = 0)
}
</code></pre>
</li>
<li>
<p>Select the commit range over which to search.
We know that the file exists in the commit <code>3dfff1f</code> (<em>Add notes about committing early and often</em>), and it did not exist in the very first commit (<code>5a19b02</code>).</p>
</li>
<li>
<p>Instruct Git to start searching with the following command:</p>
<pre><code class="language-sh">git bisect start 3dfff1f 5a19b02
</code></pre>
<p>Note that we specify <strong>the newer commit first</strong>, and then the older commit.</p>
<p>Git will inform you about the search progress, and which commit is currently being investigated.</p>
<pre><code class="language-txt">Bisecting: 7 revisions left to test after this (roughly 3 steps)
[92f1375db21dd8a35ca141365a477b963dbbf6dc] Add CC-BY-SA license text and badge
</code></pre>
</li>
<li>
<p>Instruct Git to use the script <code>my_test.py</code> to check each commit with the following command:</p>
<pre><code class="language-sh">git bisect run ./my_test.py
</code></pre>
<p>It will continue to report the search progress and <strong>automatically identify</strong> the commit that we're looking for:</p>
<pre><code class="language-txt">running  './my_test.py'
Bisecting: 3 revisions left to test after this (roughly 2 steps)
[9be780b8785d67ee191b2c0b113270059c9e0c3a] Briefly describe key version control concepts
running  './my_test.py'
Bisecting: 1 revision left to test after this (roughly 1 step)
[055906f28da146a2d012b7c1c0e4707503ed1b11] Display example commit message as plain text
running  './my_test.py'
Bisecting: 0 revisions left to test after this (roughly 0 steps)
[1251357ab5b41d511deb48cd5386cae37eec6751] Rename the &quot;What is a repository?&quot; source file
running  './my_test.py'
1251357ab5b41d511deb48cd5386cae37eec6751 is the first bad commit
commit 1251357ab5b41d511deb48cd5386cae37eec6751
Author: Rob Moss &lt;robm.dev@gmail.com&gt;
Date:   Sun Apr 17 21:41:43 2022 +1000

    Rename the &quot;What is a repository?&quot; source file

    The file name was missing the word &quot;a&quot; and did not match the title.

 src/SUMMARY.md                              |  2 +-
 src/version-control/what-is-a-repository.md | 18 ++++++++++++++++++
 src/version-control/what-is-repository.md   | 18 ------------------
 3 files changed, 19 insertions(+), 19 deletions(-)
 create mode 100644 src/version-control/what-is-a-repository.md
 delete mode 100644 src/version-control/what-is-repository.md
</code></pre>
</li>
<li>
<p>To quit the search and return to your current commit, run the following command:</p>
<pre><code class="language-sh">git bisect reset
</code></pre>
</li>
<li>
<p>You can then <a href="using-git/inspecting-your-history.html">inspect this commit</a> by running the following command:</p>
<pre><code class="language-sh">git show 1251357
</code></pre>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-use-branches"><a class="header" href="#how-to-use-branches">How to use branches?</a></h1>
<p>Recall that <a href="using-git/../version-control/what-is-a-branch.html">branches</a> allow you to work on different ideas or tasks in parallel, within a single repository.
In this chapter, we will show you how create and use branches.
In the <a href="using-git/../collaborating/">Collaborating</a> section, we will show you how branches can allow multiple people to work together on code and papers, and how you can use branches for <strong>peer code review</strong>.</p>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="using-git/how-to-use-branches.html#admonition-info"></a></p>
</div>
<div>
<p>Branches, like <a href="using-git/how-to-create-and-use-tags.html">tags</a>, are identified by name.
Common naming conventions include:</p>
<ul>
<li><code>feature/some-new-thing</code> for adding something new (a new data analysis, a new model feature, etc); and</li>
<li><code>bugfix/some-problem</code> for fixing something that isn't working as intended (e.g., perhaps there's a mistake in a data analysis script).</li>
</ul>
<p>You can choose your own conventions, but make sure that you choose <strong>meaningful</strong> names.</p>
<p><strong>Do not</strong> use names like <code>branch1</code>, <code>branch2</code>, etc.</p>
</div>
</div>
<h2 id="creating-a-new-branch"><a class="header" href="#creating-a-new-branch">Creating a new branch</a></h2>
<p>You can create a new branch (in this example, called &quot;my-new-branch&quot;) that starts from the current commit by running:</p>
<pre><code class="language-sh">git checkout -b my-new-branch
</code></pre>
<p>You can also create a new branch that starts from a specific commit, tag, or branch in your repository:</p>
<pre><code class="language-sh">git checkout -b my-new-branch 95eaae5          # From an existing commit
git checkout -b my-new-branch my-tag-name      # From an existing tag
git checkout -b my-new-branch my-other-branch  # From an existing branch
</code></pre>
<p>You can then create a corresponding <strong>upstream branch</strong> in your remote repository (in this example, called &quot;origin&quot;) by running:</p>
<pre><code class="language-sh">git push -u origin
</code></pre>
<h2 id="working-on-a-remote-branch"><a class="header" href="#working-on-a-remote-branch">Working on a remote branch</a></h2>
<p>If there is a branch in your remote repository that you want to work on, you can make a local copy by running:</p>
<pre><code class="language-sh">git checkout remote-branch-name
</code></pre>
<p>This will create a local branch with the same name (in this example, &quot;remote-branch-name&quot;).</p>
<h2 id="listing-branches"><a class="header" href="#listing-branches">Listing branches</a></h2>
<p>You can list all of the branches in your repository by running:</p>
<pre><code class="language-sh">git branch
</code></pre>
<p>This will also highlight the current branch.</p>
<h2 id="switching-between-branches"><a class="header" href="#switching-between-branches">Switching between branches</a></h2>
<p>You can switch from your current branch to another branch (in this example, called &quot;other-branch&quot;) by running:</p>
<pre><code class="language-sh">git checkout other-branch
</code></pre>
<div id="admonition-info-1" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="using-git/how-to-use-branches.html#admonition-info-1"></a></p>
</div>
<div>
<p>Git will not let you switch branches if you have any uncommitted changes.</p>
<p>One way to avoid this issue is to record the current changes as a new commit, and explain in the commit message that this is a snapshot of work in progress.</p>
<p>A second option is to discard the uncommitted changes to each file by running:</p>
<pre><code class="language-sh">git restore file1 file2 file3 ... fileN
</code></pre>
</div>
</div>
<h2 id="pushing-and-pulling-commits-1"><a class="header" href="#pushing-and-pulling-commits-1">Pushing and pulling commits</a></h2>
<p>Once you have created a branch, you can use <code>git push</code> to &quot;push&quot; your commits to the remote repository, and <code>git pull</code> to &quot;pull&quot; commits from the remote repository.
See <a href="using-git/pushing-and-pulling-commits.html">Pushing and pulling commits</a> for details.</p>
<h2 id="inspecting-branch-histories"><a class="header" href="#inspecting-branch-histories">Inspecting branch histories</a></h2>
<p>You can use <code>git log</code> to inspect the commit history of any branch:</p>
<pre><code class="language-sh">git log branch-name
</code></pre>
<p>Remember that there are <a href="using-git/inspecting-your-history.html">many ways to control</a> what <code>git log</code> will show you.</p>
<p>Similarly, you can use <code>git diff</code> to compare the changes in any two branches:</p>
<pre><code class="language-sh">git diff first-branch second-branch
</code></pre>
<p>Again, there are <a href="using-git/inspecting-your-history.html">ways to control</a> what <code>git diff</code> will show you.</p>
<h2 id="merging-branches"><a class="header" href="#merging-branches">Merging branches</a></h2>
<p>You may reach a point where you want to incorporate the changes from one branch into another branch.
This is referred to as &quot;merging&quot; one branch into another, and is illustrated in the <a href="using-git/../version-control/what-is-a-branch.html">What is a branch?</a> chapter.</p>
<p>For example, you might have completed a new feature for your model or data analysis, and now want to merge this back into your main branch.</p>
<p>First, <strong>ensure that the current branch</strong> is the branch you want to merge the changes <strong>into</strong> (this is often your main or master branch).
You can them merge the changes <strong>from</strong> another branch (in this example, called &quot;other-branch&quot;) by running:</p>
<pre><code class="language-sh">git merge other-branch
</code></pre>
<p>This can have two different results:</p>
<ol>
<li>
<p>The commits from <code>other-branch</code> were merged successfully into the current branch; or</p>
</li>
<li>
<p>There were <strong>conflicting changes</strong> (referred to as a &quot;merge conflict&quot;).</p>
</li>
</ol>
<p>In the next chapter we will show you <a href="using-git/how-to-resolve-merge-conflicts.html">how to resolve merge conflicts</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-resolve-merge-conflicts"><a class="header" href="#how-to-resolve-merge-conflicts">How to resolve merge conflicts?</a></h1>
<p>A merge conflict can occur when we try to merge one branch into another, if the two branches introduce any conflicting changes.</p>
<p>For example, consider trying to merge two branches that make the following changes to the same line of the file <code>test.txt</code>:</p>
<ol>
<li>
<p>On the branch <code>my-new-branch</code>:</p>
<pre><code class="language-diff"> First line
-Second line
+My new second line
 Third line
</code></pre>
</li>
<li>
<p>On the main branch:</p>
<pre><code class="language-diff"> First line
-Second line
+A different second line
 Third line
</code></pre>
</li>
</ol>
<p>When we attempt to merge <code>my-new-branch</code> into the main branch, <code>git merge my-new-branch</code> will tell us:</p>
<pre><code class="language-text">Auto-merging test.txt
CONFLICT (content): Merge conflict in test.txt
Automatic merge failed; fix conflicts and then commit the result.
</code></pre>
<p>The <code>test.txt</code> file will now include the conflicting changes, which we can inspect with <code>git diff</code>:</p>
<pre><code class="language-diff">diff --cc test.txt
index 18712c4,bc576a6..0000000
--- a/test.txt
+++ b/test.txt
@@@ -1,3 -1,3 +1,7 @@@
  First line
++&lt;&lt;&lt;&lt;&lt;&lt;&lt; ours
 +A different second line
++=======
+ My new second line
++&gt;&gt;&gt;&gt;&gt;&gt;&gt; theirs
  Third line
</code></pre>
<p>Note that this two-day diff shows:</p>
<ol>
<li>&quot;our&quot; changes: from the commits on the branch that we are <strong>merging into</strong>; and</li>
<li>&quot;their&quot; changes: from the commits on the branch that we are <strong>merging from</strong>.</li>
</ol>
<p>Each conflict is surrounded by <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code> and <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> markers, and the conflicting changes are separated by a <code>=======</code> marker.</p>
<h2 id="resolving-the-conflicts"><a class="header" href="#resolving-the-conflicts">Resolving the conflicts</a></h2>
<p>We can edit <code>test.txt</code> to reconcile these changes, and the commit our fix.
For example, we might decide that <code>test.txt</code> should have the following contents:</p>
<pre><code class="language-text">First line
The corrected second line
Third line
</code></pre>
<p>We can then commit these changes to resolve the merge conflict:</p>
<pre><code class="language-sh">git add test.txt
git commit -m &quot;Resolved the merge conflict&quot;
</code></pre>
<h2 id="cancelling-the-merge"><a class="header" href="#cancelling-the-merge">Cancelling the merge</a></h2>
<p>Alternatively, you may decide you don't want to merge these two branches, in which case you cancel the merge by running:</p>
<pre><code class="language-sh">git merge --abort
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exercise-create-a-local-repository"><a class="header" href="#exercise-create-a-local-repository">Exercise: create a local repository</a></h1>
<!--


Create a local repository;

Create commits in your local repository;

Search your commit history to identify commits that made a specific change;

Create a remote repository;

Push commits from your local repository to a remote repository;

Pull commits from a remote repository to your local repository;

Use tags to identify important milestones;

Work in a separate branch and then merge your changes into your main branch;

-->
<p>In this exercise you will create a local repository, and use this repository to create multiple commits, switch between branches, and inspect the repository history.</p>
<ol>
<li>
<p>Create a new, empty repository in a directory called <code>git-exercise</code>.</p>
</li>
<li>
<p>Create a <code>README.md</code> file and write a <a href="using-git/how-to-structure-a-repository.html#include-a-readme-file">brief description</a> for this repository.
Record the contents of <code>README.md</code> in a new commit, and write a <a href="using-git/../version-control/how-do-I-write-a-commit-message.html">commit message</a>.</p>
</li>
<li>
<p>Write a script that generates a small data set, and saves the data to a CSV file.
For example, this script could sample values from a probability distribution with fixed shape parameters.
Explain how to use this script in <code>README.md</code>.
Record your changes in a new commit.</p>
</li>
<li>
<p>Write a script that plots these data, and saves the figure in a suitable file format.
Explain how to use this script in <code>README.md</code>.
Record your changes in a new commit.</p>
</li>
<li>
<p>Add a tag <code>milestone-1</code> to the commit you created in the previous step.</p>
</li>
<li>
<p>Create a new branch called <code>feature/new-data</code>.
Check out this branch and modify the data-generation script so that it produces new data and/or more data.
Record your changes in one or more new commits.</p>
</li>
<li>
<p>Create a new branch called <code>feature/summarise</code> from the tag you created in step #5.
Check out this branch and modify the plotting script so that it also prints some summary statistics of the data.
Record your changes in one or more new commits.</p>
</li>
<li>
<p>In your <code>main</code> or <code>master</code> branch, and <a href="using-git/choosing-a-license.html">add a license</a>.
Record your changes in a new commit.</p>
</li>
<li>
<p>In your <code>main</code> or <code>master</code> branch, merge the two feature branches created in steps #6 and #7, and add a new tag <code>milestone-2</code>.</p>
</li>
</ol>
<h2 id="self-evaluation"><a class="header" href="#self-evaluation">Self evaluation</a></h2>
<p>Now that you have started a repository, created commits in multiple branches, and merged these branches, here are some questions for you to consider:</p>
<ul>
<li>
<p>Have you committed the generated data file and/or the plot figure?</p>
</li>
<li>
<p>If you haven't committed either or both of these files, have you instructed <code>git</code> to ignore them?</p>
</li>
<li>
<p>Did you add a meaningful description to each milestone tag?</p>
</li>
<li>
<p>How many commits modified your data-generation script?</p>
</li>
<li>
<p>How many commits modified your plotting script?</p>
</li>
<li>
<p>What changes, if any, were made to <code>README.md</code> since it was first created?</p>
</li>
</ul>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="using-git/exercise-create-a-local-repository.html#admonition-tip"></a></p>
</div>
<div>
<p>To answer some of these questions, you may need to run <code>git</code> commands.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exercise-use-a-remote-repository"><a class="header" href="#exercise-use-a-remote-repository">Exercise: use a remote repository</a></h1>
<p>In this exercise, you will use a remote repository to synchronise and merge changes between multiple local repositories, starting from the local <code>git-exercise</code> repository that you created in <a href="using-git/exercise-create-a-local-repository.html">the previous exercise</a>.</p>
<h2 id="create-a-remote-repository"><a class="header" href="#create-a-remote-repository">Create a remote repository</a></h2>
<ol>
<li>
<p>Create a new remote repository on a platform such as GitHub.
You can make this a <strong>private</strong> repository, because you won't need to share it with anyone.</p>
</li>
<li>
<p>Link your local <code>git-exercise</code> repository to this remote repository, and push all branches and tags to this remote repository.</p>
</li>
</ol>
<h2 id="clone-the-remote-repository"><a class="header" href="#clone-the-remote-repository">Clone the remote repository</a></h2>
<ol>
<li>
<p>Make a local copy of this remote repository called <code>git-exercise-2</code>.</p>
</li>
<li>
<p>Check out the <code>main</code> or <code>master</code> branch.
The files should be identical to the <code>milestone-2</code> tag in your original <code>git-exercise</code> repository.</p>
</li>
</ol>
<h2 id="work-on-the-new-local-repository"><a class="header" href="#work-on-the-new-local-repository">Work on the new local repository</a></h2>
<ol>
<li>
<p>Create a new branch called <code>feature/report</code>.
Check out this branch and create a new file called <code>report.md</code>.
Edit this file so that it contains:</p>
<ul>
<li>A brief description of the generated data set;</li>
<li>A table of the summary statistics printed by the plotting scripting (see the <a href="https://www.markdownguide.org/extended-syntax/#tables">Markdown Guide</a>); and</li>
<li>The figure produced by the plotting script (see the <a href="https://www.markdownguide.org/basic-syntax/#images-1">Markdown Guide</a>).</li>
</ul>
<p>Record your changes in a new commit.</p>
</li>
<li>
<p>Push this new branch to the remote repository.</p>
</li>
</ol>
<h2 id="merge-the-report-into-the-original-repository"><a class="header" href="#merge-the-report-into-the-original-repository">Merge the report into the original repository</a></h2>
<ol>
<li>
<p>In your original <code>git-exercise</code> repository, checkout the <code>feature/report</code> branch from the remote repository and verify that it now contains the file <code>report.md</code>.</p>
</li>
<li>
<p>Merge this branch into your <code>main</code> or <code>master</code> branch, and add a new tag <code>milestone-3-report</code>.</p>
</li>
<li>
<p>Push the updated <code>main</code> or <code>master</code> branch to the remote repository.</p>
</li>
</ol>
<h2 id="update-the-new-local-repository"><a class="header" href="#update-the-new-local-repository">Update the new local repository</a></h2>
<ol>
<li>In your <code>git-exercise-2</code> repository, checkout the <code>main</code> or <code>master</code> branch and pull changes from the remote repository.
It should now contain the file <code>report.md</code>.</li>
</ol>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="using-git/exercise-use-a-remote-repository.html#admonition-info"></a></p>
</div>
<div>
<p>Congratulations!
You have used a remote repository to synchronise and merge changes between two local repositories.
You can use this workflow to <a href="using-git/../collaborating/">collaborate with colleagues</a>.</p>
</div>
</div>
<h2 id="self-evaluation-1"><a class="header" href="#self-evaluation-1">Self evaluation</a></h2>
<p>Now that you have used commits and branches to share work between multiple repositories, here are some questions for you to consider:</p>
<ul>
<li>
<p>Do you feel comfortable in deciding which changes to record in a single commit?</p>
</li>
<li>
<p>Do you feel that your commit messages help describe the changes that you have made in this repository?</p>
</li>
<li>
<p>Do you feel comfortable in using multiple branches to work on separate ideas in parallel?</p>
</li>
<li>
<p>Do you have any current projects that you might want to work on using local and remote <code>git</code> repositories?</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exercise-resolve-a-merge-conflict"><a class="header" href="#exercise-resolve-a-merge-conflict">Exercise: resolve a merge conflict</a></h1>
<p>We have created a <a href="https://github.com/robmoss/gimlb-simple-merge-example">public repository</a> that you can use to try resolving a merge conflict yourself.
This repository includes some example data and a script that performs some basic data analysis.</p>
<p>First, obtain a local copy (a &quot;clone&quot;) of this repository by running:</p>
<pre><code class="language-sh">git clone https://github.com/robmoss/gimlb-simple-merge-example.git
cd gimlb-simple-merge-example
</code></pre>
<h2 id="the-repository-history"><a class="header" href="#the-repository-history">The repository history</a></h2>
<p>You can inspect the repository history by running <code>git log</code>.
Some key details to notice are:</p>
<ol>
<li>
<p>The first commit created the following files:</p>
<ul>
<li><code>README.md</code></li>
<li><code>LICENSE</code></li>
<li><code>analysis/initial_exploration.R</code></li>
<li><code>input_data/data.csv</code></li>
</ul>
</li>
<li>
<p>The second commit created the following file:</p>
<ul>
<li><code>outputs/summary.csv</code></li>
</ul>
<p>This commit has been given the <strong>tag</strong> <code>first_milestone</code>.</p>
</li>
<li>
<p>From this <code>first_milestone</code> tag, two branches were created:</p>
<ul>
<li>
<p>The <code>feature/second-data-set</code> branch adds a second data set and updates the analysis script to inspect both data sets.</p>
</li>
<li>
<p>The <code>feature/calculate-rate-of-change</code> branch changes which summary statistics are calculated for the original data set.</p>
</li>
</ul>
</li>
<li>
<p>The <code>example-solution</code> branch merges both feature branches and resolves any merge conflicts.
This branch has been given the <strong>tag</strong> <code>second_milestone</code>.</p>
</li>
</ol>
<h2 id="your-task"><a class="header" href="#your-task">Your task</a></h2>
<p>You will start with the <code>master</code> branch, which contains the commits up to the <code>first_milestone</code> tag, and then merge the two feature branches into this branch, resolving any merge conflicts that arise.
You can then compare your results to the <code>example-solution</code> branch.</p>
<ol>
<li>
<p>Obtain a local copy of this repository, by running:</p>
<pre><code class="language-sh">git clone https://github.com/robmoss/gimlb-simple-merge-example.git
cd gimlb-simple-merge-example
</code></pre>
</li>
<li>
<p>Create local copies of the two feature branches and the example solution, by running:</p>
<pre><code class="language-sh">git checkout feature/second-data-set
git checkout feature/calculate-rate-of-change
git checkout example-solution
</code></pre>
</li>
<li>
<p>Return to the <code>master</code> branch, by running:</p>
<pre><code class="language-sh">git checkout master
</code></pre>
</li>
<li>
<p>Merge the <code>feature/second-data-set</code> branch into <code>master</code>, by running:</p>
<pre><code class="language-sh">git merge feature/second-data-set
</code></pre>
</li>
<li>
<p>Merge the <code>feature/calculate-rate-of-change</code> branch into <code>master</code>, by running:</p>
<pre><code class="language-sh">git merge feature/calculate-rate-of-change
</code></pre>
<p>This will result in a <strong>merge conflict</strong>, and now you need to decide how to resolve each conflict!
Once you have resolved the conflicts, create a commit that records all of your changes (see the <a href="using-git/how-to-resolve-merge-conflicts.html">previous chapter</a> for an example).</p>
</li>
</ol>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="using-git/exercise-resolve-a-merge-conflict.html#admonition-tip"></a></p>
</div>
<div>
<p>You may find it helpful to inspect the commits in each of the feature branches to understand how they have changed the files in which the conflicts have occurred.</p>
</div>
</div>
<h2 id="self-evaluation-2"><a class="header" href="#self-evaluation-2">Self evaluation</a></h2>
<p>Once you have created a commit that resolves these conflicts, see how similar or different the contents of your commit are to the corresponding commit in the <code>example-solution</code> branch (which has been tagged <code>second_milestone</code>).
You can inspect this commit by running:</p>
<pre><code class="language-sh">git show example-solution
</code></pre>
<p>You can compare this commit to your solution by running:</p>
<pre><code class="language-sh">git diff example-solution
</code></pre>
<p>How does your resolution compare to this commit?</p>
<div id="admonition-note" class="admonition note">
<div class="admonition-title">
<p>Note</p>
<p><a class="admonition-anchor-link" href="using-git/exercise-resolve-a-merge-conflict.html#admonition-note"></a></p>
</div>
<div>
<p>You may have resolved the conflicts differently to the <code>example-solution</code> branch, <strong>and that's perfectly fine</strong> as long as they have the same effect.</p>
</div>
</div>
<h2 id="example-solution"><a class="header" href="#example-solution">Example solution</a></h2>
<p>Here we present a recorded terminal session in which we clone this repository and resolve the merge conflict.</p>
<div id="admonition-tip-1" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="using-git/exercise-resolve-a-merge-conflict.html#admonition-tip-1"></a></p>
</div>
<div>
<p>You can use the video timeline (below) to jump to specific moments in this exercise.
Remember that you can pause the recording at any point to <strong>select and copy</strong> any of the text.</p>
</div>
</div>
<div class="tabbed-blocks">
<div class="tabbed-block" data-tab-title="Resolving a merge conflict">
  <div id="demo" data-cast-file="solution-resolve-a-merge-conflict.cast"></div>
<p>Video timeline:</p>
<ol>
    <li><a data-video="demo" data-seek-to="0" href="javascript:;">Start: a quick look around</a></li>
    <li><a data-video="demo" data-seek-to="54" href="javascript:;">Create local copies of branches</a></li>
    <li><a data-video="demo" data-seek-to="104" href="javascript:;">Inspect the <code class="hljs">feature/second-data-set</code> branch</a></li>
    <li><a data-video="demo" data-seek-to="184" href="javascript:;">Inspect the <code class="hljs">feature/calculate-rate-of-change</code> branch</a></li>
    <li><a data-video="demo" data-seek-to="270" href="javascript:;">Merge the <code class="hljs">feature/second-data-set</code> branch</a></li>
    <li><a data-video="demo" data-seek-to="293" href="javascript:;">Merge the <code class="hljs">feature/calculate-rate-of-change</code> branch</a></li>
    <li><a data-video="demo" data-seek-to="305" href="javascript:;">Resolve the merge conflicts</a></li>
    <li><a data-video="demo" data-seek-to="460" href="javascript:;">Compare to the example solution</a></li>
  </ol>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="collaborating-1"><a class="header" href="#collaborating-1">Collaborating</a></h1>
<p>This section demonstrates how to use Git for collaborative research, enabling multiple people to work on the same code or paper in parallel.
This includes deciding how to structure your repository, how to use branches for each collaborator, and how to use tags to track your progress.</p>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="collaborating/index.html#admonition-info"></a></p>
</div>
<div>
<p>We also show how these skills support <strong>peer code review</strong>, so that you can share knowledge with, and learn from, your colleagues as part of your regular activity.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="collaborating-on-code"><a class="header" href="#collaborating-on-code">Collaborating on code</a></h1>
<p>Once you are comfortable with creating commits, working in branches, and merging branches, you can use these skills to <strong>write code collaboratively as a team</strong>.</p>
<p>The precise workflow will depend on the nature of your research and on the collaborators in your team, but there are some general guidelines that you may find helpful:</p>
<ul>
<li>
<p>Agree on a <a href="collaborating/coding-style-guides.html">style guide</a>.</p>
</li>
<li>
<p>Work on separate features in <a href="collaborating/sharing-a-branch.html">separate branches</a>.</p>
</li>
<li>
<p>Use <a href="collaborating/peer-code-review.html">peer code review</a> before merging changes from these branches.</p>
</li>
<li>
<p>Consider using <a href="collaborating/continuous-integration.html">continuous integration</a> to:</p>
<ul>
<li>Run <a href="collaborating/../testing/">test cases</a> and detect bugs as early as possible; and</li>
<li>Verify that code meets your chosen style guide.</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="collaborating-on-a-paper"><a class="header" href="#collaborating-on-a-paper">Collaborating on a paper</a></h1>
<p>Once you are comfortable with creating commits, working in branches, and merging branches, you can use these skills to <strong>write papers collaboratively as a team</strong>.
This approach is particularly useful if you are writing a paper in LaTeX.</p>
<p>Here are some general guidelines that you may find useful:</p>
<ul>
<li>
<p>Divide the paper into <a href="https://www.overleaf.com/learn/latex/Management_in_a_large_project">separate LaTeX files</a> for each section.</p>
</li>
<li>
<p>Use <a href="collaborating/../using-git/how-to-create-and-use-tags.html">tags</a> to identify milestones such as draft versions and revisions.</p>
</li>
<li>
<p>Consider creating a <a href="collaborating/sharing-a-branch.html">separate branch</a> for each collaborator.</p>
<ul>
<li>Merge these branches when completing a major draft or revision.</li>
</ul>
</li>
<li>
<p>Use <a href="https://www.overleaf.com/learn/latex/Articles/Using_Latexdiff_For_Marking_Changes_To_Tex_Documents">latexdiff</a> to show tracked changes between the current version and a previous commit/tag:</p>
<pre><code class="language-sh">latexdiff-git --flatten -r tag-name paper.tex
</code></pre>
</li>
<li>
<p>Collaborators who will provide feedback, rather than contributing directly to the writing process, can do this by:</p>
<ul>
<li>Annotating PDF versions of the paper; or</li>
<li>Providing comments in response to a <a href="collaborating/merge-pull-requests.html">merge/pull request</a>.</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sharing-a-repository"><a class="header" href="#sharing-a-repository">Sharing a repository</a></h1>
<p>The easiest way to share a repository with collaborators is to have a single remote repository that all collaborators can access.
This repository could be located on a platform such as GitHub, GitLab, or Bitbucket, or on a platform provided by your University or Institute.</p>
<p>Theses platforms allow you to create <strong>public</strong> repositories and <strong>private</strong> repositories.</p>
<ul>
<li>
<p>Everybody can view the contents of a public repository.</p>
</li>
<li>
<p>You control who can view the contents of a private repository.</p>
</li>
<li>
<p>For both types of repository, <strong>you control who can make changes</strong> to the repository, such as creating commits and branches.</p>
</li>
</ul>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="collaborating/sharing-a-repository.html#admonition-info"></a></p>
</div>
<div>
<p>You should decide whether a public repository or a private repository suits you best.</p>
</div>
</div>
<h2 id="giving-collaborators-access-to-your-remote-repository"><a class="header" href="#giving-collaborators-access-to-your-remote-repository">Giving collaborators access to your remote repository</a></h2>
<p>The steps required to do this differ depending on which platform you are using.
Here, we will describe how to give collaborators access to a repository on GitHub.
For further details, see the <a href="https://docs.github.com/en/account-and-profile/setting-up-and-managing-your-personal-account-on-github/managing-access-to-your-personal-repositories/inviting-collaborators-to-a-personal-repository">GitHub documentation</a>.</p>
<ul>
<li>
<p>Open the main page of your GitHub repository.</p>
</li>
<li>
<p>Click on the &quot;Settings&quot; tab in the top navigation bar.</p>
</li>
<li>
<p>Click on the &quot;Collaborators&quot; item in the left sidebar.</p>
</li>
<li>
<p>Click on the &quot;Add people&quot; button.</p>
</li>
<li>
<p>Search for collaborators by entering their GitHub user name, their full name, or their email address.</p>
</li>
<li>
<p>Click the &quot;Add <NAME> to this repository&quot; button.</p>
</li>
</ul>
<p>This will send an invitation to the collaborator.
If they accept this invitation, they will have access to your repository.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sharing-a-branch"><a class="header" href="#sharing-a-branch">Sharing a branch</a></h1>
<p>You might want a collaborator to work on a specific branch of your repository, so that you can keep their changes separate from your own work.
Remember that you can merge commits from their branch into your own branches at any time.</p>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="collaborating/sharing-a-branch.html#admonition-info"></a></p>
</div>
<div>
<p>You need to ensure that your collaborator <a href="collaborating/sharing-a-repository.html">has access to the remote repository</a>.</p>
</div>
</div>
<ol>
<li>
<p>Create a new branch for the collaborator, and give it a descriptive name.</p>
<pre><code class="language-sh">git checkout -b collab/jamie
</code></pre>
<p>In this example we created a branch called &quot;collab/jamie&quot;, where &quot;collab&quot; is a prefix used to identify branches intended for collaborators, and the collaborator is called Jamie.</p>
<p>Remember that you can <a href="collaborating/../using-git/how-to-use-branches.html">choose your own naming conventions</a>.</p>
</li>
<li>
<p>Push this branch to your remote repository:</p>
<pre><code class="language-sh">git push -u origin
</code></pre>
</li>
<li>
<p>Your collaborator can then make a local copy of this branch:</p>
<pre><code class="language-sh">git clone --single-branch --branch collab/jamie repository-url
</code></pre>
</li>
<li>
<p>They can then create commits and push them to your remote repository with <code>git push</code>.</p>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mergepull-requests"><a class="header" href="#mergepull-requests">Merge/Pull requests</a></h1>
<p>Recall that <a href="collaborating/../using-git/how-to-use-branches.html#merging-branches">incorporating the changes from one branch into another branch</a> is referred to as a &quot;merge&quot;.
You can merge one branch into another branch by taking the following steps:</p>
<ol>
<li>
<p>Checking out the branch you want to merge the changes <strong>into</strong>:</p>
<pre><code class="language-sh">git checkout -b my-branch
</code></pre>
</li>
<li>
<p>Merging the changes <strong>from</strong> the other branch:</p>
<pre><code class="language-sh">git merge other-branch
</code></pre>
</li>
</ol>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="collaborating/merge-pull-requests.html#admonition-tip"></a></p>
</div>
<div>
<p>It's a good idea to <strong>review these changes</strong> before you merge them.</p>
<p>If possible, it's even better to have <strong>someone else</strong> review the changes.</p>
</div>
</div>
<p>You can use <code>git diff</code> to <a href="collaborating/../using-git/how-to-use-branches.html#inspecting-branch-histories">view differences between branches</a>.
However, platforms such as GitHub and GitLab offer an easier approach: &quot;pull requests&quot; (also called &quot;merge requests&quot;).</p>
<h2 id="creating-a-pull-request-on-github"><a class="header" href="#creating-a-pull-request-on-github">Creating a pull request on GitHub</a></h2>
<p>The steps required to create a pull request differ depending on which platform you are using.
Here, we will describe how to create a pull request on GitHub.
For further details, see the <a href="https://docs.github.com/en/pull-requests">GitHub documentation</a>.</p>
<ul>
<li>
<p>Open the main page of your GitHub repository.</p>
</li>
<li>
<p>In the &quot;Branch&quot; menu, select the branch that contains the changes you want to merge.</p>
</li>
<li>
<p>Open the &quot;Contribute&quot; menu.
This should be located on the right-hand side, above the list of files.</p>
</li>
<li>
<p>Click the &quot;Open pull request&quot; button.</p>
</li>
<li>
<p>In the &quot;base&quot; menu, select the branch you want to merge the changes <strong>into</strong>.</p>
</li>
<li>
<p>Enter a descriptive title for the pull request.</p>
</li>
<li>
<p>In the message editor, write a summary of the changes in this branch, and identify <strong>specific questions or objectives</strong> that you want the reviewer to address.</p>
</li>
<li>
<p>Select <strong>potential reviewers</strong> by clicking on the &quot;Reviewers&quot; link in the right-hand sidebar.</p>
</li>
<li>
<p>Click the &quot;Create pull request&quot; button.</p>
</li>
</ul>
<p>Once the pull request has been created, the reviewer(s) can review your changes and discuss their feedback and suggestions with you.</p>
<h2 id="merging-a-pull-request-on-github"><a class="header" href="#merging-a-pull-request-on-github">Merging a pull request on GitHub</a></h2>
<p>When the pull request has been reviewed to your satisfaction, you can merge these changes by clicking the &quot;Merge pull request&quot; button.</p>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="collaborating/merge-pull-requests.html#admonition-info"></a></p>
</div>
<div>
<p>If the pull request has merge conflicts (e.g., if the branch you're merging <strong>into</strong> contains new commits), you will need to <a href="collaborating/../using-git/how-to-resolve-merge-conflicts.html">resolve these conflicts</a>.</p>
</div>
</div>
<p>For further details about merging pull requests on GitHub, see the <a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/incorporating-changes-from-a-pull-request/merging-a-pull-request">GitHub documentation</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="an-example-pull-request"><a class="header" href="#an-example-pull-request">An example pull request</a></h1>
<p>The initial draft of each chapter in this section were proposed in a <a href="https://github.com/robmoss/git-is-my-lab-book/pull/8">pull request</a>.</p>
<p>When this pull request was created, the branch added four new commits:</p>
<pre><code class="language-text">85594bf Add some guidelines for collaboration workflows
678499b Discuss coding style guides
2b9ff70 Discuss merge/pull requests and peer code review
6cc6f54 Discuss repository structure and licenses
</code></pre>
<p>and the author (Rob Moss) asked the reviewer (Eamon Conway) to address several details in particular.</p>
<p>Eamon made several suggestions in their <a href="https://github.com/robmoss/git-is-my-lab-book/pull/8#issuecomment-1139216530">initial response</a>, including:</p>
<ul>
<li>
<p>Moving the <a href="collaborating/../using-git/how-to-structure-a-repository.html">How to structure a repository</a> and <a href="collaborating/../using-git/choosing-a-license.html">Choosing a license</a> chapters to the <a href="collaborating/../using-git/">Effective use of git</a> section;</p>
</li>
<li>
<p>Starting this section with the <a href="collaborating/collaborating-on-code.html">Collaborating on code</a> chapter; and</p>
</li>
<li>
<p>Agreeing that we should use <a href="https://github.com/robmoss/git-is-my-lab-book/pull/8">this pull request</a> as an example in this book.</p>
</li>
</ul>
<p>In response, Rob pushed two commits that addressed the first two points above:</p>
<pre><code class="language-text">e1d1dd9 Move collaboration guidelines to the start
3f78ef8 Move the repository structure and license chapters
</code></pre>
<p>and then wrote this chapter to show how <strong>we used <a href="https://github.com/robmoss/git-is-my-lab-book/pull/8">a pull request</a> to draft this book section</strong>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="peer-code-review"><a class="header" href="#peer-code-review">Peer code review</a></h1>
<p>Once you're comfortable in using <a href="collaborating/merge-pull-requests.html">merge/pull requests</a> to review changes in a branch, you can use this approach for peer code review.</p>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="collaborating/peer-code-review.html#admonition-info"></a></p>
</div>
<div>
<p>Remember that code review is a <strong>discussion and critique</strong> of a person's work.
The code author will naturally feel that they own the code, and the reviewer needs to respect this.</p>
</div>
</div>
<p>For further advice and suggestions on how to conduct peer code review, please see the <a href="collaborating/../references.html#performing-peer-code-review">Performing peer code review</a> references.</p>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="collaborating/peer-code-review.html#admonition-tip"></a></p>
</div>
<div>
<p>Mention people who have reviewed your code in the acknowledgements section of the paper.</p>
</div>
</div>
<h2 id="define-the-goals-of-a-peer-review"><a class="header" href="#define-the-goals-of-a-peer-review">Define the goals of a peer review</a></h2>
<p>In creating a pull request and inviting someone to review your work, the pull request description should include the following details:</p>
<ul>
<li>
<p>An overview of the work included in the pull request: what have you done, why have you done it?</p>
</li>
<li>
<p>You may also want to explain how this work fits into the broader context of your research project.</p>
</li>
<li>
<p>Identify <strong>specific questions or tasks</strong> that you would like the reviewer to address.
For example, you might ask the reviewer to address one or more of the following questions:</p>
<ul>
<li>
<p>Can the reviewer run your code and reproduce the outputs?</p>
</li>
<li>
<p>Is the code easy to understand?</p>
</li>
<li>
<p>If you have a <a href="collaborating/coding-style-guides.html">style guide</a>, is the code formatted appropriately?</p>
</li>
<li>
<p>Do the model equation or data analysis steps seem sensible?</p>
</li>
<li>
<p>If you have written documentation, is it easy to understand?</p>
</li>
<li>
<p>Can the reviewer suggest how to improve or rewrite a specific piece of code?</p>
</li>
</ul>
</li>
</ul>
<div id="admonition-tip-1" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="collaborating/peer-code-review.html#admonition-tip-1"></a></p>
</div>
<div>
<p>Make the reviewer's job easier by giving them small amounts of code to review.</p>
</div>
</div>
<h2 id="finding-a-reviewer"><a class="header" href="#finding-a-reviewer">Finding a reviewer</a></h2>
<p>On GitHub we have started a <a href="https://github.com/orgs/spectrum-spark/teams/peer-review">peer-review team</a>.
We encourage you to post on the discussion board, to find like-minded members to review your code. </p>
<h2 id="guidelines-for-reviewing-other-peoples-code"><a class="header" href="#guidelines-for-reviewing-other-peoples-code">Guidelines for reviewing other people's code</a></h2>
<p>Peer code review is an opportunity for the author and the reviewer to <strong>learn from each other</strong> and improve a piece of code.</p>
<div id="admonition-tip-2" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="collaborating/peer-code-review.html#admonition-tip-2"></a></p>
</div>
<div>
<p>The most important guideline for the reviewer is to <strong>be kind</strong>.</p>
<p>Treat other people's code the way you would want them to treat your code.</p>
</div>
</div>
<ul>
<li>
<p><a href="https://www.alexandra-hill.com/2018/06/25/the-art-of-giving-and-receiving-code-reviews/"><strong>Avoid saying &quot;you&quot;</strong></a>.
Instead, say &quot;we&quot; or make the code the subject of the sentence.</p>
<ul>
<li>
<p>Don't say &quot;You don't have a test for this function&quot;, but instead say &quot;We should test this function&quot;.</p>
</li>
<li>
<p>Don't say &quot;Why did you write it this way?&quot;, but instead say &quot;What are the advantages of this approach?&quot;.</p>
</li>
</ul>
</li>
<li>
<p><strong>Ask questions</strong> rather than stating criticisms.</p>
<ul>
<li>Don't say &quot;This code is unclear&quot;, but instead say &quot;Can you help me understand how this code works?&quot;.</li>
</ul>
</li>
<li>
<p>Treat peer review as an opportunity to <strong>praise good work</strong>!</p>
<ul>
<li>
<p>Don't be afraid to tell the author that a piece of code was very clear, easy to understand, or well written.</p>
</li>
<li>
<p>Tell the author if reading their code made you aware of a useful function or package.</p>
</li>
<li>
<p>Tell the author if reading their code gave you some ideas for your own code.</p>
</li>
</ul>
</li>
</ul>
<h2 id="complete-the-review"><a class="header" href="#complete-the-review">Complete the review</a></h2>
<p>Once the peer code review is complete, and any corresponding updates to the code have been made, you can <a href="collaborating/merge-pull-requests.html">merge the branch</a>.</p>
<h2 id="retain-a-record-of-the-review"><a class="header" href="#retain-a-record-of-the-review">Retain a record of the review</a></h2>
<p>By using merge/pull requests to review code, the discussion between the author and the reviewer is recorded.
This can be a useful reference for future code reviews.</p>
<div id="admonition-tip-3" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="collaborating/peer-code-review.html#admonition-tip-3"></a></p>
</div>
<div>
<p>Try to record all of the discussion in the pull request comments, even if the author and reviewer meet in person, so that you have a complete record of the review.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="coding-style-guides"><a class="header" href="#coding-style-guides">Coding style guides</a></h1>
<p>A style guide defines rules and guidelines for how to structure and format your code.
This can make code <strong>easier to write</strong>, because you don't need to worry about how to format your code.
It can also make code <strong>easier to read</strong>, because consistent styling allows you to focus on the content.</p>
<p>There are two types of tools that can help you use a style guide:</p>
<ul>
<li>
<p>A <strong>formatter</strong> formats your code to make it consistent with a specific style; and</p>
</li>
<li>
<p>A <strong>linter</strong> checks whether your code is consistent with a specific style.</p>
</li>
</ul>
<h2 id="recommended-style-guides"><a class="header" href="#recommended-style-guides">Recommended style guides</a></h2>
<p>Because programming languages can be very different from each other, style guides are usually defined for a single programming language.</p>
<p>Here we list some of the most widely-used style guides for several common programming languages:</p>
<ul>
<li>
<p>For R there is a <a href="https://style.tidyverse.org/">tidyverse style guide</a>.</p>
<ul>
<li>You can apply this style to your code with <a href="http://styler.r-lib.org/">styler</a>.</li>
<li>You can check that your code conforms to this style with <a href="https://github.com/jimhester/lintr">lintr</a>.</li>
</ul>
</li>
<li>
<p>For Python there is <a href="https://black.readthedocs.io/">Black</a>, which defines a coding style and applies this style to your code.</p>
</li>
<li>
<p>For C++ there is a <a href="https://google.github.io/styleguide/cppguide.html">Google C++ style guide</a>.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="continuous-integration"><a class="header" href="#continuous-integration">Continuous integration</a></h1>
<p>Continuous Integration (CI) is an automated process where code changes are merged in a central repository in order to run automated tests and other processes.
This can provide rapid feedback while you develop your code and collaborate with others, as long as commits are regularly pushed to the central repository.</p>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="collaborating/continuous-integration.html#admonition-info"></a></p>
</div>
<div>
<p>This book is an example of Continuous Integration: every time a commit is pushed to the <a href="https://github.com/robmoss/git-is-my-lab-book">central repository</a>, the <a href="https://git-is-my-lab-book.net/">online book</a> is automatically updated.</p>
<p>Because the central repository is hosted on GitHub, we use <a href="https://docs.github.com/en/actions/quickstart">GitHub Actions</a>. Note that this is a GitHub-specific CI system.
You can view the update action for this book <a href="https://github.com/robmoss/git-is-my-lab-book/blob/master/.github/workflows/deploy.yml">here</a>.</p>
<p>We also use CI to publish each pull request, so that contributions can be previewed during the review process.
We added this feature in <a href="https://github.com/robmoss/git-is-my-lab-book/pull/26">this pull request</a>.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="project-structure-1"><a class="header" href="#project-structure-1">Project structure</a></h1>
<p>How we choose to structure a project can affect how readily someone else — or even yourself, after a period of absence — can understand, use, and extend the work.
A good project structure can serve as a table of contents and help the reader to navigate.</p>
<div id="admonition-question" class="admonition question">
<div class="admonition-title">
<p>Question</p>
<p><a class="admonition-anchor-link" href="project-structure/index.html#admonition-question"></a></p>
</div>
<div>
<p>Have you ever looked at your old code and wondered how it worked or how to make it run?</p>
</div>
</div>
<p>In an earlier section we provided some guidelines for <a href="project-structure/../using-git/how-to-structure-a-repository.html">how to structure a repository</a>.
In this section we present further guidelines and examples to help you choose a sensible structure for your current project and future projects.</p>
<p>This includes high-level recommendations that should apply to any project, and more detailed recommendations that may be specific to a particular type of project or choice of programming language.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="define-your-workflow"><a class="header" href="#define-your-workflow">Define your workflow</a></h1>
<p>A good first step in deciding how to structure a project is to ask yourself:</p>
<ul>
<li>
<p>What are the different project phases?</p>
</li>
<li>
<p>What are the major activities in each phase?</p>
</li>
</ul>
<h2 id="an-example-of-phases-and-activities"><a class="header" href="#an-example-of-phases-and-activities">An example of phases and activities</a></h2>
<p>For example, a project might involve the following phases:</p>
<ol>
<li>
<p>Clean an existing data set;</p>
</li>
<li>
<p>Build models with different hypotheses or features;</p>
</li>
<li>
<p>Fit each model to the data; and</p>
</li>
<li>
<p>Decide which model best explains the data.</p>
</li>
</ol>
<p>The data-cleaning phase might involve the following activities:</p>
<ul>
<li>
<p>Obtain the raw data;</p>
</li>
<li>
<p>Identify the quality checks that should be applied;</p>
</li>
<li>
<p>Decide how to resolve data that fail each quality check; and</p>
</li>
<li>
<p>Generate and record the cleaned data.</p>
</li>
</ul>
<p>The model-building phase might involve the following activities:</p>
<ul>
<li>
<p>Perform a literature search to identify relevant modelling studies;</p>
</li>
<li>
<p>Identify competing hypotheses or features that might explain the data;</p>
</li>
<li>
<p>Design a model that implements each hypothesis; and</p>
</li>
<li>
<p>Define the relationship between each model and the cleaned data.</p>
</li>
</ul>
<h2 id="reflect-this-workflow-in-your-project-structure"><a class="header" href="#reflect-this-workflow-in-your-project-structure">Reflect this workflow in your project structure</a></h2>
<p>You can use the phases and activities to guide your choice of directory structure.
For this example project, one possible structure is:</p>
<ul>
<li>
<p><code>project/</code>: the root directory of your project</p>
<ul>
<li>
<p><code>input/</code>: a sub-directory that contains input data;</p>
<ul>
<li>
<p><code>raw/</code>: the raw data <strong>before</strong> cleaning;</p>
</li>
<li>
<p><code>cleaned/</code>: the cleaned data;</p>
</li>
</ul>
</li>
<li>
<p><code>code/</code>: a sub-directory that contains the project code;</p>
<ul>
<li>
<p><code>cleaning/</code>: the data cleaning code;</p>
</li>
<li>
<p><code>model-first-hypothesis/</code>: the first model;</p>
</li>
<li>
<p><code>model-second-hypothesis/</code>: the second model;</p>
</li>
<li>
<p><code>fitting/</code>: the code that fits each model to the data;</p>
</li>
<li>
<p><code>evaluation/</code>: the code the compares the model fits;</p>
</li>
<li>
<p><code>plotting/</code>: the code that plots output figures;</p>
</li>
</ul>
</li>
<li>
<p><code>paper/</code>: a sub-directory for the project manuscript;</p>
<ul>
<li><code>figures/</code>: the output figures;</li>
</ul>
</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="automate-common-tasks"><a class="header" href="#automate-common-tasks">Automate common tasks</a></h1>
<p>If you reach the point where you need to run a specific sequence of commands or actions to achieve something — e.g., running a model simulation, or producing an output figure — it is a <strong>very good idea</strong> to write a script that performs all of these actions correctly.</p>
<p>This is because while you may remember exactly what needs to be done <strong>right now</strong>, you may not remember next week, or next month, or next year.
We're all human, and we all make mistakes, but these kinds of mistakes are <strong>easy to avoid</strong>!</p>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="project-structure/automating-tasks.html#admonition-info"></a></p>
</div>
<div>
<p>Mistakes are a fact of life. It is the response to the error that counts.</p>
<p>— Nikki Giovanni</p>
</div>
</div>
<p>There are many tools that can help you to automate tasks, some of which are smart enough that they will only do as little as possible (e.g., avoid re-running steps if the inputs have not changed).</p>
<p>There are popular tools aimed at specific programming languages, such as:</p>
<ul>
<li>
<p><strong>R:</strong> <a href="https://books.ropensci.org/targets/">targets</a>;</p>
</li>
<li>
<p><strong>Python</strong>: <a href="https://nox.thea.codes/">nox</a> and <a href="https://tox.wiki/">tox</a>; and</p>
</li>
<li>
<p><strong>Julia:</strong> <a href="https://juliapackages.com/p/pipelines">pipelines</a>.</p>
</li>
</ul>
<p>There are many generic automation tools (see, e.g., Wikipedia's list of <a href="https://en.wikipedia.org/wiki/List_of_build_automation_software">build automation software</a>), although these can be rather complex to learn.
We recommend using a language-specific automation tool where possible, and only using a generic automation tool as a last resort.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="explain-how-it-all-works"><a class="header" href="#explain-how-it-all-works">Explain how it all works</a></h1>
<p>Once you've chosen a project structure, you need to write down <strong>how it all works</strong> — regardless of how simple and clear your project structure is!</p>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="project-structure/explain-how-it-works.html#admonition-tip"></a></p>
</div>
<div>
<p>The best place to do this is in a <code>README.md</code> file (or equivalent) in the project root directory.</p>
</div>
</div>
<p>Begin with an overview of the project:</p>
<ul>
<li>
<p>What question(s) are you trying to address?</p>
</li>
<li>
<p>What data, hypotheses, methods, etc, are you using?</p>
</li>
<li>
<p>What outputs does this generate?</p>
</li>
</ul>
<p>You can then provide further detail, such as:</p>
<ul>
<li>
<p>What software environment and/or packages must be available for your code to run?</p>
</li>
<li>
<p>How can the user generate each of the outputs?</p>
</li>
<li>
<p>What license <a href="project-structure/../using-git/choosing-a-license.html">have you chosen</a>?</p>
</li>
</ul>
<h2 id="an-example-readmemd"><a class="header" href="#an-example-readmemd">An example README.md</a></h2>
<p>See the <a href="https://gitlab.unimelb.edu.au/rgmoss/aus-2020-covid-forecasts">Australian 2020 COVID-19 forecasts repository</a> for an example <code>README.md</code> file.</p>
<p>This repository was used to generate the results, tables, and figures presented in the paper &quot;<a href="https://doi.org/10.1038/s41598-023-35668-6">Forecasting COVID-19 activity in Australia to support pandemic response: May to October 2020</a>&quot;, <em>Scientific Reports</em> 13, 8763 (2023).</p>
<p><strong>Strengths:</strong></p>
<ul>
<li>
<p>It includes installation and usage instructions;</p>
</li>
<li>
<p>It identifies the paper; and</p>
</li>
<li>
<p>It identifies the license under which the code is distributed.</p>
</li>
</ul>
<p><strong>Weaknesses:</strong></p>
<ul>
<li>
<p>It only explains some of the project structure.</p>
</li>
<li>
<p>It doesn't provide an overview of the project, it only links to the paper.</p>
</li>
<li>
<p>The root directory contains a number of scripts and input files that aren't described.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exercise-what-works-for-you"><a class="header" href="#exercise-what-works-for-you">Exercise: what works for you?</a></h1>
<p>Look back at your past projects and identify aspects of their structure that you have found helpful.</p>
<ul>
<li>
<p>What features or choices have worked well in past projects and might help you structure your future projects?</p>
</li>
<li>
<p>What problems or issues have you experienced with the structure of your past projects, which you could avoid in your future projects?</p>
</li>
<li>
<p>Can any of your colleagues and collaborators share similar insights?</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="writing-code-1"><a class="header" href="#writing-code-1">Writing code</a></h1>
<p>For computational research, code is an important scientific artefact for the author, for colleagues and collaborators, and for the scientific community.
It is the <strong>ultimate form</strong> of expressing <strong>what you did</strong> and <strong>how you did it</strong>.
With good version control and documentation practices, it can also capture <strong>when and why</strong> you made important decisions.</p>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="writing-code/index.html#admonition-tip"></a></p>
</div>
<div>
<p>[W]e want to establish the idea that a computer language is not just a way of getting a computer to perform operations but rather that it is a novel formal medium for <strong>expressing ideas about methodology</strong>.
Thus, programs must be <strong>written for people to read</strong>, and only incidentally for machines to execute.</p>
<p>— <a href="https://mitpress.mit.edu/9780262510875/">Structure and Interpretation of Computer Programs</a>.
Abelson, Sussman, and Sussman, 1984.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-we-learn-to-write-code"><a class="header" href="#how-we-learn-to-write-code">How we learn to write code</a></h1>
<div id="admonition-question" class="admonition question">
<div class="admonition-title">
<p>Question</p>
<p><a class="admonition-anchor-link" href="writing-code/how-we-learn-to-write-code.html#admonition-question"></a></p>
</div>
<div>
<p>How have you learned to write code?
Were you given any formal training?</p>
</div>
</div>
<p>Unless you studied Software Engineering, you may never have had any formal training.
And that's okay!
<strong>Nobody writes perfect code</strong>.</p>
<p>There are various resources available (including this book) that can help you to improve your coding skills.
But the most effective way to improve is to write code <strong>and get feedback</strong>.</p>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="writing-code/how-we-learn-to-write-code.html#admonition-tip"></a></p>
</div>
<div>
<p>You can practice shooting eight hours a day, but if your technique is wrong, then all you become is very good at shooting the wrong way.</p>
<p>— Michael Jordan</p>
</div>
</div>
<h2 id="how-we-learn-to-write-papers"><a class="header" href="#how-we-learn-to-write-papers">How we learn to write papers</a></h2>
<p>Throughout our research careers, we are continually learning and developing our ability to write scientific papers.
One of the main ways that we develop this ability is to seek <strong>feedback early and often</strong>, by circulating drafts to co-authors, supervisors, and trusted colleagues.</p>
<p>This feedback not only helps us improve the paper that we're currently working on, but also improves our ability to write papers in the future.</p>
<p>We gradually learn how to express ourselves clearly at multiple levels:</p>
<ul>
<li>
<p>Writing individual sentences that clearly convey a single thought or observation;</p>
</li>
<li>
<p>Constructing paragraphs that span a single topic or idea;</p>
</li>
<li>
<p>Structuring an entire paper so that the reader can easily navigate it.</p>
</li>
</ul>
<h2 id="how-we-currently-learn-to-code"><a class="header" href="#how-we-currently-learn-to-code">How we <em><strong>currently</strong></em> learn to code</a></h2>
<p>Many of us learn to write code as a by-product of our chosen research area, and may not have any formal computer programming training.
However, while we may make our finished code available as a support material for our published papers, we don't typically show our code to our co-authors.</p>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="writing-code/how-we-learn-to-write-code.html#admonition-info"></a></p>
</div>
<div>
<p>While there are many reasons why we are reluctant to share our code, perhaps the biggest factor is a sense of shame.
We may feel that our code is &quot;bad&quot; — too bad to share with others! — and that if we've ever made a mistake in our code, we're the only person who has ever done so.</p>
<p><strong>This is simply untrue!</strong></p>
</div>
</div>
<h2 id="how-we-should-learn-to-code"><a class="header" href="#how-we-should-learn-to-code">How we <em><strong>should</strong></em> learn to code</a></h2>
<p>We should treat writing code the same way that we treat writing papers, grant applications, and fellowship applications: <strong>seek feedback early, and seek feedback often</strong>.</p>
<div id="admonition-question-1" class="admonition question">
<div class="admonition-title">
<p>Question</p>
<p><a class="admonition-anchor-link" href="writing-code/how-we-learn-to-write-code.html#admonition-question-1"></a></p>
</div>
<div>
<p>Wouldn't you prefer that the first person who looks at your code is a trusted colleague, rather than a random person who has read your paper and now wants to see how the code works?</p>
</div>
</div>
<p><a href="writing-code/../collaborating/peer-code-review.html">Peer code review</a> offers a structured way to:</p>
<ul>
<li>
<p>Discuss and critique a person's work in a kind and supportive manner;</p>
</li>
<li>
<p>Praise good work;</p>
</li>
<li>
<p>Identify where code is well-structured and clear, and where it could be improved; and</p>
</li>
<li>
<p>Share relevant knowledge and expertise.</p>
</li>
</ul>
<p>Similar to writing papers, we should <strong>seek feedback at multiple levels</strong>:</p>
<ul>
<li>
<p>Are individual lines of code clear and correct?</p>
</li>
<li>
<p>Are strongly-related lines of code grouped into functions that each do a single thing?</p>
</li>
<li>
<p>Are functions grouped into modules that focus on specific aspects or features?</p>
</li>
<li>
<p>Can the reader easily navigate the code?</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cohesion-and-coupling"><a class="header" href="#cohesion-and-coupling">Cohesion and coupling</a></h1>
<p><strong>Divide your code</strong> into modules, each of which does one thing (&quot;high cohesion&quot;) and depends as little as possible on other pieces (&quot;low coupling&quot;).</p>
<h2 id="common-project-components"><a class="header" href="#common-project-components">Common project components</a></h2>
<p>For example, an infectious diseases modelling project might often be divided into some of the following components:</p>
<ul>
<li>
<p>The model parameters — what are their values or prior distributions?</p>
</li>
<li>
<p>The initial model state — how is this created from the model parameters?</p>
</li>
<li>
<p>The model equations or update rules — how does the model evolve over time?</p>
</li>
<li>
<p>Summary statistics — what do you want to record for each simulation?
This might be the entire state history, a subset of the history, some aggregate statistics, or any combination of these things.</p>
</li>
<li>
<p>The input data (if any) — these may be case data, serological data, within-host specimen counts, etc.</p>
</li>
<li>
<p>The relationship between data and the model state (&quot;observation model&quot;).</p>
</li>
<li>
<p>Simulated data generated from a model simulation.</p>
</li>
</ul>
<p>As much as possible, each of these components (where relevant to your project) should be represented as <strong>a separate piece of code</strong>.</p>
<h2 id="separating-the-what-from-the-how"><a class="header" href="#separating-the-what-from-the-how">Separating the &quot;what&quot; from the &quot;how&quot;</a></h2>
<p>Dividing your code into separate components is especially important if you want to use a model for multiple purposes, such as:</p>
<ul>
<li>Exploring different scenarios;</li>
<li>Fitting to various data sets;</li>
<li>Performing sensitivity and uncertainty analyses; and</li>
<li>Forecasting future data.</li>
</ul>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="writing-code/cohesion-coupling.html#admonition-tip"></a></p>
</div>
<div>
<p>In particular, keep the following aspects of your project separate:</p>
<ul>
<li>
<p><strong>What to do:</strong> fitting to different data sets, exploring different scenarios, performing a sensitivity analysis, etc; and</p>
</li>
<li>
<p><strong>How to do it:</strong> the model implementation.</p>
</li>
</ul>
<p>If you want to explore a range of model scenarios, for example, define the parameter values (or sampling distributions) for each scenario in a separate input file.
Then write a script that takes an input file name as an argument, reads the parameter values, and uses these values to run the model simulations.</p>
<p>This makes it extremely simple to define and run new scenarios without modifying your code.</p>
</div>
</div>
<h2 id="interactions-between-components"><a class="header" href="#interactions-between-components">Interactions between components</a></h2>
<p>Choosing how your components interact (e.g., by calling functions or passing data) is <strong>just as important</strong> as deciding how to divide your code into components.</p>
<p>Here are some key recommendations from <a href="https://bertrandmeyer.com/OOSC2/">Object-Oriented Software Construction (2nd ed)</a>:</p>
<ul>
<li>
<p>Small interfaces: if two modules communicate, they should exchange as little information as possible.</p>
</li>
<li>
<p>Explicit interfaces: if two modules communicate, it should be obvious from the code in one or both of these modules.</p>
</li>
<li>
<p>Self documentation: strive to make all information about a module part of the module itself.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="behave-nicely"><a class="header" href="#behave-nicely">Behave nicely</a></h1>
<p>Would you feel comfortable running someone else's code if you thought it might affect your other files, applications, settings, or do something else that's unexpected?</p>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="writing-code/behave-nicely.html#admonition-tip"></a></p>
</div>
<div>
<p>Your code should be <strong>encapsulated:</strong> it should assume as little as possible about the computer on which it is running, and it shouldn't mess with the user's environment.</p>
</div>
</div>
<div id="admonition-tip-1" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="writing-code/behave-nicely.html#admonition-tip-1"></a></p>
</div>
<div>
<p>Your code should follow the <strong>principal of least surprise:</strong> behave in a way that most users will expect it to behave, and not astonish or surprise them.</p>
</div>
</div>
<h2 id="a-cake-analogy"><a class="header" href="#a-cake-analogy">A cake analogy</a></h2>
<p>Suppose you have two colleagues who regularly bake cakes, and you decide you'd like one of them to bake you a lemon cake with chocolate icing.</p>
<ul>
<li>
<p><strong>A nice colleague:</strong> you ask your colleague to bake a lemon cake with chocolate icing.</p>
<ul>
<li>That evening, they go home and bake a cake.</li>
<li>They bring the cake to work the next day.</li>
<li>The cake tastes of lemon and is topped with chocolate icing.</li>
</ul>
</li>
<li>
<p><strong>A messy colleague:</strong> you ask your colleague to bake a lemon cake with chocolate icing.</p>
<ul>
<li>They reply that they will make a cake</li>
<li>The next day, they come into your office with the ingredients and a portable oven.</li>
<li>They begin mixing ingredients, making a huge mess on your desk.</li>
<li>You have to wait until the batter is mixed before they ask you for your choice of flavour.</li>
<li>They don't have lemons, but add some orange zest to the batter.</li>
<li>Once the cake is baked, they let it cool.</li>
<li>One hour later they ask you what flavour icing you want.</li>
<li>They don't have chocolate or cocoa, so they a different icing.</li>
<li>They give you the cake.</li>
<li>The cake tastes of orange and is topped with strawberry icing.</li>
<li>Your office is covered in flour, sugar, and cake batter.</li>
</ul>
</li>
</ul>
<h2 id="some-specific-tips"><a class="header" href="#some-specific-tips">Some specific tips</a></h2>
<ul>
<li>
<p>Avoid modifying files outside of the project directory!</p>
</li>
<li>
<p>Avoid using hard-coded absolute paths, such as <code>C:\Users\My Name\Some Project\...</code> or <code>/Users/My Name/Some other directory</code>.
These make it harder for other people to use the code, or to run the code on high-performance computing platforms.</p>
</li>
<li>
<p>Prefer using paths that are relative to the root directory of your project, such as <code>input-data/case-data/cases-for-2023.csv</code>.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="coding-advice"><a class="header" href="#coding-advice">Coding advice</a></h1>
<ul>
<li>
<p>Think about how to cleanly structure your code.
Take a <strong>similar approach to how we write papers and grants</strong>.</p>
</li>
<li>
<p>Break the overall problem into pieces, and then decide how to structure each piece in turn.</p>
</li>
<li>
<p>Divide your code into functions that each do one &quot;thing&quot;, and group related functions into separate files or modules.</p>
</li>
<li>
<p>It can sometimes help to think about how you want the final code to look, and then design the functions and components that are needed.</p>
</li>
<li>
<p>Avoid global variables, aim to pass everything as function arguments.
This makes the code more robust and easier to run.</p>
</li>
<li>
<p>Avoid passing lots of individual parameters as separate arguments, this is prone to error — you might not pass them in the correct order.
Instead, collect the parameters into a single structure (e.g, a Python dictionary, an R named list).</p>
</li>
<li>
<p>Avoid making multiple copies of a model if you want to change some aspect of its behaviour.
Instead, add a new model parameter that enables/disables this new behaviour.
This allows you to use the same code to run the older and newer versions of the model.</p>
</li>
<li>
<p>Try to collect common or related tasks into a single script, and allow the user to select which task(s) to run, rather than creating many scripts that perform very similar tasks.</p>
</li>
<li>
<p>Write test cases to check key model properties.</p>
<ul>
<li>
<p>You want to identify problems and mistakes as soon as possible!</p>
</li>
<li>
<p>Thinking about how to make your code testable can help you improve its structure!</p>
</li>
<li>
<p>Well-written tests can also demonstrate <strong>how to use your code</strong>!</p>
</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="create-packages"><a class="header" href="#create-packages">Create packages</a></h1>
<p>For languages such as R, Python, and Julia, it is generally a good idea to <strong>write your code as a package/library</strong>.
This can make it easier to install and run your code on a new computer, on a high-performance computing platform, and for others to use on their own computers.</p>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="writing-code/create-packages.html#admonition-info"></a></p>
</div>
<div>
<p>This is <strong>a simple process</strong> and entirely separate from <strong>publishing</strong> your package or making it publicly available.</p>
<p>It also means you can avoid using <code>source()</code> in R, or adding directories to <code>sys.path</code> in Python.</p>
</div>
</div>
<p>To create a package you need to provide some necessary information, such as a package name, and the list of the packages that your code depends on (&quot;dependencies&quot;).
You can then use packaging tools to <strong>verify</strong> that you've correctly identified these dependencies and that your package can be successfully installed and used!</p>
<p>This is an important step towards <strong>ensuring your work is reproducible</strong>.</p>
<p>There are some great online resources that can help you get started.
We list here some widely-recommended resources for specific languages.</p>
<h2 id="writing-r-packages"><a class="header" href="#writing-r-packages">Writing R packages</a></h2>
<p>For <a href="https://www.r-project.org/">R</a>, see <a href="https://r-pkgs.org/">R Packages (2nd ed)</a> and the <a href="https://devtools.r-lib.org/">devtools package</a>.</p>
<p>Other useful references include:</p>
<ul>
<li><a href="https://devguide.ropensci.org/">rOpenSci Packages: Development, Maintenance, and Peer Review</a>;</li>
<li><a href="https://hilaryparker.com/2014/04/29/writing-an-r-package-from-scratch/">Writing an R package from scratch</a> by Hilary Parker;</li>
<li><a href="https://masalmon.eu/2017/12/11/goodrpackages/">How to develop good R packages</a> by Maëlle Salmon;</li>
<li><a href="https://tinyheero.github.io/jekyll/update/2015/07/26/making-your-first-R-package.html">Making your first R package</a> by Fong Chun Chan; and</li>
<li><a href="https://r-mageddon.netlify.app/post/writing-an-r-package-from-scratch/">Writing an R package from scratch</a> by Tomas Westlake.</li>
</ul>
<h2 id="writing-python-packages"><a class="header" href="#writing-python-packages">Writing Python packages</a></h2>
<p>The <a href="https://packaging.python.org/en/latest/">Python Packaging User Guide</a> provides a tutorial on <a href="https://packaging.python.org/en/latest/tutorials/packaging-projects/">Packaging Python Projects</a>.</p>
<p>Other useful references include:</p>
<ul>
<li>
<p>The <a href="https://www.pyopensci.org/">pyOpenSci project</a> also provide a <a href="https://www.pyopensci.org/python-package-guide/">Python Packaging Guide</a>.
This includes information about <a href="https://www.pyopensci.org/python-package-guide/package-structure-code/code-style-linting-format.html">code style, formatting, and linters</a>.</p>
</li>
<li>
<p>This <a href="https://gitlab.unimelb.edu.au/rgmoss/example-python-project/">example Python project</a> demonstrates one way of structuring a Python project as a package.</p>
</li>
</ul>
<h2 id="writing-julia-packages"><a class="header" href="#writing-julia-packages">Writing Julia Packages</a></h2>
<p>The Julia's <a href="https://pkgdocs.julialang.org/dev/">package manager documentation</a> provides a guide to <a href="https://pkgdocs.julialang.org/dev/creating-packages/">Creating Packages</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="check-your-code"><a class="header" href="#check-your-code">Check your code</a></h1>
<p>A &quot;linter&quot; is a tool that checks your code for syntax errors, possible mistakes, inconsistent formatting, and other potential issues.</p>
<p>We <strong>strongly recommend</strong> using an editor that displays linter warnings as you write your code.
Having instant feedback allows you to rapidly resolve many common issues and substantially improve your code.</p>
<p>We list here some of the most commonly used linters:</p>
<ul>
<li>
<p><strong>R:</strong> <a href="https://lintr.r-lib.org/">lintr</a></p>
</li>
<li>
<p><strong>Python:</strong> <a href="https://docs.astral.sh/ruff/">ruff</a></p>
</li>
<li>
<p><strong>Julia:</strong> <a href="https://lintjl.readthedocs.org/en/stable/">Lint.jl</a></p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="format-your-code"><a class="header" href="#format-your-code">Format your code</a></h1>
<div id="admonition-question" class="admonition question">
<div class="admonition-title">
<p>Question</p>
<p><a class="admonition-anchor-link" href="writing-code/format-your-code.html#admonition-question"></a></p>
</div>
<div>
<p>Have you ever looked at someone else's code and found it hard to read because they formatted it differently to your code?</p>
</div>
</div>
<p>Using a consistent code style can help make your code more legible and accessible to others, in much the same way that standard use of punctuation and spacing makes written text easier to read.</p>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="writing-code/format-your-code.html#admonition-tip"></a></p>
</div>
<div>
<p>Good coding style is like using correct punctuation: you can manage without it, butitsuremakesthingseasiertoread.</p>
<p>— Hadley Wickham, <a href="https://style.tidyverse.org/">the tidyverse style guide</a></p>
</div>
</div>
<p>We <strong>strongly recommend</strong> using an editor that can automatically format your code whenever you save.
This allows you to completely forget about formatting and focus on the content.</p>
<p>We list here some of the most commonly used style guides and code formatters:</p>
<div class="table-wrapper"><table><thead><tr><th>Language</th><th>Style guide(s)</th><th>Formatter</th></tr></thead><tbody>
<tr><td>R</td><td><a href="https://style.tidyverse.org/">tidyverse</a></td><td><a href="https://styler.r-lib.org/">styler</a></td></tr>
<tr><td>Python</td><td><a href="https://peps.python.org/pep-0008/">PEP 8</a> and <a href="https://docs.python-guide.org/writing/style/">The Hitchhiker's Style Guide</a></td><td><a href="https://black.readthedocs.io/en/stable/">black</a></td></tr>
<tr><td>Julia</td><td><a href="https://docs.julialang.org/en/v1/manual/style-guide/">style guide</a></td><td><a href="https://lintjl.readthedocs.org/en/stable/">Lint.jl</a></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="exercise-seek-feedback"><a class="header" href="#exercise-seek-feedback">Exercise: seek feedback</a></h1>
<div id="admonition-question" class="admonition question">
<div class="admonition-title">
<p>Question</p>
<p><a class="admonition-anchor-link" href="writing-code/exercise-seek-feedback.html#admonition-question"></a></p>
</div>
<div>
<p>One goal to keep in mind is to ensure your work is <strong>conceptually accessible</strong>: how readily could someone else (or even yourself, after a period of absence) understand your code?</p>
</div>
</div>
<ul>
<li>Seek feedback on some code that you are <strong>currently writing</strong> — before the code is &quot;finished&quot;.
You may want to refer to our <a href="writing-code/../collaborating/peer-code-review.html">peer code review guidelines</a> and consider <a href="writing-code/how-we-learn-to-write-code.html">what you want to learn</a>.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reproducibility"><a class="header" href="#reproducibility">Reproducibility</a></h1>
<p>This section demonstrates how to use version control and software testing to ensure that your research results can be independently reproduced by others.</p>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="reproducibility/index.html#admonition-tip"></a></p>
</div>
<div>
<p>Reproducibility is just as much about simple work habits as the tools used to share data and code.</p>
<p>— <a href="https://doi.org/10.1002/bes2.1801">Jesse M. Alston and Jessica A. Rick</a></p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="testing"><a class="header" href="#testing">Testing</a></h1>
<p>This section introduces the topic of software testing.
Testing your code is an important part of any code-based research activity.
Tests check whether your code behaves as intended, and can warn you if you introduce a bug or mistake into your code.</p>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="testing/index.html#admonition-tip"></a></p>
</div>
<div>
<p>Tests can show the presence of bugs, but <strong>not</strong> their absence.</p>
<p>— <a href="https://en.wikiquote.org/wiki/Edsger_W._Dijkstra">Edsger W. Dijkstra</a></p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cloud-and-hpc-platforms"><a class="header" href="#cloud-and-hpc-platforms">Cloud and HPC platforms</a></h1>
<p>This section introduces computing platforms that allow you to generate outputs more quickly, and without relying on your own laptop or desktop computer.
It also demonstrates how to use version control to ensure that the code running on these platforms is the same as the code on your laptop.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="case-studies"><a class="header" href="#case-studies">Case studies</a></h1>
<p>This section contains interesting and useful examples of incorporating Git into a research activity, as contributed by EMCRs in our network.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="fixing-a-bug-in-pypfilt"><a class="header" href="#fixing-a-bug-in-pypfilt">Fixing a bug in pypfilt</a></h1>
<p>Author: Rob Moss (<code>rgmoss@unimelb.edu.au</code>)</p>
<p>Project: <a href="https://pypfilt.readthedocs.io/">pypfilt</a>, a bootstrap particle filter for Python</p>
<p>Date: 27 October 2021</p>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>I introduced a bug when I modified a function in my <a href="https://pypfilt.readthedocs.io/">pypfilt</a> package, and only detected the bug after I had created several more commits.</p>
<p>To resolve this bug, I had to:</p>
<ol>
<li>
<p>Notice the bug;</p>
</li>
<li>
<p>Identify the cause of the bug;</p>
</li>
<li>
<p>Write a test case to check whether the bug is present; and</p>
</li>
<li>
<p>Fix the bug.</p>
</li>
</ol>
<h2 id="notice-the-bug"><a class="header" href="#notice-the-bug">Notice the bug</a></h2>
<p>I noticed that a regression test<sup class="footnote-reference"><a href="#regression">1</a></sup> was failing: re-running a set of model simulations was no longer generating the same output.
The results had changed, but none of my recent commits should have had this effect.</p>
<p><strong>I should have noticed this</strong> when I created the commit that introduced this bug, but:</p>
<ul>
<li>
<p>I had not pushed the most recent commits to the upstream <a href="https://gitlab.unimelb.edu.au/rgmoss/particle-filter-for-python">repository</a>, where all of the test cases are run automatically every time a new commit is pushed; and</p>
</li>
<li>
<p>I had not run the test cases on my laptop after making each of the recent commits, because this takes a few minutes and I was lazy.</p>
</li>
</ul>
<h2 id="identify-the-cause-of-the-bug"><a class="header" href="#identify-the-cause-of-the-bug">Identify the cause of the bug</a></h2>
<p>I knew that the bug had been introduced quite recently, and I knew that it affected a specific function: <a href="https://pypfilt.readthedocs.io/en/latest/api/state.html#pypfilt.state.earlier_states"><code>earlier_states()</code></a>.
Running <code>git blame src/pypfilt/state.py</code> indicated that the recent commit <a href="https://gitlab.unimelb.edu.au/rgmoss/particle-filter-for-python/-/commit/408b5f13302e5edb5ae7866286927873ed0f0c96"><code>408b5f1</code></a> was a likely culprit, because it changed many lines in this function.</p>
<p>In particular, I suspected the bug was occurring in the following loop, which steps backwards in time and handles the case where model simulations are reordered:</p>
<pre><code class="language-python"># Start with the parent indices for the current particles, which allow us
# to look back one time-step.
parent_ixs = np.copy(hist['prev_ix'][ix])

# Continue looking back one time-step, and only update the parent indices
# at time-step T if the particles were resampled at time-step T+1.
for i in range(1, steps):
    step_ix = ix - i
    if hist['resampled'][step_ix + 1, 0]:
        parent_ixs = hist['prev_ix'][step_ix, parent_ixs]
</code></pre>
<p>In stepping through this code, I identified that the following line was incorrect:</p>
<pre><code class="language-python">    if hist['resampled'][step_ix + 1, 0]:
</code></pre>
<p>and that changing <code>step_ix + 1</code> to <code>step_ix</code> <strong>should</strong> fix the bug.</p>
<p><strong>Note:</strong> I could have used <code>git bisect</code> to identify the commit that introduced this bug, but running all of the test cases for each commit is relatively time-consuming; since I knew that the bug had been introduced quite recently, I chose to use <code>git blame</code>.</p>
<h2 id="write-a-test-case"><a class="header" href="#write-a-test-case">Write a test case</a></h2>
<p>I wrote a test case <a href="https://gitlab.unimelb.edu.au/rgmoss/particle-filter-for-python/-/blob/9dcf621618fe76281a486af7bfba364e7bd26c13/tests/test_earlier_state.py"><code>test_earlier_state()</code></a> that called this <a href="https://pypfilt.readthedocs.io/en/latest/api/state.html#pypfilt.state.earlier_states"><code>earlier_states()</code></a> function a number of times, and checked that each set of model simulations were returned in the correct order.</p>
<p>This test case checks that:</p>
<ol>
<li>
<p>If the model simulations were not reordered, the original ordering is always returned;</p>
</li>
<li>
<p>If the model simulations were reordered at some time <code>t_0</code>, the original ordering is returned for times <code>t &lt; t_0</code>; and</p>
</li>
<li>
<p>If the model simulations were reordered at some time <code>t_0</code>, the new ordering is returned for times <code>t &gt;= t_0</code>.</p>
</li>
</ol>
<p>This test case failed when I reran the testing pipeline, which indicated that it identified the bug.</p>
<h2 id="fix-the-bug"><a class="header" href="#fix-the-bug">Fix the bug</a></h2>
<p>With the test case now written, I was able to verify that that changing <code>step_ix + 1</code> to <code>step_ix</code> <strong>did</strong> fix the bug.</p>
<p>I added the test case and the bug fix in commit <a href="https://gitlab.unimelb.edu.au/rgmoss/particle-filter-for-python/-/commit/9dcf621618fe76281a486af7bfba364e7bd26c13"><code>9dcf621</code></a>.</p>
<p>In the commit message I indicated:</p>
<ol>
<li>
<p>Where the bug was located: the <a href="https://pypfilt.readthedocs.io/en/latest/api/state.html#pypfilt.state.earlier_states"><code>earlier_states()</code></a> function;</p>
</li>
<li>
<p>When the bug was introduced: commit <a href="https://gitlab.unimelb.edu.au/rgmoss/particle-filter-for-python/-/commit/408b5f13302e5edb5ae7866286927873ed0f0c96"><code>408b5f1</code></a>; and</p>
</li>
<li>
<p>Why the bug was not detected when I created commit <a href="https://gitlab.unimelb.edu.au/rgmoss/particle-filter-for-python/-/commit/408b5f13302e5edb5ae7866286927873ed0f0c96"><code>408b5f1</code></a>.</p>
</li>
</ol>
<div class="footnote-definition" id="regression"><sup class="footnote-definition-label">1</sup>
<p>A regression test checks that a commit hasn't changed an existing behaviour or functionality.</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="incorrect-data-in-a-pre-print-figure"><a class="header" href="#incorrect-data-in-a-pre-print-figure">Incorrect data in a pre-print figure</a></h1>
<p>Author: Rob Moss (<code>rgmoss@unimelb.edu.au</code>)</p>
<p>Project: COVID-19 scenario modelling (<a href="https://bitbucket.org/robmoss/covid19-aus-scenario-model">public repository</a>)</p>
<h2 id="the-problem"><a class="header" href="#the-problem">The problem</a></h2>
<p>Our colleague James Trauer notified us that they suspected there was an error in Figure 2 of our COVID-19 scenario modelling <a href="https://doi.org/10.1101/2020.04.07.20056184">pre-print article</a>.
This figure showed model predictions of the daily ICU admission demand in an unmitigated COVID-19 pandemic, and in a COVID-19 pandemic with case targeted public health measures.
I inspected the script responsible for plotting this figure, and confirmed that I had mistakenly plotted the combined demand for ward and ICU beds, instead of the demand for ICU beds alone.</p>
<h2 id="the-solution"><a class="header" href="#the-solution">The solution</a></h2>
<p>This mistake was <a href="https://bitbucket.org/robmoss/covid19-aus-scenario-model/commits/7ed7d45f731e153f72b77b83c81a6a3aac888995">simple to correct</a>, but the obvious concern was whether any other outputs related to ICU bed demand were affected.</p>
<p>We conducted a detailed review of all data analysis scripts and outputs, and confirmed that this error only affected this single manuscript figure.
It had no bearing on the impact of the interventions in each model scenario.
Importantly, it did not affect any of the simulation outputs, summary tables, and/or figures that were included in our reports to government.</p>
<p>The corrected figure can be seen in the <a href="https://doi.org/10.3201/eid2612.202530">published article</a>.</p>
<h2 id="how-version-control-helped"><a class="header" href="#how-version-control-helped">How version control helped</a></h2>
<p>Because we used version control to record the development history of the model and all of the simulation analyses, we were able to easily inspect the repository state at the time of each prior analysis.
This greatly simplified the review process, and ensured that we were inspecting the code <strong>exactly as it was</strong> when we produced each analysis.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pen-and-paper---a-less-user-friendly-form-of-version-control-than-git"><a class="header" href="#pen-and-paper---a-less-user-friendly-form-of-version-control-than-git">Pen and paper - a less user-friendly form of version control than Git</a></h1>
<p>Author: Trish Campbell (<code>patricia.campbell@unimelb.edu.au</code>)</p>
<p>Project: Pertussis modelling</p>
<h2 id="the-problem-1"><a class="header" href="#the-problem-1">The problem</a></h2>
<p>In this project, I developed a compartmental model of pertussis to determine appropriate vaccination strategies.
While plotting some single model simulations, I noticed anomalies in the modelled output for two experiments.
The first experiment had an order of magnitude more people in the infectious compartments than in the second experiment, even though there seemed to be far fewer infections occurring.
This scenario did not fit with the parameter values that were being used.
In the differential equation file for my model, in addition to extracting the state of the model (i.e. the population in each compartment at each time step), for ease of analysis I also extracted the cumulative number of infections up to that time step.
The calculation for this extraction of cumulative incidence was incorrect.</p>
<h2 id="the-solution-1"><a class="header" href="#the-solution-1">The solution</a></h2>
<p>The error occurred because susceptible people in my model were not all equally susceptible, and I failed to account for this when I calculated the cumulative number of infections at each time step.
I identified that this was the problem by running some targeted test parameter sets and observing the changes in model output.
The next step was to find out how long this bug had existed in the code and which analyses had been affected.
While I was using version control, I tended to make large infrequent commits.
I did, however, keep extensive hand-written notes in lab books, which played the role of a detailed history of commits.
Searching through my historical lab books, I identified that I had introduced this bug into the code two years earlier.
I was able to determine which parts of my results would have been affected by the bug and made the decision that all experiments needed to be re-run.</p>
<h2 id="how-version-control-helped-1"><a class="header" href="#how-version-control-helped-1">How version control helped</a></h2>
<p>Using a <strong>pen and paper</strong> form of version control enabled me to pinpoint the introduction of the error and identify the affected analyses, but it was a tedious process.
While keeping an immaculate record of changes that I had made was invaluable, imagine how much simpler and faster the process would have been if I had been a regular user of an electronic version control system such as Git! </p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="community-of-practice"><a class="header" href="#community-of-practice">Community of Practice</a></h1>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="community/index.html#admonition-info"></a></p>
</div>
<div>
<p><em>Communities of Practice</em> are groups of people who share a concern or a passion for something they do and learn how to do it better as they interact regularly.</p>
<p>The community acts as a <strong>living curriculum</strong> and involves <strong>learning on the part of everyone</strong>.</p>
</div>
</div>
<p>The aim of a <em>Community of Practice</em> (<em>CoP</em>) is to come together as a community and engage in a process of <strong>collective learning</strong> in a shared domain.
The <a href="https://www.communityofpractice.ca/background/what-is-a-community-of-practice/">three characteristics</a> of a <em>CoP</em> are:</p>
<ol>
<li>
<p>Community: An environment for learning through interaction;</p>
</li>
<li>
<p>Practice: Specific knowledge shared by community members; and</p>
</li>
<li>
<p>Domain: A shared interest, problem, or concern.</p>
</li>
</ol>
<p>We meet as a community every 6 to 8 weeks, and capture observations in <a href="community/meetings/">meeting summaries</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="meetings"><a class="header" href="#meetings">Meetings</a></h1>
<p>This section contains summaries of each Community of Practice meeting.</p>
<ul>
<li>
<p><a href="community/meetings/2023-04-17.html">17 April 2023</a>: our initial meeting.</p>
</li>
<li>
<p><a href="community/meetings/2023-06-13.html">13 June 2023</a>: exploration of version control, reproducibility, and testing exercises.</p>
</li>
<li>
<p><a href="community/meetings/2023-08-15.html">15 August 2023</a>: changing our research and reproducibility practices.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="17-april-2023"><a class="header" href="#17-april-2023">17 April 2023</a></h1>
<p>This is our initial meeting.
The goal is to welcome people to the community and outline how we envision running these Community of Practice meetings.</p>
<h2 id="theme-reproducible-research"><a class="header" href="#theme-reproducible-research">Theme: Reproducible Research</a></h2>
<p>Outline the theme and scope for this community.</p>
<p>This is open to all researchers who share an interest in reproducible research and/or related topics and practices; <strong>no prior knowledge is required</strong>.</p>
<p>For example, consider these questions:</p>
<ul>
<li>
<p>Can you reproduce your current results on a new computer?</p>
</li>
<li>
<p>Can someone else reproduce your current results?</p>
</li>
<li>
<p>Can someone else reproduce your current results without your help?</p>
</li>
<li>
<p>Can you reproduce your own results from, say, 2 years ago?</p>
</li>
<li>
<p>Can someone else reproduce your own results from, say, 2 years ago?</p>
</li>
<li>
<p>Can you fix a mistake and update your own results from, say, 2 years ago?</p>
</li>
</ul>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="community/meetings/2023-04-17.html#admonition-tip"></a></p>
</div>
<div>
<p>The biggest challenge can often be remembering <strong>what</strong> you did and <strong>how</strong> you did it.</p>
<p>Making <strong>small changes</strong> to your practices can greatly improve reproducibilty!</p>
</div>
</div>
<h2 id="how-will-these-meetings-run"><a class="header" href="#how-will-these-meetings-run">How will these meetings run?</a></h2>
<ul>
<li>
<p>Aim to hold these meetings on a (roughly) monthly basis.</p>
</li>
<li>
<p>Prior to each meeting, we will invite community members to propose a topic or discussion point to be the focus of the meeting. This may be an open question or challenge, an example of good research practices, a useful software tool, etc.</p>
</li>
<li>
<p>Schedule each meeting to best suit the availability of community members who are particularly interested in the chosen topic.</p>
</li>
<li>
<p>Each meeting should be hosted by one or more community members, with online participation available to those who cannot attend in person.</p>
</li>
<li>
<p>At the end of each meeting, we will ask attendees how useful/effective they found the meeting, so that we can better cater to the needs of the community.
For example:</p>
<ul>
<li>What do you think of the session?</li>
<li>What did we do well?</li>
<li>What could we do better in the next session?</li>
</ul>
</li>
<li>
<p>We will summarise the key observations, findings, and outputs of each meeting in our online materials, and use them to improve and grow our training materials.</p>
</li>
</ul>
<h2 id="preferred-communication-channels"><a class="header" href="#preferred-communication-channels">Preferred communication channels?</a></h2>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="community/meetings/2023-04-17.html#admonition-info"></a></p>
</div>
<div>
<p>To function effectively as a community, we need to support asynchronous discussions in addition to scheduled meetings.</p>
</div>
</div>
<p>One option is a <a href="https://lists.unimelb.edu.au/info/reproducible-research-cop">dedicated mailing list</a>.
Other options were suggested:</p>
<ul>
<li>
<p>A <a href="https://slack.com/">Slack</a> workspace (Dave);</p>
</li>
<li>
<p>A <a href="https://discord.com/">Discord</a> channel (TK);</p>
</li>
<li>
<p>A <a href="https://teams.microsoft.com/">Teams</a> channel (Gerry); and</p>
</li>
<li>
<p>A private <a href="https://github.com/">GitHub</a> repository, using the issue tracker (Alex).</p>
</li>
</ul>
<p>Using a GitHub issue tracker might also serve as a gentle introduction to GitHub?</p>
<h2 id="supporting-activities-and-resources"><a class="header" href="#supporting-activities-and-resources">Supporting activities and resources?</a></h2>
<p>Are there other activities that we could organise to help support the community?</p>
<ul>
<li>
<p>We have online training materials, <a href="https://git-is-my-lab-book.net/">Git is my lab book</a>, which should be useful for people who are not familiar with version control.</p>
</li>
<li>
<p>We also have a <a href="https://github.com/orgs/spectrum-spark/teams/peer-review">SPECTRUM/SPARK peer review team</a>, where people can make their code available for peer review.</p>
</li>
</ul>
<h2 id="topics-for-future-meetings"><a class="header" href="#topics-for-future-meetings">Topics for future meetings?</a></h2>
<p>We asked each participant to suggest topics that they would like to see covered in future meetings and/or activities.
A number of common themes emerged.</p>
<h3 id="version-control-from-theory-to-practice"><a class="header" href="#version-control-from-theory-to-practice">Version control: from theory to practice</a></h3>
<p>A number of people mentioned now being sure how to get started, or starting with good intentions but ending up with a mess.</p>
<ul>
<li>
<p>Dave: how can I transition from principle to practice?</p>
</li>
<li>
<p>Ollie: similar to David, I often start well but end up with a mess.</p>
</li>
<li>
<p>Ruarai: what other have found useful and applied in this space, what options are out there?</p>
</li>
<li>
<p>Michael: I'm a complete novice, git command lines are a foreign language to me!
I'm looking for tips for someone who uses code a lot, experienced at coding but much less so on version control and the use of repositories.
<strong>What are the first steps</strong> to incorporate it into my workflow?</p>
</li>
<li>
<p>Angus: I'm also relatively new to Git and have been using <a href="https://desktop.github.com/">GitHub Desktop</a> (a GUI for Windows and Mac).
I'm not averse to command line stuff but I need to remember fewer arcane commands!</p>
</li>
<li>
<p>Samik: I use <a href="https://tortoisegit.org/">TortoiseGit</a> — a Windows Shell Interface to Git.</p>
</li>
<li>
<p>Gray: I resonate with Michael, I do most of my research on my own and describe it in papers.
It isn't particularly Git-friendly, I'm keen to learn.</p>
</li>
<li>
<p>Lauren: everything that everyone has said so far!
I've found some good guidelines for how to write reproducible code, starting from the basics all the way to niche topics.
Can we use this as a way to share materials that we've sound useful?
The British Ecological Society have <a href="https://www.britishecologicalsociety.org/publications/guides-to/">published guidelines</a>.
We could <strong>assemble good materials</strong> that start from basics.</p>
</li>
<li>
<p>David: The Society for Open, Reliable, and Transparent Ecology and Evolutionary Biology (<a href="https://www.sortee.org/">SORTEE</a>) also have good materials.</p>
</li>
<li>
<p>Gerry: I like the idea of reproducibility and I've done a terrible job of it in the past, my repository ends up with thousands of versions of different files.
Can you help me solve it?</p>
</li>
<li>
<p>Josh: Along the same lines of what's been stated.
How best to <strong>share knowledge of Git and best practices</strong> with others in a new research team?
How to adjust to their methods of conducting reproducible research, version control, etc?</p>
</li>
<li>
<p>Punya: not much to add, would really like to know more about version control, I have a basic understanding, what's the standard way of using it, reproducibility and documentation.</p>
</li>
<li>
<p>Rachel: I strongly support this idea of code reproducibility.
Best practice frameworks can be disseminated to modellers in modelling consortia, and they can be very helpful when auditing.</p>
</li>
<li>
<p>Ella: we're migrating models from Excel to R.</p>
</li>
<li>
<p>J'Belle: I work for a tiny, very remote health service at the Australian  and Papua New Guinea border.
We have 17 sources of clinical data, which presents massive challenges in reproducibility and quality assurance.
I'm looking to tap into your expertise.
How do we manage so many sources of clinical data?</p>
</li>
</ul>
<h3 id="working-with-less-technically-experienced-collaborators"><a class="header" href="#working-with-less-technically-experienced-collaborators">Working with less technically-experienced collaborators</a></h3>
<p>How can we make best use of existing tools and practices, while working with collaborators who have less technical expertise/experience?</p>
<ul>
<li>
<p>Alex: if I start a project with collaborators who may be less technically literate, how can they contribute without messing up reproducibility?
Options like <a href="https://www.docker.com/">Docker</a> are a little too complicated.
How can I motivate people, is there a simple solution?</p>
</li>
<li>
<p>Angus: in theory you may have reproducible code.
But if you need to write a paper with less technical collaborators, running the code and generating reports can be hard.
<strong>How do we collaborate</strong> on the writing side?
RMarkdown and equivalents makes a lot of sense, but most colleagues will only look at Word documents.
There are some workarounds, such as <a href="https://pandoc.org/">pandoc</a>.</p>
</li>
</ul>
<h3 id="reproducibility-best-practices-and-limitations"><a class="header" href="#reproducibility-best-practices-and-limitations">Reproducibility: best practices and limitations</a></h3>
<p>How far can/should we go in validating and demonstrating that our models and analyses are reproducible?
How can we automate this?
How is this impacted when we cannot share the input data, or when our models are extremely large and complex?</p>
<ul>
<li>
<p>Cam: there are unique issues in the type of research we do.
Working with code makes it easy in some ways, as opposed to experimental conditions in real-world experiments.
Our capacity for reproducibility is great, but so then is our burden.
We should be exploring the limitations!
Some challenges in our area come down to implementation of stochastic models with lots of random processes.
How can we do that well and make it part of what we practice?
What are the limitations to reproducibility and how do we perceive the goals when we are working when the data cannot be shared?</p>
</li>
<li>
<p>Samik: similar to Cam, I'm interested in how people have produced reproducible research where the data cannot be shared.
Perhaps we can provide default examples as test cases?</p>
</li>
<li>
<p>Michael: I second Cam's points, particularly about reproducibility with confidential data.
That's an issue I've hit multiple times.
We usually have a side folder with the real dataset, and pipe through condensed or aggregated versions of the data that we can release.</p>
</li>
<li>
<p>Jiahao: I'm interested in how to build a platform for using agent based models.
I've looked at lots of other models, but how can we bring them together so that it is easier to add a new variable or extend a model?</p>
</li>
<li>
<p>Eamon: I'm a Git fanatic, and I want to understand the development of code that I work with.
I get annoyed when people share a repository as a single commit.
People who don't use tags in their Git repositories to identify the version of the code they used in, e.g., a paper!
How do you start running the code?
What file formats does it expect to process?</p>
</li>
<li>
<p>Dion: I'm interested in seeing what people are doing that look like good practice.
Making sure that code and results are reproducible, in the sense that your code may be version controlled, but you've since made changes to code, parameters, input data, etc.
How do you do a good job to shoe-horn that all into Git?
Maybe use Git for development and simultaneously use a separate repository for production stuff?
We need to be able to look back and identify from the commit the code, data, intermediate files used along the way.</p>
</li>
<li>
<p>Palang: I've looked at papers with supplementary code, but running the code myself produces very different results from what's in the paper.</p>
</li>
<li>
<p>May: most people have said what I wanted to say.
I faced similar problems with running other people's code.
It may not print any error message, but you get very different results from what's published in the paper.
You don't know who or what is wrong!</p>
</li>
</ul>
<h3 id="testing-and-documentation"><a class="header" href="#testing-and-documentation">Testing and documentation</a></h3>
<p>How can we develop confidence in our own code, and in other people's code?</p>
<ul>
<li>
<p>TK: I want to learn/see different conventions for writing code documentation.
I've never managed to get <a href="https://www.doxygen.nl/">doxygen</a> working to my satisfaction.</p>
</li>
<li>
<p>Angus: <strong>how do we design good tests?</strong>
How to test, when to test, what to test for?
Should we have coverage targets?
<strong>Are there ways to automated testing?</strong></p>
</li>
<li>
<p>Rahmat: I often find it very hard to learn <strong>how to use other people's code</strong>.
The code needs to be easy to understand.
Otherwise, I will just write the code myself!
Sometimes when I run the code, I have difficulties in generating results, many errors come up and it's not clear why.
Perhaps all of the necessary data have not been shared with the code?
We need to include the data, but if the data cannot be provided, you need to provide similar data so that other can run the code.
It also helps to use a language that others are familiar with.</p>
</li>
</ul>
<h3 id="code-reuse"><a class="header" href="#code-reuse">Code reuse</a></h3>
<ul>
<li>
<p>Pan: I am not sure about the term reproducibility in the context of coders.
I know lab people really do reuse published protocols.
But do coders actually reuse other people's code to do their work?</p>
</li>
<li>
<p>Gerry: People often make their code into <strong>packages</strong> which others reuse.
This could be a good topic for future meetings.</p>
</li>
</ul>
<h3 id="using-chat-gpt-to-writecheck-code"><a class="header" href="#using-chat-gpt-to-writecheck-code">Using Chat GPT to write/check code</a></h3>
<ul>
<li>
<p>Pan: I recently joined a meeting where people have used Chat GPT to check their code.
Does this group have any thoughts on how we might make good use of Chat GPT?</p>
</li>
<li>
<p>Cam: Chat GPT is not reproducible itself, so it seems questionable to use it to check reproducibility.</p>
</li>
<li>
<p>Alex: I don't entirely agree, it can be very useful for improving the implementation of a function.
In terms of generating reliable code, it's wonderful.
It's a nightmare for evaluating existing code.</p>
</li>
<li>
<p>Pan: people are using Chat GPT to generate initial templates.</p>
</li>
<li>
<p>Eamon: If you encounter code that has poor documentation, Chat GPT is surprisingly good at telling you how to use it.</p>
</li>
<li>
<p>Matt: I don't have anything to add to the above, I'm happy to be along for the ride.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="13-june-2023"><a class="header" href="#13-june-2023">13 June 2023</a></h1>
<p>In this meeting we asked participants to share their experiences exploring the version control, reproducibility, and testing exercises in our <a href="https://github.com/rrcop/example-testing-and-reproducibility">example repository</a>.</p>
<p>This repository serves an introduction to testing models and ensuring that their outputs are reproducible.
It contains a simple stochastic model that draws samples from a normal distribution, and some tests that check whether the model outputs are consistent with our expectations.</p>
<h2 id="what-is-a-reproducible-environment"><a class="header" href="#what-is-a-reproducible-environment">What is a reproducible environment?</a></h2>
<p>The exercise description was deliberately very open, but it may have been too vague:</p>
<blockquote>
<p>Define a reproducible environment in which the model can run.</p>
</blockquote>
<p>We avoided listing possible details for people to consider, such as software and package versions.
Perhaps a better approach would have been to ask:</p>
<blockquote>
<p>If this code was provided as supporting materials for a paper, <strong>what other information would you need</strong> in order to run it and be confident of obtaining the same results as the original authors?</p>
</blockquote>
<p>The purpose of a reproducible environment is to define all of these details, so that you never have to say to someone &quot;well, it runs fine on my machine&quot;.</p>
<h2 id="reproducibility-and-stochasticity"><a class="header" href="#reproducibility-and-stochasticity">Reproducibility and stochasticity</a></h2>
<p>Many participants observed that the model <strong>was not reproducible</strong> unless we used a random number generator (RNG) with a known seed, which would ensure that the model produces the same output each time we run it.</p>
<p>But what if you're using a package or library that internally uses their own RNG and/or seed?
This may not be something you can fix, but you should be able to detect it by running the model multiple times with the same seed, and checking whether you get identical result each time.</p>
<p>Another important question was raised: <strong>do you, or should you, include the RNG seed in your published code?</strong>
This is probably a good idea, and suggested solutions included setting the seed at the very start of your code (so that it's immediately visible) or including it as a required model parameter.</p>
<h2 id="writing-test-cases"><a class="header" href="#writing-test-cases">Writing test cases</a></h2>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="community/meetings/2023-06-13.html#admonition-tip"></a></p>
</div>
<div>
<p>Write a test case <strong>every time you find a bug:</strong> ensure that the test case finds the bug, then fix the bug, then ensure that the test case passes.</p>
</div>
</div>
<p>A test case is a piece of code that checks that something behaves as expected.
This can be as simple as checking that a mathematical function returns an expected value, to running many model simulations and verifying that a summary statistic falls within an expected range.</p>
<p>Rather than trying to write a single test that checks many different properties of a piece of code, it can be much simpler and quicker to write many separate tests that each check a single property.
This can provide more detailed feedback when one or more test cases fail.</p>
<div id="admonition-note" class="admonition note">
<div class="admonition-title">
<p>Note</p>
<p><a class="admonition-anchor-link" href="community/meetings/2023-06-13.html#admonition-note"></a></p>
</div>
<div>
<p>This approach is similar to how we rely on multiple public health interventions to protect against disease outbreaks!
Consider each test case as <a href="http://web.archive.org/web/20230604050412/https://www.nytimes.com/2020/12/05/health/coronavirus-swiss-cheese-infection-mackay.html">a slice of Swiss cheese</a> — many imperfect tests can provide a high degree of confidence in our code.</p>
</div>
</div>
<h2 id="writing-test-cases-for-conditions-that-may-fail"><a class="header" href="#writing-test-cases-for-conditions-that-may-fail">Writing test cases for conditions that may fail</a></h2>
<p>If you are testing a stochastic model, you may find certain test cases are difficult to write.</p>
<p>For example, consider a stochastic SIR model where you want to test that an intervention reduces the number of cases in an outbreak.
You may, however, observe that in a small proportion of simulations the intervention has no effect (or it may even increase the number of cases).</p>
<p>One approach is to run many pairs of simulations and only check that the intervention reduced the number of cases at least X% of the time.
You need to decide how many simulations to run, and what is an appropriate value for X%, <strong>but that's okay!</strong>
Remember the Swiss cheese analogy, mentioned above.</p>
<h2 id="testing-frameworks"><a class="header" href="#testing-frameworks">Testing frameworks</a></h2>
<p>If you have more than 2 or 3 test cases, it's a good idea to use a testing framework to automatically find your test cases, run each test, record whether it passed or failed, and report the results.
These frameworks are usually specific to a single programming language.</p>
<p>Some commonly-used frameworks include:</p>
<ul>
<li>Python: <a href="https://docs.pytest.org/">pytest</a></li>
<li>R: <a href="https://testthat.r-lib.org/">testthat</a></li>
<li>Matlab: <a href="https://au.mathworks.com/help/matlab/matlab-unit-test-framework.html">included in the language</a></li>
<li>Julia: <a href="https://docs.julialang.org/en/v1/stdlib/Test/">included in the language</a></li>
</ul>
<h2 id="github-actions"><a class="header" href="#github-actions">GitHub Actions</a></h2>
<p>Multiple participants reported some difficulties in setting up <a href="https://docs.github.com/en/actions/learn-github-actions">GitHub actions</a> and knowing how to adapt available templates to their needs.
See the following examples:</p>
<ul>
<li><a href="https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-python">Python starter workflow</a>; and</li>
<li><a href="https://github.com/r-lib/actions">GitHub Actions for R</a>.</li>
</ul>
<p>We will aim to provide a GitHub action workflow for each model, and add comments to explain how to adapt these templates.</p>
<div id="admonition-warning" class="admonition warning">
<div class="admonition-title">
<p>Warning</p>
<p><a class="admonition-anchor-link" href="community/meetings/2023-06-13.html#admonition-warning"></a></p>
</div>
<div>
<p>One downside of using GitHub Actions is the limited computation time of <a href="https://docs.github.com/en/billing/managing-billing-for-github-actions/about-billing-for-github-actions">2,000 minutes per month</a>.
This may not be suitable for large agent-based models and other long-running tasks.</p>
</div>
</div>
<h2 id="pull-requests"><a class="header" href="#pull-requests">Pull requests</a></h2>
<p>At the time of writing, <strong>three participants have contributed</strong> <a href="https://github.com/rrcop/example-testing-and-reproducibility/pulls/">pull requests</a>:</p>
<ul>
<li>
<p>TK added <a href="https://github.com/rrcop/example-testing-and-reproducibility/pull/1">a default seed</a> so that the model outputs are reproducible.</p>
</li>
<li>
<p>Micheal added <a href="https://github.com/rrcop/example-testing-and-reproducibility/pull/2">a MATLAB version</a> of the model and the test cases.</p>
</li>
<li>
<p>Cam added <a href="https://github.com/rrcop/example-testing-and-reproducibility/pull/3">several features</a>, such as recording metadata about the Python environment and testing that the model outputs are reproducible.</p>
</li>
</ul>
<div id="admonition-tip-1" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="community/meetings/2023-06-13.html#admonition-tip-1"></a></p>
</div>
<div>
<p>If you make your own copy (&quot;fork&quot;) of the <a href="https://github.com/rrcop/example-testing-and-reproducibility">example repository</a>, you can create as many commits as you want.
GitHub will display a message that says:</p>
<blockquote>
<p>This branch is <strong>N commits ahead</strong> of rrcop:master.</p>
</blockquote>
<p>Click on the &quot;N commits ahead&quot; link to see a summary of your new commits.
You can then click the big green button &quot;Create pull request&quot;.</p>
<p>This <strong>will not modify the example repository</strong>.
Instead, it will create an overview of the changes between your code and the example repository.
We can then review these changes, make suggestions, you can add new commits, etc, before deciding whether to add these changes to the example repository.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="15-august-2023"><a class="header" href="#15-august-2023">15 August 2023</a></h1>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="community/meetings/2023-08-15.html#admonition-info"></a></p>
</div>
<div>
<p>See the <a href="community/meetings/2023-08-15.html#resources">Resources section</a> for links to useful resources that were mentioned in this meeting.</p>
</div>
</div>
<h2 id="changes-to-practices"><a class="header" href="#changes-to-practices">Changes to practices</a></h2>
<p>In this meeting we asked everyone what changes (if any) they have made to their research and reproducibility practices since our <a href="community/meetings/2023-06-13.html">last meeting</a>.</p>
<p>A common theme was improving <strong>how we note and record our past actions</strong>.
For example:</p>
<ul>
<li>
<p>Eamon has begun recording the commit ID (&quot;hash&quot;) of the code that was used to generate each set of outputs.
This allows him to easily retrieve the exact version of the code that was used to generate any past result and, e.g., generate other outputs of interest.</p>
</li>
<li>
<p>Pan talked about how their group records raw <strong>separately from, but grouped with</strong>, the analysis code and processed data that were generated from these raw data.
They also record every step of their model-fitting process, which may not always go as smoothly as expected.</p>
<p>This ensures that stakeholders who want to use these models to run their own scenarios <strong>can reproduce the baseline scenarios</strong> without being modelling experts themselves.</p>
<p>The model is available as <a href="https://comomodel.net/">an online app</a>.</p>
</li>
<li>
<p>Rob has begun working on an existing malaria model, which was implemented in R as a series of scripts that shared many global variables.
He wanted to restructure code to better understand it, so he used version control to record the simulation outputs and ensure that he didn't change the model's behaviour as he restructured the code.
On several occasions he modified parts of the code and discovered that these changes unexpectedly affected the simulation outputs.
This is a <strong>manual equivalent of using continuous integration</strong>.</p>
</li>
</ul>
<h2 id="how-do-you-structure-a-project"><a class="header" href="#how-do-you-structure-a-project">How do you structure a project?</a></h2>
<p>Gizem asked the group &quot;How do you choose an appropriate project structure, <strong>especially if the project changes over time?</strong>&quot;</p>
<p>Phrutsamon: the <a href="https://www.projecttier.org/tier-protocol/protocol-4-0/#%3A~%3Atext%3DFlexibility%20and%20Adaptability%20of%20the%20TIER%20Protocol">TIER Protocol 4.0</a> provides a template for organising the contents and reproduction documentation for projects that involve working with statistical data.</p>
<p>Rob: there may not be a single perfect solution that addresses everyone's needs.
But look back at past projects, and try to imagine how the current project might change in the future.
And if you're using version control, don't be afraid to experiment with different project structures — you can always revert back to an earlier commit.</p>
<h2 id="reviewing-code-as-part-of-manuscript-peer-review"><a class="header" href="#reviewing-code-as-part-of-manuscript-peer-review">Reviewing code as part of (manuscript) peer review</a></h2>
<p>Rob asked the group &quot;Has anyone reviewed supporting code when reviewing a manuscript?&quot;</p>
<ul>
<li>
<p>Ruarai read through R code that was provided with a paper, but was unable to run all of it — some of the code produced errors.</p>
</li>
<li>
<p>Similarly, Rob has read R code provided with a paper that used hard-coded paths that did not exist (e.g., <code>&quot;C:\Users\&lt;Author Name&gt;\...&quot;</code>), tried to run code in source files that did not exist, and read data from CSV files that did not exist.</p>
</li>
</ul>
<div id="admonition-info-1" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="community/meetings/2023-08-15.html#admonition-info-1"></a></p>
</div>
<div>
<p>Pan mentioned a <strong>fantastic exercise for research students.</strong></p>
<p>Pick a modelling paper that is relevant to their research project, and ask the student to:</p>
<ol>
<li>read it;</li>
<li>understand it; and</li>
<li><strong>reproduce the figures</strong>.</li>
</ol>
<p>This teaches the students that reproducibility is very important, and shows them what they need to do when they publish their own results.</p>
<p>It's important to pick a relatively simple paper, so that this task isn't too complicated for the student.
And if the paper is written by a colleague or collaborator, you can contact them to ask for extra details, etc.</p>
</div>
</div>
<h2 id="using-shiny-to-make-models-availablereproducible"><a class="header" href="#using-shiny-to-make-models-availablereproducible">Using Shiny to make models available/reproducible</a></h2>
<p>Pan asked the group &quot;What do you think about (the extra work involved in) turning R code into Shiny applications, to show that the model is reproducible, and do so in a way that lets others easily make use it?&quot;</p>
<p>An objective of the <a href="https://como.bmj.com/">COVID-19 International Modelling Consortium</a> (CoMo) is to make models available and usable for non-modellers — turning models into something that anyone with minimal knowledge can explore.</p>
<p>The model is <a href="https://comomodel.net/">available as a Shiny app</a>, and is continually being updated and refined.
It is currently at version 19!
Pan's group is trying to ensure that existing users update to the most recent version, because it can be very challenging and time-consuming to create scenario templates for older model versions.
Templates are a good way to help the user define their scenario-specific settings, but it's a nightmare when you change the model version — it's like working with a new model.</p>
<ul>
<li>
<p>Eamon: this is similar to when software platforms make changes to their APIs.
Can you make backwards-compatible changes, or automatically transform old templates to make them compatible with the latest model version?
This kind of work is simple to fund when your software is a commercial product, but it's much harder to find funding for academic outputs.</p>
</li>
<li>
<p>Pan: It's a lot of extra work, without any money to support it.
For this consortium we hired several programmers, some for the coding, some specifically for the Shiny app, it involved a lot of resources.
That project has now ended, but we've learned a lot and have a good network of collaborators.
We still have monthly meetings!
This was a special case with COVID-19, because the context changed so quickly.
It would be much less of a problem with other diseases, which we better understood.</p>
</li>
<li>
<p>Gizem: very much in favour of using Shiny to make models available, and recently made a Shiny app for their latest project (currently under review).
Because the model is very complicated, we had to pre-calculate model results for specific parameter combinations, and only allow users to choose between these parameter combinations.
One reviewer asked for a modified figure to show results for slightly different parameter values, and it was quite simple to address.</p>
<p>Hadley Wickham has <a href="https://mastering-shiny.org/">written a very good book</a> about developing R Shiny applications.
Gizem read a chapter of this book each morning, but found it <strong>necessary to practice</strong> in order to really understand how to use Shiny.</p>
</li>
</ul>
<div id="admonition-info-2" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="community/meetings/2023-08-15.html#admonition-info-2"></a></p>
</div>
<div>
<p><strong>Learning by doing</strong> (experiential learning) is <a href="https://doi.org/10.9734/bpi/ctas/v1/12143d">a highly-effective way</a> of convincing people to change their practices.
It can be <a href="https://doi.org/10.1016/j.puhe.2013.10.009">greatly</a> <a href="https://doi.org/10.9734/bpi/ctas/v1/12143d">enhanced</a> by <a href="https://doi.org/10.1371/journal.pcbi.1010750">engaging</a> <strong>as a community</strong>.</p>
</div>
</div>
<h2 id="resources"><a class="header" href="#resources">Resources</a></h2>
<h3 id="teaching-reproducibility-and-responsible-workflows"><a class="header" href="#teaching-reproducibility-and-responsible-workflows">Teaching reproducibility and responsible workflows</a></h3>
<p>The Journal of Statistics and Data Science Education published a <a href="https://www.tandfonline.com/toc/ujse21/30/3?nav=tocList">special issue: Teaching Reproducibility</a> in November 2022.
The accompanying <a href="https://doi.org/10.1080/26939169.2022.2141001">editorial article</a> highlights:</p>
<blockquote>
<p>Integrating reproducibility into our practice and our teaching can seem intimidating initially.
<strong>One way forward is to start small.</strong>
Make one small change to add an element of exposing students to reproducibility in one class, then make another the next semester.
<strong>Our students can get much of the benefit of reproducible and responsible workflows even if we just make a few small changes in our teaching.</strong>
These efforts will help them to make more trustworthy insights from data.
If it leads, by way of some virtuous cycle, to us improving our own practice, then even better!
Improving our teaching through providing curricular guidance about reproducible science will take time and effort that should pay off in the long term.</p>
</blockquote>
<p>This journal issue was followed by an <a href="https://github.com/ttimbers/jsm2023-teaching-reproducibility-and-responsible-workflow">invited paper session</a> with the following presentations:</p>
<ul>
<li>
<p>Collaborative writing workflows: building blocks towards reproducibility</p>
</li>
<li>
<p>Opinionated practices for teaching reproducibility: motivation, guided instruction, and practice</p>
</li>
<li>
<p>From teaching to practice: Insights from the Toronto Reproducibility Conferences</p>
</li>
<li>
<p>Teaching reproducibility and responsible workflow: an editor's perspective</p>
</li>
</ul>
<h3 id="project-templates"><a class="header" href="#project-templates">Project templates</a></h3>
<ul>
<li>
<p>The <a href="https://www.projecttier.org/tier-protocol/protocol-4-0/#%3A~%3Atext%3DFlexibility%20and%20Adaptability%20of%20the%20TIER%20Protocol">TIER Protocol 4.0</a> provides a template for organising the contents and reproduction documentation for projects that involve working with statistical data:</p>
<blockquote>
<p>Documentation that meets the specifications of the TIER Protocol contains all the data, scripts, and supporting information necessary to enable you, your instructor, or an interested third party to reproduce all the computations necessary to generate the results you present in the report you write about your project.</p>
</blockquote>
</li>
</ul>
<h3 id="using-shiny"><a class="header" href="#using-shiny">Using Shiny</a></h3>
<ul>
<li>
<p><a href="https://mastering-shiny.org/">Mastering Shiny</a>: an online book that teaches how to create web applications with R and Shiny.</p>
</li>
<li>
<p><a href="https://comomodel.net/">CoMo Consortium App</a>: the COVID-19 International Modelling Consortium (CoMo) has developed web application for an age-structured, compartmental SEIRS model.</p>
</li>
</ul>
<h3 id="continuous-integration-examples-for-r"><a class="header" href="#continuous-integration-examples-for-r">Continuous integration examples for R</a></h3>
<ul>
<li>
<p><a href="https://raps-with-r.dev/ci_cd.html">Building reproducible analytical pipelines with R</a>: this article shows how to use GitHub Actions to run R code when you push new commits to a GitHub repository.</p>
</li>
<li>
<p><a href="https://github.com/r-lib/actions">GitHub Actions for the R language</a>: this repository provides a variety of GitHub actions for R projects, such as installing specific versions of R and R packages.</p>
</li>
</ul>
<h3 id="continuous-integration-examples-for-python"><a class="header" href="#continuous-integration-examples-for-python">Continuous integration examples for Python</a></h3>
<ul>
<li><a href="https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-python">GitHub Actions for Python</a>: the GitHub Actions documentation includes examples of building and testing Python projects.</li>
</ul>
<h3 id="other-continuous-integration-examples"><a class="header" href="#other-continuous-integration-examples">Other continuous integration examples</a></h3>
<p>See the GitHub actions for <strong>Git is my lab book</strong>, available <a href="https://github.com/robmoss/git-is-my-lab-book/tree/master/.github/workflows">here</a>.
For example, the <a href="https://github.com/robmoss/git-is-my-lab-book/blob/master/.github/workflows/build.yml">build action</a> performs the following actions:</p>
<ol>
<li>
<p>Check out the repository, using <code>actions/checkout</code>;</p>
</li>
<li>
<p>Install <a href="https://rust-lang.github.io/mdBook/">mdBook</a> and other required tools, using <a href="https://www.gnu.org/software/make/manual/html_node/index.html">make</a>.</p>
</li>
<li>
<p>Build a HTML version of the book, using <code>mdBook</code>.</p>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-contribute-1"><a class="header" href="#how-to-contribute-1">How to contribute</a></h1>
<h2 id="add-a-case-study"><a class="header" href="#add-a-case-study">Add a case study</a></h2>
<p>If you've made use of Git in your research activities, <strong>please let us know!</strong>
We're looking for <a href="case-studies/README.html">case studies</a> that highlight how EMCRs are using Git.
See the instructions for suggesting new content (below).</p>
<h2 id="provide-comments-and-feedback"><a class="header" href="#provide-comments-and-feedback">Provide comments and feedback</a></h2>
<p>The easiest way to provide comments and feedback is to <a href="https://github.com/robmoss/git-is-my-lab-book/issues">create an issue</a>.
Note that this requires a GitHub account.
If you do not have a GitHub account, you can email any of the authors.
Please include &quot;Git is my lab book&quot; in the subject line.</p>
<h2 id="suggest-modifications-and-new-content"><a class="header" href="#suggest-modifications-and-new-content">Suggest modifications and new content</a></h2>
<p>This book is written in Markdown and is published using <a href="https://rust-lang.github.io/mdBook/">mdBook</a>.
You can suggest modifications and new content by:</p>
<ul>
<li>
<p>Forking <a href="https://github.com/robmoss/git-is-my-lab-book">the book repository</a>;</p>
</li>
<li>
<p>Adding, deleting, and/or modifying book chapters in the <code>src/</code> directory;</p>
</li>
<li>
<p>Recording your changes in one or more git commits; and</p>
</li>
<li>
<p><a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request">Creating a pull request</a>, so that we can review your suggestions.</p>
</li>
</ul>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="how-to-contribute.html#admonition-info"></a></p>
</div>
<div>
<p>You can also edit any page by clicking the &quot;Suggest an edit&quot; button (<i class="fa fa-edit"></i>) in the top-right corner.
This will start the process described above by forking the book repository.</p>
</div>
</div>
<div id="admonition-tip" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="how-to-contribute.html#admonition-tip"></a></p>
</div>
<div>
<p>When editing Markdown content, please <strong>start each sentence on a separate line</strong>.
Also check that your text editor <strong>removes trailing whitespace</strong>.</p>
<p>This ensures that each commit will contain only the modified sentences, and makes it easier to inspect the repository history.</p>
</div>
</div>
<div id="admonition-tip-1" class="admonition tip">
<div class="admonition-title">
<p>Tip</p>
<p><a class="admonition-anchor-link" href="how-to-contribute.html#admonition-tip-1"></a></p>
</div>
<div>
<p>When you add a new page, you must also <strong>add the page to the table of contents</strong> in <a href="https://github.com/robmoss/git-is-my-lab-book/edit/master/src/SUMMARY.md"><code>src/SUMMARY.md</code></a>.</p>
</div>
</div>
<h2 id="adding-tabbed-code-blocks"><a class="header" href="#adding-tabbed-code-blocks">Adding tabbed code blocks</a></h2>
<p>You can display multiple code blocks as a tabbed group by enclosing them in a <code>&lt;div class=&quot;tabbed-blocks&quot;&gt; ... &lt;/div&gt;</code> container.
For example:</p>
<pre><code class="language-md">&lt;div class=&quot;tabbed-blocks&quot;&gt;

```python
print(&quot;Hello world&quot;)
```

```R
cat(&quot;Hello world\n&quot;)
```

```cpp
#include &lt;iostream&gt;

int main() {
    std::cout &lt;&lt; &quot;Hello World&quot;;
    return 0;
}
```

```sh
echo &quot;Hello world&quot;
```

```rust
fn main() {
    println!(&quot;Hello World&quot;);
}
```

&lt;/div&gt;
</code></pre>
<p>produces:</p>
<div class="tabbed-blocks">
<pre><code class="language-python">print(&quot;Hello world&quot;)
</code></pre>
<pre><code class="language-R">cat(&quot;Hello world\n&quot;)
</code></pre>
<pre><code class="language-cpp">#include &lt;iostream&gt;

int main() {
    std::cout &lt;&lt; &quot;Hello World&quot;;
    return 0;
}
</code></pre>
<pre><code class="language-sh">echo &quot;Hello world&quot;
</code></pre>
<pre><pre class="playground"><code class="language-rust">fn main() {
    println!(&quot;Hello World&quot;);
}</code></pre></pre>
</div>
<h2 id="adding-terminal-session-recordings"><a class="header" href="#adding-terminal-session-recordings">Adding terminal session recordings</a></h2>
<p>You can use <a href="https://asciinema.org/">asciinema</a> to record a terminal session, and display this recorded session with a small amount of HTML and JavaScript.
For example, the following code is used to display the <code>where-did-this-line-come-from.cast</code> recording in a tab called &quot;Video demonstration&quot;, as shown in <a href="using-git/where-did-this-line-come-from.html">Where did this line come from?</a> chapter:</p>
<pre><code class="language-md">&lt;div class=&quot;tabbed-blocks&quot;&gt;

&lt;div class=&quot;tabbed-block&quot; data-tab-title=&quot;Video demonstration&quot;&gt;
  &lt;div id=&quot;demo&quot; data-cast-file=&quot;where-did-this-line-come-from.cast&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
</code></pre>
<p>You can also add links that jump to specific times in the video.
Each link must have:</p>
<ul>
<li>A <code>data-video</code> attribute that identifies the video (in the example above, this is <code>&quot;demo&quot;</code>);</li>
<li>A <code>data-seek-to</code> attribute that identifies the time (in seconds) to jump to; and</li>
<li>A <code>href</code> attribute that is set to <code>&quot;javascript:;&quot;</code> (so that the link doesn't scroll the page).</li>
</ul>
<p>For example, the following example adds links that jump to 15 and 30 seconds into the video:</p>
<pre><code class="language-md">&lt;div class=&quot;tabbed-blocks&quot;&gt;

&lt;div class=&quot;tabbed-block&quot; data-tab-title=&quot;Video demonstration&quot;&gt;
  &lt;div id=&quot;demo&quot; data-cast-file=&quot;where-did-this-line-come-from.cast&quot;&gt;&lt;/div&gt;

  Video timeline:
  &lt;ol&gt;
    &lt;li&gt;&lt;a data-video=&quot;demo&quot; data-seek-to=&quot;15&quot; href=&quot;javascript:;&quot;&gt;First link&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a data-video=&quot;demo&quot; data-seek-to=&quot;30&quot; href=&quot;javascript:;&quot;&gt;Second link&lt;/a&gt;&lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;

&lt;/div&gt;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contributors"><a class="header" href="#contributors">Contributors</a></h1>
<p>Here is a list of the contributors who have helped develop these materials:</p>
<ul>
<li>Rob Moss (<a href="https://github.com/robmoss">robmoss</a>)</li>
<li>Eamon Conway (<a href="https://github.com/EamonConway">EamonConway</a>)</li>
<li>James Ong (<a href="https://github.com/jomonman537">jomonman537</a>)</li>
<li>Trish Campbell (<a href="https://github.com/TrishC">TrishC</a>)</li>
<li>Isobel Abell (<a href="https://github.com/iabell">iabell</a>)</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="references"><a class="header" href="#references">References</a></h1>
<h2 id="education-and-commentary-articles"><a class="header" href="#education-and-commentary-articles">Education and commentary articles</a></h2>
<ul>
<li>
<p><a href="https://doi.org/10.1002/bes2.1801">A Beginner's Guide to Conducting Reproducible Research</a> describes key requirements for producing reproducible research outputs.</p>
</li>
<li>
<p><a href="https://doi.org/10.7554/eLife.16800">Point of View: How open science helps researchers succeed</a> presents evidence that open research practices bring significant benefits to researchers.</p>
</li>
<li>
<p><a href="https://doi.org/10.1371/journal.pcbi.1000424">A Quick Guide to Organizing Computational Biology Projects</a> suggests an approach for structuring a computational research repository.</p>
</li>
</ul>
<h2 id="using-git-and-other-software-tools"><a class="header" href="#using-git-and-other-software-tools">Using Git and other software tools</a></h2>
<ul>
<li>
<p>NDP Software have created <a href="https://ndpsoftware.com/git-cheatsheet.html">an interactive Git cheat-sheet</a> that shows how git commands interact with the local and upstream repositories, and provides brief documentation for many common examples.</p>
</li>
<li>
<p>The Pro Git book is <a href="https://git-scm.com/book">available online</a>.
It starts with an overview of Git basics and then covers every aspect of Git in great detail.</p>
</li>
<li>
<p>The Software Carpentry Foundation publishes <a href="https://software-carpentry.org/lessons/">many lessons</a>, including <a href="https://swcarpentry.github.io/git-novice/">Version Control with Git</a>.</p>
</li>
<li>
<p><a href="https://doi.org/10.1371/journal.pcbi.1004668">A Quick Introduction to Version Control with Git and GitHub</a> provides a short guide to using Git and GitHub.
It presents an example of analysing publicly available ChIP-seq data with Python.
The repository for the article is also <a href="https://github.com/jdblischak/git-for-science">publicly available</a>.</p>
</li>
</ul>
<h2 id="performing-peer-code-review"><a class="header" href="#performing-peer-code-review">Performing peer code review</a></h2>
<ul>
<li>
<p><a href="https://www.alexandra-hill.com/2018/06/25/the-art-of-giving-and-receiving-code-reviews/">The Art of Giving and Receiving Code Reviews (Gracefully)</a></p>
</li>
<li>
<p><a href="https://ropensci.org/blog/2018/11/29/codereview/">Code Review in the Lab</a></p>
</li>
<li>
<p><a href="https://uwescience.github.io/neuroinformatics/2017/10/08/code-review.html">Scientific Code Review</a></p>
</li>
<li>
<p><a href="https://www.semasoftware.com/blog/the-5-golden-rules-of-code-reviews">The 5 Golden Rules of Code Review</a></p>
</li>
</ul>
<h2 id="computational-research-practices"><a class="header" href="#computational-research-practices">Computational research practices</a></h2>
<ul>
<li>
<p><a href="https://doi.org/10.1371/journal.pcbi.1010356">A simple kit to use computational notebooks for more openness, reproducibility, and productivity in research</a> provides some good recommendations for organising a project repository and setting up a reproducible workflow using computational notebooks.</p>
</li>
<li>
<p><a href="http://www.tdda.info/why-code-rusts">Why code rusts</a> collects together some of reasons the behaviour of code changes over time.</p>
</li>
</ul>
<h2 id="high-performance-computing-platforms"><a class="header" href="#high-performance-computing-platforms">High-performance computing platforms</a></h2>
<ul>
<li>
<p><a href="https://ardc.edu.au/services/nectar-research-cloud/how-to-access-the-ardc-nectar-research-cloud/">How to access the ARDC Nectar Research Cloud</a></p>
</li>
<li>
<p><a href="https://docs.cloud.unimelb.edu.au/">Melbourne Research Cloud</a></p>
</li>
<li>
<p><a href="https://dashboard.hpc.unimelb.edu.au/">High Performance Computing at University of Melbourne</a></p>
</li>
</ul>
<h2 id="how-to-acknowledge-and-cite-research-software"><a class="header" href="#how-to-acknowledge-and-cite-research-software">How to acknowledge and cite research software</a></h2>
<ul>
<li>
<p>The <a href="https://doi.org/10.5281/zenodo.5003989">ARDC Guide to making software citable</a> explains how to cite your code and assign it a DOI.</p>
</li>
<li>
<p><a href="https://doi.org/10.12688/f1000research.26932.2">Recognizing the value
of software: a software citation guide</a> provides further examples and guidance for ensuring your work receives proper attribution and credit.</p>
</li>
</ul>
<h2 id="software-licensing"><a class="header" href="#software-licensing">Software licensing</a></h2>
<ul>
<li>
<p><a href="https://choosealicense.com/">Choose an open source license</a> provides advice for selecting an appropriate license that meets your needs.</p>
</li>
<li>
<p><a href="https://doi.org/10.1371/journal.pcbi.1002598">A Quick Guide to Software Licensing for the Scientist-Programmer</a> explains the various types of available licenses and provides advice for selecting a suitable license.</p>
</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="tabbed-code-blocks.js"></script>
        <script src="asciinema/asciinema-player.min.js"></script>
        <script src="asciinema/wrapper.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
