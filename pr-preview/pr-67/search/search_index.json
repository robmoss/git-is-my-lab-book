{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Introduction","text":"<p>These materials aim to support early- and mid-career researchers (EMCRs) in the SPECTRUM and SPARK networks to develop their computing skills, and to make effective use of available tools<sup>1</sup> and infrastructure<sup>2</sup>.</p>"},{"location":"#structure","title":"Structure","text":"<p>Start with the basics: our orientation tutorials provide overviews of essential skills, tools, templates, and suggested workflows.</p> <p>Learn more about best practices: our topical guides explain a range of topics and provide exercises to test your understanding.</p> <p>Come together as a community: our Community of Practice is how we come together to share skills, knowledge, and experience.</p>"},{"location":"#motivation","title":"Motivation","text":"<p>Question</p> <p>Why dedicate time and effort to learning these skills? There are many reasons!</p> <p>The overall aim of these materials is help you conduct code-driven research more efficiently and with greater confidence.</p> <p>Hopefully some of the following reasons resonate with you.</p> <ul> <li> <p>Fearlessly modify your code, knowing that your past work is never lost, by using version control with git.</p> </li> <li> <p>Verify that your code behaves as expected, and get notified when it doesn't, by writing tests.</p> </li> <li> <p>Ensure that your results won't change when running on a different computer by \"baking in\" reproducibility.</p> </li> <li> <p>Improve your coding skills, and those of your colleagues, by working collaboratively and making use of peer code review.</p> </li> <li> <p>Run your code quickly, and without relying on your own laptop or computer, by using high-performance computing.</p> </li> </ul> <p>Foundations of effective research</p> <p>A piece of code is often useful beyond a single project or study.</p> <p>By applying the above skills in your research, you will be able to easily reproduce past results, extend your code to address new questions and problems, and allow others to build on your code in their own research.</p> <p>The benefits of good practices can continue to pay off long after the project is finished.</p>"},{"location":"#license","title":"License","text":"<p>This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License.</p> <ol> <li> <p>Such as version control and testing frameworks.\u00a0\u21a9</p> </li> <li> <p>Such as the ARDC Nectar Research Cloud and Spartan.\u00a0\u21a9</p> </li> </ol>"},{"location":"contributors/","title":"Contributors","text":"<p>Here is a list of the contributors who have helped develop these materials:</p> <ul> <li>Rob Moss (robmoss)</li> <li>Eamon Conway (EamonConway)</li> <li>James Ong (jomonman537)</li> <li>Trish Campbell (TrishC)</li> <li>Isobel Abell (iabell)</li> <li>Nefel Tellioglu Cetinkaya (nefeltellioglu)</li> </ul>"},{"location":"how-to-contribute/","title":"How to contribute","text":""},{"location":"how-to-contribute/#add-a-case-study","title":"Add a case study","text":"<p>If you've made use of Git in your research activities, please let us know! We're looking for case studies that highlight how EMCRs are using Git. See the instructions for suggesting new content (below).</p>"},{"location":"how-to-contribute/#provide-comments-and-feedback","title":"Provide comments and feedback","text":"<p>The easiest way to provide comments and feedback is to create an issue. Note that this requires a GitHub account. If you do not have a GitHub account, you can email any of the authors. Please include \"Git is my lab book\" in the subject line.</p>"},{"location":"how-to-contribute/#suggest-modifications-and-new-content","title":"Suggest modifications and new content","text":"<p>This book is written in Markdown and is published using Material for MkDocs. See the Material for MkDocs Reference for an overview of the supported features.</p> <p>You can suggest modifications and new content by:</p> <ul> <li> <p>Forking the book repository;</p> </li> <li> <p>Adding, deleting, and/or modifying book chapters in the <code>docs/</code> directory;</p> </li> <li> <p>Recording your changes in one or more git commits; and</p> </li> <li> <p>Creating a pull request, so that we can review your suggestions.</p> </li> </ul> <p>Info</p> <p>You can also edit any page by clicking the \"Edit this page\" button () in the top-right corner. This will start the process described above by forking the book repository.</p> <p>Tip</p> <p>When editing Markdown content, please start each sentence on a separate line. Also check that your text editor removes trailing whitespace.</p> <p>This ensures that each commit will contain only the modified sentences, and makes it easier to inspect the repository history.</p> <p>Tip</p> <p>When you add a new page, you must also add the page to the <code>nav</code> block in <code>mkdocs.yml</code>.</p>"},{"location":"how-to-contribute/#adding-tabbed-code-blocks","title":"Adding tabbed code blocks","text":"<p>You can display content in multiple tabs by using <code>===</code>. For example:</p> <pre><code>=== \"Python\"\n\n    ```py\n    print(\"Hello world\")\n    ```\n\n=== \"R\"\n\n    ```R\n    cat(\"Hello world\\n\")\n    ```\n\n=== \"C++\"\n\n    ```cpp\n    #include &lt;iostream&gt;\n\n    int main() {\n        std::cout &lt;&lt; \"Hello World\";\n        return 0;\n    }\n    ```\n\n=== \"Shell\"\n\n    ```sh\n    echo \"Hello world\"\n    ```\n\n=== \"Rust\"\n\n    ```rust\n    fn main() {\n        println!(\"Hello World\");\n    }\n    ```\n</code></pre> <p>produces:</p> PythonRC++ShellRust <pre><code>print(\"Hello world\")\n</code></pre> <pre><code>cat(\"Hello world\\n\")\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nint main() {\n    std::cout &lt;&lt; \"Hello World\";\n    return 0;\n}\n</code></pre> <pre><code>echo \"Hello world\"\n</code></pre> <pre><code>fn main() {\n    println!(\"Hello World\");\n}\n</code></pre>"},{"location":"how-to-contribute/#adding-terminal-session-recordings","title":"Adding terminal session recordings","text":"<p>You can use asciinema to record a terminal session, and display this recorded session with a small amount of HTML and JavaScript. For example, the following code is used to display the <code>where-did-this-line-come-from.cast</code> recording in a tab called \"Video demonstration\", as shown in Where did this line come from? chapter:</p> <pre><code>=== \"Video demonstration\"\n\n    &lt;div id=\"demo\" data-cast-file=\"../where-did-this-line-come-from.cast\"&gt;&lt;/div&gt;\n</code></pre> <p>You can also add links that jump to specific times in the video. Each link must have:</p> <ul> <li>A <code>data-video</code> attribute that identifies the video (in the example above, this is <code>\"demo\"</code>);</li> <li>A <code>data-seek-to</code> attribute that identifies the time (in seconds) to jump to; and</li> <li>A <code>href</code> attribute that is set to <code>\"javascript:;\"</code> (so that the link doesn't scroll the page).</li> </ul> <p>For example, the following code is used to display the video recording on the Choosing your Git Editor:</p> <pre><code>=== \"Git editor example\"\n\n    &lt;div id=\"demo\" data-cast-file=\"../git-editor-example.cast\"&gt;&lt;/div&gt;\n\n    Video timeline:\n\n    1. &lt;a data-video=\"demo\" data-seek-to=\"4\" href=\"javascript:;\"&gt;Overview&lt;/a&gt;\n    2. &lt;a data-video=\"demo\" data-seek-to=\"17\" href=\"javascript:;\"&gt;Show how to use nano&lt;/a&gt;\n    3. &lt;a data-video=\"demo\" data-seek-to=\"71\" href=\"javascript:;\"&gt;Show how to use vim&lt;/a&gt;\n</code></pre>"},{"location":"community/","title":"Community of Practice","text":"<p>Info</p> <p>Communities of Practice are groups of people who share a concern or a passion for something they do and learn how to do it better as they interact regularly.</p> <p>The community acts as a living curriculum and involves learning on the part of everyone.</p> <p>The aim of a Community of Practice (CoP) is to come together as a community and engage in a process of collective learning in a shared domain. The three characteristics of a CoP are:</p> <ol> <li> <p>Community: An environment for learning through interaction;</p> </li> <li> <p>Practice: Specific knowledge shared by community members; and</p> </li> <li> <p>Domain: A shared interest, problem, or concern.</p> </li> </ol> <p>We regularly meet as a community, report meeting summaries, and collect case studies that showcase good practices.</p>"},{"location":"community/case-studies/","title":"Case studies","text":"<p>This section contains interesting and useful examples of incorporating Git into a research activity, as contributed by EMCRs in our network.</p>"},{"location":"community/case-studies/campbell-pen-and-paper-version-control/","title":"Pen and paper - a less user-friendly form of version control than Git","text":"<p>Author: Trish Campbell (<code>patricia.campbell@unimelb.edu.au</code>)</p> <p>Project: Pertussis modelling</p>"},{"location":"community/case-studies/campbell-pen-and-paper-version-control/#the-problem","title":"The problem","text":"<p>In this project, I developed a compartmental model of pertussis to determine appropriate vaccination strategies. While plotting some single model simulations, I noticed anomalies in the modelled output for two experiments. The first experiment had an order of magnitude more people in the infectious compartments than in the second experiment, even though there seemed to be far fewer infections occurring. This scenario did not fit with the parameter values that were being used. In the differential equation file for my model, in addition to extracting the state of the model (i.e. the population in each compartment at each time step), for ease of analysis I also extracted the cumulative number of infections up to that time step. The calculation for this extraction of cumulative incidence was incorrect.</p>"},{"location":"community/case-studies/campbell-pen-and-paper-version-control/#the-solution","title":"The solution","text":"<p>The error occurred because susceptible people in my model were not all equally susceptible, and I failed to account for this when I calculated the cumulative number of infections at each time step. I identified that this was the problem by running some targeted test parameter sets and observing the changes in model output. The next step was to find out how long this bug had existed in the code and which analyses had been affected. While I was using version control, I tended to make large infrequent commits. I did, however, keep extensive hand-written notes in lab books, which played the role of a detailed history of commits. Searching through my historical lab books, I identified that I had introduced this bug into the code two years earlier. I was able to determine which parts of my results would have been affected by the bug and made the decision that all experiments needed to be re-run.</p>"},{"location":"community/case-studies/campbell-pen-and-paper-version-control/#how-version-control-helped","title":"How version control helped","text":"<p>Using a pen and paper form of version control enabled me to pinpoint the introduction of the error and identify the affected analyses, but it was a tedious process. While keeping an immaculate record of changes that I had made was invaluable, imagine how much simpler and faster the process would have been if I had been a regular user of an electronic version control system such as Git! </p>"},{"location":"community/case-studies/moss-incorrect-data-pre-print/","title":"Incorrect data in a pre-print figure","text":"<p>Author: Rob Moss (<code>rgmoss@unimelb.edu.au</code>)</p> <p>Project: COVID-19 scenario modelling (public repository)</p>"},{"location":"community/case-studies/moss-incorrect-data-pre-print/#the-problem","title":"The problem","text":"<p>Our colleague James Trauer notified us that they suspected there was an error in Figure 2 of our COVID-19 scenario modelling pre-print article. This figure showed model predictions of the daily ICU admission demand in an unmitigated COVID-19 pandemic, and in a COVID-19 pandemic with case targeted public health measures. I inspected the script responsible for plotting this figure, and confirmed that I had mistakenly plotted the combined demand for ward and ICU beds, instead of the demand for ICU beds alone.</p>"},{"location":"community/case-studies/moss-incorrect-data-pre-print/#the-solution","title":"The solution","text":"<p>This mistake was simple to correct, but the obvious concern was whether any other outputs related to ICU bed demand were affected.</p> <p>We conducted a detailed review of all data analysis scripts and outputs, and confirmed that this error only affected this single manuscript figure. It had no bearing on the impact of the interventions in each model scenario. Importantly, it did not affect any of the simulation outputs, summary tables, and/or figures that were included in our reports to government.</p> <p>The corrected figure can be seen in the published article.</p>"},{"location":"community/case-studies/moss-incorrect-data-pre-print/#how-version-control-helped","title":"How version control helped","text":"<p>Because we used version control to record the development history of the model and all of the simulation analyses, we were able to easily inspect the repository state at the time of each prior analysis. This greatly simplified the review process, and ensured that we were inspecting the code exactly as it was when we produced each analysis.</p>"},{"location":"community/case-studies/moss-pypfilt-earlier-states/","title":"Fixing a bug in pypfilt","text":"<p>Author: Rob Moss (<code>rgmoss@unimelb.edu.au</code>)</p> <p>Project: pypfilt, a bootstrap particle filter for Python</p> <p>Date: 27 October 2021</p>"},{"location":"community/case-studies/moss-pypfilt-earlier-states/#overview","title":"Overview","text":"<p>I introduced a bug when I modified a function in my pypfilt package, and only detected the bug after I had created several more commits.</p> <p>To resolve this bug, I had to:</p> <ol> <li> <p>Notice the bug;</p> </li> <li> <p>Identify the cause of the bug;</p> </li> <li> <p>Write a test case to check whether the bug is present; and</p> </li> <li> <p>Fix the bug.</p> </li> </ol>"},{"location":"community/case-studies/moss-pypfilt-earlier-states/#notice-the-bug","title":"Notice the bug","text":"<p>I noticed that a regression test<sup>1</sup> was failing: re-running a set of model simulations was no longer generating the same output. The results had changed, but none of my recent commits should have had this effect.</p> <p>I should have noticed this when I created the commit that introduced this bug, but:</p> <ul> <li> <p>I had not pushed the most recent commits to the upstream repository, where all of the test cases are run automatically every time a new commit is pushed; and</p> </li> <li> <p>I had not run the test cases on my laptop after making each of the recent commits, because this takes a few minutes and I was lazy.</p> </li> </ul>"},{"location":"community/case-studies/moss-pypfilt-earlier-states/#identify-the-cause-of-the-bug","title":"Identify the cause of the bug","text":"<p>I knew that the bug had been introduced quite recently, and I knew that it affected a specific function: <code>earlier_states()</code>. Running <code>git blame src/pypfilt/state.py</code> indicated that the recent commit <code>408b5f1</code> was a likely culprit, because it changed many lines in this function.</p> <p>In particular, I suspected the bug was occurring in the following loop, which steps backwards in time and handles the case where model simulations are reordered:</p> <pre><code># Start with the parent indices for the current particles, which allow us\n# to look back one time-step.\nparent_ixs = np.copy(hist['prev_ix'][ix])\n\n# Continue looking back one time-step, and only update the parent indices\n# at time-step T if the particles were resampled at time-step T+1.\nfor i in range(1, steps):\n    step_ix = ix - i\n    if hist['resampled'][step_ix + 1, 0]:\n        parent_ixs = hist['prev_ix'][step_ix, parent_ixs]\n</code></pre> <p>In stepping through this code, I identified that the following line was incorrect:</p> <pre><code>    if hist['resampled'][step_ix + 1, 0]:\n</code></pre> <p>and that changing <code>step_ix + 1</code> to <code>step_ix</code> should fix the bug.</p> <p>Note: I could have used <code>git bisect</code> to identify the commit that introduced this bug, but running all of the test cases for each commit is relatively time-consuming; since I knew that the bug had been introduced quite recently, I chose to use <code>git blame</code>.</p>"},{"location":"community/case-studies/moss-pypfilt-earlier-states/#write-a-test-case","title":"Write a test case","text":"<p>I wrote a test case <code>test_earlier_state()</code> that called this <code>earlier_states()</code> function a number of times, and checked that each set of model simulations were returned in the correct order.</p> <p>This test case checks that:</p> <ol> <li> <p>If the model simulations were not reordered, the original ordering is always returned;</p> </li> <li> <p>If the model simulations were reordered at some time <code>t_0</code>, the original ordering is returned for times <code>t &lt; t_0</code>; and</p> </li> <li> <p>If the model simulations were reordered at some time <code>t_0</code>, the new ordering is returned for times <code>t &gt;= t_0</code>.</p> </li> </ol> <p>This test case failed when I reran the testing pipeline, which indicated that it identified the bug.</p>"},{"location":"community/case-studies/moss-pypfilt-earlier-states/#fix-the-bug","title":"Fix the bug","text":"<p>With the test case now written, I was able to verify that that changing <code>step_ix + 1</code> to <code>step_ix</code> did fix the bug.</p> <p>I added the test case and the bug fix in commit <code>9dcf621</code>.</p> <p>In the commit message I indicated:</p> <ol> <li> <p>Where the bug was located: the <code>earlier_states()</code> function;</p> </li> <li> <p>When the bug was introduced: commit <code>408b5f1</code>; and</p> </li> <li> <p>Why the bug was not detected when I created commit <code>408b5f1</code>.</p> </li> </ol> <ol> <li> <p>A regression test checks that a commit hasn't changed an existing behaviour or functionality.\u00a0\u21a9</p> </li> </ol>"},{"location":"community/meetings/","title":"Meetings","text":"<p>This section contains summaries of each Community of Practice meeting.</p> <ul> <li> <p>17 April 2023: our initial meeting.</p> </li> <li> <p>13 June 2023: exploration of version control, reproducibility, and testing exercises.</p> </li> <li> <p>15 August 2023: changing our research and reproducibility practices.</p> </li> <li> <p>18 October 2023: sharing experiences about good ways to structure a project.</p> </li> <li> <p>19 February 2024: identify goals and activities for 2024.</p> </li> </ul>"},{"location":"community/meetings/2023-04-17/","title":"17 April 2023","text":"<p>This is our initial meeting. The goal is to welcome people to the community and outline how we envision running these Community of Practice meetings.</p>"},{"location":"community/meetings/2023-04-17/#theme-reproducible-research","title":"Theme: Reproducible Research","text":"<p>Outline the theme and scope for this community.</p> <p>This is open to all researchers who share an interest in reproducible research and/or related topics and practices; no prior knowledge is required.</p> <p>For example, consider these questions:</p> <ul> <li> <p>Can you reproduce your current results on a new computer?</p> </li> <li> <p>Can someone else reproduce your current results?</p> </li> <li> <p>Can someone else reproduce your current results without your help?</p> </li> <li> <p>Can you reproduce your own results from, say, 2 years ago?</p> </li> <li> <p>Can someone else reproduce your own results from, say, 2 years ago?</p> </li> <li> <p>Can you fix a mistake and update your own results from, say, 2 years ago?</p> </li> </ul> <p>Tip</p> <p>The biggest challenge can often be remembering what you did and how you did it.</p> <p>Making small changes to your practices can greatly improve reproducibilty!</p>"},{"location":"community/meetings/2023-04-17/#how-will-these-meetings-run","title":"How will these meetings run?","text":"<ul> <li> <p>Aim to hold these meetings on a (roughly) monthly basis.</p> </li> <li> <p>Prior to each meeting, we will invite community members to propose a topic or discussion point to be the focus of the meeting. This may be an open question or challenge, an example of good research practices, a useful software tool, etc.</p> </li> <li> <p>Schedule each meeting to best suit the availability of community members who are particularly interested in the chosen topic.</p> </li> <li> <p>Each meeting should be hosted by one or more community members, with online participation available to those who cannot attend in person.</p> </li> <li> <p>At the end of each meeting, we will ask attendees how useful/effective they found the meeting, so that we can better cater to the needs of the community.   For example:</p> </li> <li> <p>What do you think of the session?</p> </li> <li>What did we do well?</li> <li> <p>What could we do better in the next session?</p> </li> <li> <p>We will summarise the key observations, findings, and outputs of each meeting in our online materials, and use them to improve and grow our training materials.</p> </li> </ul>"},{"location":"community/meetings/2023-04-17/#preferred-communication-channels","title":"Preferred communication channels?","text":"<p>Info</p> <p>To function effectively as a community, we need to support asynchronous discussions in addition to scheduled meetings.</p> <p>One option is a dedicated mailing list. Other options were suggested:</p> <ul> <li> <p>A Slack workspace (Dave);</p> </li> <li> <p>A Discord channel (TK);</p> </li> <li> <p>A Teams channel (Gerry); and</p> </li> <li> <p>A private GitHub repository, using the issue tracker (Alex).</p> </li> </ul> <p>Using a GitHub issue tracker might also serve as a gentle introduction to GitHub?</p>"},{"location":"community/meetings/2023-04-17/#supporting-activities-and-resources","title":"Supporting activities and resources?","text":"<p>Are there other activities that we could organise to help support the community?</p> <ul> <li> <p>We have online training materials, Git is my lab book, which should be useful for people who are not familiar with version control.</p> </li> <li> <p>We also have a SPECTRUM/SPARK peer review team, where people can make their code available for peer review.</p> </li> </ul>"},{"location":"community/meetings/2023-04-17/#topics-for-future-meetings","title":"Topics for future meetings?","text":"<p>We asked each participant to suggest topics that they would like to see covered in future meetings and/or activities. A number of common themes emerged.</p>"},{"location":"community/meetings/2023-04-17/#version-control-from-theory-to-practice","title":"Version control: from theory to practice","text":"<p>A number of people mentioned now being sure how to get started, or starting with good intentions but ending up with a mess.</p> <ul> <li> <p>Dave: how can I transition from principle to practice?</p> </li> <li> <p>Ollie: similar to David, I often start well but end up with a mess.</p> </li> <li> <p>Ruarai: what other have found useful and applied in this space, what options are out there?</p> </li> <li> <p>Michael: I'm a complete novice, git command lines are a foreign language to me!   I'm looking for tips for someone who uses code a lot, experienced at coding but much less so on version control and the use of repositories.   What are the first steps to incorporate it into my workflow?</p> </li> <li> <p>Angus: I'm also relatively new to Git and have been using GitHub Desktop (a GUI for Windows and Mac).   I'm not averse to command line stuff but I need to remember fewer arcane commands!</p> </li> <li> <p>Samik: I use TortoiseGit \u2014 a Windows Shell Interface to Git.</p> </li> <li> <p>Gray: I resonate with Michael, I do most of my research on my own and describe it in papers.   It isn't particularly Git-friendly, I'm keen to learn.</p> </li> <li> <p>Lauren: everything that everyone has said so far!   I've found some good guidelines for how to write reproducible code, starting from the basics all the way to niche topics.   Can we use this as a way to share materials that we've sound useful?   The British Ecological Society have published guidelines.   We could assemble good materials that start from basics.</p> </li> <li> <p>David: The Society for Open, Reliable, and Transparent Ecology and Evolutionary Biology (SORTEE) also have good materials.</p> </li> <li> <p>Gerry: I like the idea of reproducibility and I've done a terrible job of it in the past, my repository ends up with thousands of versions of different files.   Can you help me solve it?</p> </li> <li> <p>Josh: Along the same lines of what's been stated.   How best to share knowledge of Git and best practices with others in a new research team?   How to adjust to their methods of conducting reproducible research, version control, etc?</p> </li> <li> <p>Punya: not much to add, would really like to know more about version control, I have a basic understanding, what's the standard way of using it, reproducibility and documentation.</p> </li> <li> <p>Rachel: I strongly support this idea of code reproducibility.   Best practice frameworks can be disseminated to modellers in modelling consortia, and they can be very helpful when auditing.</p> </li> <li> <p>Ella: we're migrating models from Excel to R.</p> </li> <li> <p>J'Belle: I work for a tiny, very remote health service at the Australian  and Papua New Guinea border.   We have 17 sources of clinical data, which presents massive challenges in reproducibility and quality assurance.   I'm looking to tap into your expertise.   How do we manage so many sources of clinical data?</p> </li> </ul>"},{"location":"community/meetings/2023-04-17/#working-with-less-technically-experienced-collaborators","title":"Working with less technically-experienced collaborators","text":"<p>How can we make best use of existing tools and practices, while working with collaborators who have less technical expertise/experience?</p> <ul> <li> <p>Alex: if I start a project with collaborators who may be less technically literate, how can they contribute without messing up reproducibility?   Options like Docker are a little too complicated.   How can I motivate people, is there a simple solution?</p> </li> <li> <p>Angus: in theory you may have reproducible code.   But if you need to write a paper with less technical collaborators, running the code and generating reports can be hard.   How do we collaborate on the writing side?   RMarkdown and equivalents makes a lot of sense, but most colleagues will only look at Word documents.   There are some workarounds, such as pandoc.</p> </li> </ul>"},{"location":"community/meetings/2023-04-17/#reproducibility-best-practices-and-limitations","title":"Reproducibility: best practices and limitations","text":"<p>How far can/should we go in validating and demonstrating that our models and analyses are reproducible? How can we automate this? How is this impacted when we cannot share the input data, or when our models are extremely large and complex?</p> <ul> <li> <p>Cam: there are unique issues in the type of research we do.   Working with code makes it easy in some ways, as opposed to experimental conditions in real-world experiments.   Our capacity for reproducibility is great, but so then is our burden.   We should be exploring the limitations!   Some challenges in our area come down to implementation of stochastic models with lots of random processes.   How can we do that well and make it part of what we practice?   What are the limitations to reproducibility and how do we perceive the goals when we are working when the data cannot be shared?</p> </li> <li> <p>Samik: similar to Cam, I'm interested in how people have produced reproducible research where the data cannot be shared.   Perhaps we can provide default examples as test cases?</p> </li> <li> <p>Michael: I second Cam's points, particularly about reproducibility with confidential data.   That's an issue I've hit multiple times.   We usually have a side folder with the real dataset, and pipe through condensed or aggregated versions of the data that we can release.</p> </li> <li> <p>Jiahao: I'm interested in how to build a platform for using agent based models.   I've looked at lots of other models, but how can we bring them together so that it is easier to add a new variable or extend a model?</p> </li> <li> <p>Eamon: I'm a Git fanatic, and I want to understand the development of code that I work with.   I get annoyed when people share a repository as a single commit.   People who don't use tags in their Git repositories to identify the version of the code they used in, e.g., a paper!   How do you start running the code?   What file formats does it expect to process?</p> </li> <li> <p>Dion: I'm interested in seeing what people are doing that look like good practice.   Making sure that code and results are reproducible, in the sense that your code may be version controlled, but you've since made changes to code, parameters, input data, etc.   How do you do a good job to shoe-horn that all into Git?   Maybe use Git for development and simultaneously use a separate repository for production stuff?   We need to be able to look back and identify from the commit the code, data, intermediate files used along the way.</p> </li> <li> <p>Palang: I've looked at papers with supplementary code, but running the code myself produces very different results from what's in the paper.</p> </li> <li> <p>May: most people have said what I wanted to say.   I faced similar problems with running other people's code.   It may not print any error message, but you get very different results from what's published in the paper.   You don't know who or what is wrong!</p> </li> </ul>"},{"location":"community/meetings/2023-04-17/#testing-and-documentation","title":"Testing and documentation","text":"<p>How can we develop confidence in our own code, and in other people's code?</p> <ul> <li> <p>TK: I want to learn/see different conventions for writing code documentation.   I've never managed to get doxygen working to my satisfaction.</p> </li> <li> <p>Angus: how do we design good tests?   How to test, when to test, what to test for?   Should we have coverage targets?   Are there ways to automated testing?</p> </li> <li> <p>Rahmat: I often find it very hard to learn how to use other people's code.   The code needs to be easy to understand.   Otherwise, I will just write the code myself!   Sometimes when I run the code, I have difficulties in generating results, many errors come up and it's not clear why.   Perhaps all of the necessary data have not been shared with the code?   We need to include the data, but if the data cannot be provided, you need to provide similar data so that other can run the code.   It also helps to use a language that others are familiar with.</p> </li> </ul>"},{"location":"community/meetings/2023-04-17/#code-reuse","title":"Code reuse","text":"<ul> <li> <p>Pan: I am not sure about the term reproducibility in the context of coders.   I know lab people really do reuse published protocols.   But do coders actually reuse other people's code to do their work?</p> </li> <li> <p>Gerry: People often make their code into packages which others reuse.   This could be a good topic for future meetings.</p> </li> </ul>"},{"location":"community/meetings/2023-04-17/#using-chat-gpt-to-writecheck-code","title":"Using Chat GPT to write/check code","text":"<ul> <li> <p>Pan: I recently joined a meeting where people have used Chat GPT to check their code.   Does this group have any thoughts on how we might make good use of Chat GPT?</p> </li> <li> <p>Cam: Chat GPT is not reproducible itself, so it seems questionable to use it to check reproducibility.</p> </li> <li> <p>Alex: I don't entirely agree, it can be very useful for improving the implementation of a function.   In terms of generating reliable code, it's wonderful.   It's a nightmare for evaluating existing code.</p> </li> <li> <p>Pan: people are using Chat GPT to generate initial templates.</p> </li> <li> <p>Eamon: If you encounter code that has poor documentation, Chat GPT is surprisingly good at telling you how to use it.</p> </li> <li> <p>Matt: I don't have anything to add to the above, I'm happy to be along for the ride.</p> </li> </ul>"},{"location":"community/meetings/2023-06-13/","title":"13 June 2023","text":"<p>In this meeting we asked participants to share their experiences exploring the version control, reproducibility, and testing exercises in our example repository.</p> <p>This repository serves an introduction to testing models and ensuring that their outputs are reproducible. It contains a simple stochastic model that draws samples from a normal distribution, and some tests that check whether the model outputs are consistent with our expectations.</p>"},{"location":"community/meetings/2023-06-13/#what-is-a-reproducible-environment","title":"What is a reproducible environment?","text":"<p>The exercise description was deliberately very open, but it may have been too vague:</p> <p>Define a reproducible environment in which the model can run.</p> <p>We avoided listing possible details for people to consider, such as software and package versions. Perhaps a better approach would have been to ask:</p> <p>If this code was provided as supporting materials for a paper, what other information would you need in order to run it and be confident of obtaining the same results as the original authors?</p> <p>The purpose of a reproducible environment is to define all of these details, so that you never have to say to someone \"well, it runs fine on my machine\".</p>"},{"location":"community/meetings/2023-06-13/#reproducibility-and-stochasticity","title":"Reproducibility and stochasticity","text":"<p>Many participants observed that the model was not reproducible unless we used a random number generator (RNG) with a known seed, which would ensure that the model produces the same output each time we run it.</p> <p>But what if you're using a package or library that internally uses their own RNG and/or seed? This may not be something you can fix, but you should be able to detect it by running the model multiple times with the same seed, and checking whether you get identical result each time.</p> <p>Another important question was raised: do you, or should you, include the RNG seed in your published code? This is probably a good idea, and suggested solutions included setting the seed at the very start of your code (so that it's immediately visible) or including it as a required model parameter.</p>"},{"location":"community/meetings/2023-06-13/#writing-test-cases","title":"Writing test cases","text":"<p>Tip</p> <p>Write a test case every time you find a bug: ensure that the test case finds the bug, then fix the bug, then ensure that the test case passes.</p> <p>A test case is a piece of code that checks that something behaves as expected. This can be as simple as checking that a mathematical function returns an expected value, to running many model simulations and verifying that a summary statistic falls within an expected range.</p> <p>Rather than trying to write a single test that checks many different properties of a piece of code, it can be much simpler and quicker to write many separate tests that each check a single property. This can provide more detailed feedback when one or more test cases fail.</p> <p>Note</p> <p>This approach is similar to how we rely on multiple public health interventions to protect against disease outbreaks! Consider each test case as a slice of Swiss cheese \u2014 many imperfect tests can provide a high degree of confidence in our code.</p>"},{"location":"community/meetings/2023-06-13/#writing-test-cases-for-conditions-that-may-fail","title":"Writing test cases for conditions that may fail","text":"<p>If you are testing a stochastic model, you may find certain test cases are difficult to write.</p> <p>For example, consider a stochastic SIR model where you want to test that an intervention reduces the number of cases in an outbreak. You may, however, observe that in a small proportion of simulations the intervention has no effect (or it may even increase the number of cases).</p> <p>One approach is to run many pairs of simulations and only check that the intervention reduced the number of cases at least X% of the time. You need to decide how many simulations to run, and what is an appropriate value for X%, but that's okay! Remember the Swiss cheese analogy, mentioned above.</p>"},{"location":"community/meetings/2023-06-13/#testing-frameworks","title":"Testing frameworks","text":"<p>If you have more than 2 or 3 test cases, it's a good idea to use a testing framework to automatically find your test cases, run each test, record whether it passed or failed, and report the results. These frameworks are usually specific to a single programming language.</p> <p>Some commonly-used frameworks include:</p> <ul> <li>Python: pytest</li> <li>R: testthat</li> <li>Matlab: included in the language</li> <li>Julia: included in the language</li> </ul>"},{"location":"community/meetings/2023-06-13/#github-actions","title":"GitHub Actions","text":"<p>Multiple participants reported some difficulties in setting up GitHub actions and knowing how to adapt available templates to their needs. See the following examples:</p> <ul> <li>Python starter workflow; and</li> <li>GitHub Actions for R.</li> </ul> <p>We will aim to provide a GitHub action workflow for each model, and add comments to explain how to adapt these templates.</p> <p>Warning</p> <p>One downside of using GitHub Actions is the limited computation time of 2,000 minutes per month. This may not be suitable for large agent-based models and other long-running tasks.</p>"},{"location":"community/meetings/2023-06-13/#pull-requests","title":"Pull requests","text":"<p>At the time of writing, three participants have contributed pull requests:</p> <ul> <li> <p>TK added a default seed so that the model outputs are reproducible.</p> </li> <li> <p>Micheal added a MATLAB version of the model and the test cases.</p> </li> <li> <p>Cam added several features, such as recording metadata about the Python environment and testing that the model outputs are reproducible.</p> </li> </ul> <p>Tip</p> <p>If you make your own copy (\"fork\") of the example repository, you can create as many commits as you want. GitHub will display a message that says:</p> <p>This branch is N commits ahead of rrcop:master.</p> <p>Click on the \"N commits ahead\" link to see a summary of your new commits. You can then click the big green button \"Create pull request\".</p> <p>This will not modify the example repository. Instead, it will create an overview of the changes between your code and the example repository. We can then review these changes, make suggestions, you can add new commits, etc, before deciding whether to add these changes to the example repository.</p>"},{"location":"community/meetings/2023-08-15/","title":"15 August 2023","text":"<p>Info</p> <p>See the Resources section for links to useful resources that were mentioned in this meeting.</p>"},{"location":"community/meetings/2023-08-15/#changes-to-practices","title":"Changes to practices","text":"<p>In this meeting we asked everyone what changes (if any) they have made to their research and reproducibility practices since our last meeting.</p> <p>A common theme was improving how we note and record our past actions. For example:</p> <ul> <li> <p>Eamon has begun recording the commit ID (\"hash\") of the code that was used to generate each set of outputs.   This allows him to easily retrieve the exact version of the code that was used to generate any past result and, e.g., generate other outputs of interest.</p> </li> <li> <p>Pan talked about how their group records raw separately from, but grouped with, the analysis code and processed data that were generated from these raw data.   They also record every step of their model-fitting process, which may not always go as smoothly as expected.</p> </li> </ul> <p>This ensures that stakeholders who want to use these models to run their own scenarios can reproduce the baseline scenarios without being modelling experts themselves.</p> <p>The model is available as an online app.</p> <ul> <li>Rob has begun working on an existing malaria model, which was implemented in R as a series of scripts that shared many global variables.   He wanted to restructure code to better understand it, so he used version control to record the simulation outputs and ensure that he didn't change the model's behaviour as he restructured the code.   On several occasions he modified parts of the code and discovered that these changes unexpectedly affected the simulation outputs.   This is a manual equivalent of using continuous integration.</li> </ul>"},{"location":"community/meetings/2023-08-15/#how-do-you-structure-a-project","title":"How do you structure a project?","text":"<p>Gizem asked the group \"How do you choose an appropriate project structure, especially if the project changes over time?\"</p> <p>Phrutsamon: the TIER Protocol 4.0 provides a template for organising the contents and reproduction documentation for projects that involve working with statistical data.</p> <p>Rob: there may not be a single perfect solution that addresses everyone's needs. But look back at past projects, and try to imagine how the current project might change in the future. And if you're using version control, don't be afraid to experiment with different project structures \u2014 you can always revert back to an earlier commit.</p>"},{"location":"community/meetings/2023-08-15/#reviewing-code-as-part-of-manuscript-peer-review","title":"Reviewing code as part of (manuscript) peer review","text":"<p>Rob asked the group \"Has anyone reviewed supporting code when reviewing a manuscript?\"</p> <ul> <li> <p>Ruarai read through R code that was provided with a paper, but was unable to run all of it \u2014 some of the code produced errors.</p> </li> <li> <p>Similarly, Rob has read R code provided with a paper that used hard-coded paths that did not exist (e.g., <code>\"C:\\Users\\&lt;Author Name&gt;\\...\"</code>), tried to run code in source files that did not exist, and read data from CSV files that did not exist.</p> </li> </ul> <p>Info</p> <p>Pan mentioned a fantastic exercise for research students.</p> <p>Pick a modelling paper that is relevant to their research project, and ask the student to:</p> <ol> <li>read it;</li> <li>understand it; and</li> <li>reproduce the figures.</li> </ol> <p>This teaches the students that reproducibility is very important, and shows them what they need to do when they publish their own results.</p> <p>It's important to pick a relatively simple paper, so that this task isn't too complicated for the student. And if the paper is written by a colleague or collaborator, you can contact them to ask for extra details, etc.</p>"},{"location":"community/meetings/2023-08-15/#using-shiny-to-make-models-availablereproducible","title":"Using Shiny to make models available/reproducible","text":"<p>Pan asked the group \"What do you think about (the extra work involved in) turning R code into Shiny applications, to show that the model is reproducible, and do so in a way that lets others easily make use it?\"</p> <p>An objective of the COVID-19 International Modelling Consortium (CoMo) is to make models available and usable for non-modellers \u2014 turning models into something that anyone with minimal knowledge can explore.</p> <p>The model is available as a Shiny app, and is continually being updated and refined. It is currently at version 19! Pan's group is trying to ensure that existing users update to the most recent version, because it can be very challenging and time-consuming to create scenario templates for older model versions. Templates are a good way to help the user define their scenario-specific settings, but it's a nightmare when you change the model version \u2014 it's like working with a new model.</p> <ul> <li> <p>Eamon: this is similar to when software platforms make changes to their APIs.   Can you make backwards-compatible changes, or automatically transform old templates to make them compatible with the latest model version?   This kind of work is simple to fund when your software is a commercial product, but it's much harder to find funding for academic outputs.</p> </li> <li> <p>Pan: It's a lot of extra work, without any money to support it.   For this consortium we hired several programmers, some for the coding, some specifically for the Shiny app, it involved a lot of resources.   That project has now ended, but we've learned a lot and have a good network of collaborators. We still have monthly meetings!   This was a special case with COVID-19, because the context changed so quickly.   It would be much less of a problem with other diseases, which we better understood.</p> </li> <li> <p>Gizem: very much in favour of using Shiny to make models available, and recently made a Shiny app for their latest project (currently under review).   Because the model is very complicated, we had to pre-calculate model results for specific parameter combinations, and only allow users to choose between these parameter combinations.   One reviewer asked for a modified figure to show results for slightly different parameter values, and it was quite simple to address.</p> </li> </ul> <p>Hadley Wickham has written a very good book about developing R Shiny applications.   Gizem read a chapter of this book each morning, but found it necessary to practice in order to really understand how to use Shiny.</p> <p>Info</p> <p>Learning by doing (experiential learning) is a highly-effective way of convincing people to change their practices. It can be greatly enhanced by engaging as a community.</p>"},{"location":"community/meetings/2023-08-15/#resources","title":"Resources","text":""},{"location":"community/meetings/2023-08-15/#teaching-reproducibility-and-responsible-workflows","title":"Teaching reproducibility and responsible workflows","text":"<p>The Journal of Statistics and Data Science Education published a special issue: Teaching Reproducibility in November 2022. The accompanying editorial article highlights:</p> <p>Integrating reproducibility into our practice and our teaching can seem intimidating initially. One way forward is to start small. Make one small change to add an element of exposing students to reproducibility in one class, then make another the next semester. Our students can get much of the benefit of reproducible and responsible workflows even if we just make a few small changes in our teaching. These efforts will help them to make more trustworthy insights from data. If it leads, by way of some virtuous cycle, to us improving our own practice, then even better! Improving our teaching through providing curricular guidance about reproducible science will take time and effort that should pay off in the long term.</p> <p>This journal issue was followed by an invited paper session with the following presentations:</p> <ul> <li> <p>Collaborative writing workflows: building blocks towards reproducibility</p> </li> <li> <p>Opinionated practices for teaching reproducibility: motivation, guided instruction, and practice</p> </li> <li> <p>From teaching to practice: Insights from the Toronto Reproducibility Conferences</p> </li> <li> <p>Teaching reproducibility and responsible workflow: an editor's perspective</p> </li> </ul>"},{"location":"community/meetings/2023-08-15/#project-templates","title":"Project templates","text":"<ul> <li>The TIER Protocol 4.0 provides a template for organising the contents and reproduction documentation for projects that involve working with statistical data:</li> </ul> <p>Documentation that meets the specifications of the TIER Protocol contains all the data, scripts, and supporting information necessary to enable you, your instructor, or an interested third party to reproduce all the computations necessary to generate the results you present in the report you write about your project.</p>"},{"location":"community/meetings/2023-08-15/#using-shiny","title":"Using Shiny","text":"<ul> <li> <p>Mastering Shiny: an online book that teaches how to create web applications with R and Shiny.</p> </li> <li> <p>CoMo Consortium App: the COVID-19 International Modelling Consortium (CoMo) has developed a web application for an age-structured, compartmental SEIRS model.</p> </li> </ul>"},{"location":"community/meetings/2023-08-15/#continuous-integration-examples-for-r","title":"Continuous integration examples for R","text":"<ul> <li> <p>Building reproducible analytical pipelines with R: this article shows how to use GitHub Actions to run R code when you push new commits to a GitHub repository.</p> </li> <li> <p>GitHub Actions for the R language: this repository provides a variety of GitHub actions for R projects, such as installing specific versions of R and R packages.</p> </li> </ul>"},{"location":"community/meetings/2023-08-15/#continuous-integration-examples-for-python","title":"Continuous integration examples for Python","text":"<ul> <li>GitHub Actions for Python: the GitHub Actions documentation includes examples of building and testing Python projects.</li> </ul>"},{"location":"community/meetings/2023-08-15/#other-continuous-integration-examples","title":"Other continuous integration examples","text":"<p>See the GitHub actions for Git is my lab book, available here. For example, the build action performs the following actions:</p> <ol> <li> <p>Check out the repository, using <code>actions/checkout</code>;</p> </li> <li> <p>Install mdBook and other required tools, using make.</p> </li> <li> <p>Build a HTML version of the book, using <code>mdBook</code>.</p> </li> </ol>"},{"location":"community/meetings/2023-10-18/","title":"18 October 2023","text":"<p>In this meeting we asked participants to share their experiences about good (and bad) ways to structure a project.</p> <p>Info</p> <p>We are currently drafting Project structure and Writing code guidelines.</p> <p>See the pull request for further details. Please contribute suggestions!</p> <p>We had six in-person and eight online attendees. Everyone predominantly uses one or more of the following languages:</p> <ul> <li>Matlab;</li> <li>Python; and</li> <li>R.</li> </ul>"},{"location":"community/meetings/2023-10-18/#naming-files","title":"Naming files","text":"<p>The tidyverse style guide includes recommendations for naming files. One interesting recommendation in this guide is:</p> <ul> <li> <p>If files should be run in a particular order, prefix each file name with a number.   For example:</p> <pre><code>00_download.R\n01_clean.R\n02_summarise.R\n...\n09_plot_figures.R\n10_generate_tables.R\n</code></pre> </li> </ul>"},{"location":"community/meetings/2023-10-18/#choosing-a-directory-structure","title":"Choosing a directory structure","text":"<p>A common starting point is often one or more scripts in the root directory. But we can usually divide a project into several distinct steps or stages, and store the files necessary for each stage in a separate sub-directory.</p> <p>Tip</p> <p>Your project structure may change as the project develops. That's okay!</p> <p>You might, e.g., realise that some files should be moved to a new, or different, sub-directory.</p> <p>Packaging: Python and R allow you to bundle multiple code files into a \"package\". This makes it easier to use code that is split up into multiple files. It also makes it simpler to test and verify whether your code can be run on a different computer. To create a package, you need to provide some metadata, including a list of dependencies (packages or libraries that your code needs in order to run). When installing a Python or R package, it will automatically install the necessary dependencies too. You test this out on, e.g., a virtual machine to verify that you've correctly listed all of the necessary dependencies.</p> <p>Version control: the history may be extremely useful for you, but may contain things you don't want to make publicly available. One solution would be to know from the very start what files you will want to make available and what files you do not (e.g., sensitive data files), but this is not always possible. Another, more realistic, solution is to create a new repository, copy over all of the files that you want to make available, and record these files in a single commit. The public repository will not share the history of your project repository, and that's okay \u2014 the public repository's primary purpose is to serve as a snapshot, rather than a complete and unedited history.</p>"},{"location":"community/meetings/2023-10-18/#locating-files","title":"Locating files","text":"<p>A common concern how to locate files in different sub-directories (e.g., loading code, reading data files, writing output files) without relying on using absolute paths. For loading code, Python and Matlab allow the user to add directories to the search path (e.g., by modifying <code>sys.path</code> in Python, or calling <code>addpath()</code> in Matlab). But these are not ideal solutions.</p> <ul> <li> <p>As a general rule, prefer using relative paths instead of absolute paths.</p> </li> <li> <p>Relative paths are defined relative to the current working directory.     For example: <code>sub-directory/file-name</code> and <code>../other-directory</code>.</p> </li> <li> <p>Absolute paths are defined relative to the root drive or directory.     For example: <code>/Users/My Name/...</code> and <code>C:\\Users\\My Name\\...</code>.</p> </li> </ul> <p>Absolute paths may not exist on other people's computers.</p> <ul> <li>For R, the here package allows you to construct file paths relative to the top-level project directory.   For example, if you have a data file in <code>project/input-data/file-1.csv</code> and a script file in <code>project/analysis-code/read-input-data.R</code>, you can locate the data file from within the script with the following code:</li> </ul> <pre><code>library(here)\ndata_file &lt;- here(\"input-data/file-1.csv\")\n</code></pre> <p>Tip</p> <p>A general solution for any programming language is to break your code into functions, each of which accepts input and/or output file names as arguments (when required). This means that most of your code is entirely independent of your chosen project structure. You can then store/generate all of the file paths in a single file, or in each of your top-level scripts.</p>"},{"location":"community/meetings/2023-10-18/#peer-review-get-feedback-on-project-structure","title":"Peer review: get feedback on project structure","text":"<p>It can be helpful to get feedback from someone who isn't directly involved in the project. They may view the work from a fresh perspective, and be able to identify aspects that are confusing or unclear.</p> <p>When inviting someone to review your work, you should identify specific questions or tasks that you would like the reviewer to address.</p> <p>With respect to project structure, you may want to ask the reviewer to address questions such as:</p> <ul> <li>Do the project directories suggest a clear structure or workflow?</li> <li>Does each directory contain files that are clearly related to each other?</li> <li>Do the names of each directory and each file seem reasonable?</li> <li>Are there any files that you would consider renaming or moving?</li> <li>Does the <code>README.md</code> file help you to navigate the project?</li> </ul> <p>You could also ask the reviewer to look at a specific script or code file, and ask questions such as:</p> <ul> <li>Should this code be divided into smaller functions?</li> <li>Should this code be divided into multiple files?</li> </ul> <p>Info</p> <p>For further ideas about useful peer review activities, and how to incorporate them into your workflow, see the following paper:</p> <p>Implementing code review in the scientific workflow: Insights from ecology and evolutionary biology, Ivimey-Cook et al., Journal of Evolutionary Biology 36(10):1347\u20131356, 2023.</p>"},{"location":"community/meetings/2023-10-18/#styling-and-formatting","title":"Styling and formatting","text":"<p>We also discussed opinions about how to name functions, variables, files, etc.</p> <p>For example, R allows you to use periods (<code>.</code>) in function and variable names, but the tidyverse style guide recommends only using lowercase letters, numbers, and underscores (<code>_</code>).</p> <p>If you review other people's code, and have other people review your code, you might be surprised by the different styles and conventions that people use. When reviewing code, these differences can be somewhat distracting.</p> <ul> <li> <p>Agreeing on, and adhering to, a common style guide can avoid these issues and allow the reviewer to dedicate their attention to actually reading and reasoning about the code.</p> </li> <li> <p>There are tools to automatically format your code (\"formatters\") and to warn about potential issues, such as unused variables (\"linters\").   Here are some commonly-used formatters and linters for different languages:</p> Language Style guide(s) Formatter Linter R tidyverse styler lintr Python PEP 8 / The Hitchhiker's Style Guide black ruff Julia style guide JuliaFormatter.jl Lint.jl </li> </ul>"},{"location":"community/meetings/2023-10-18/#ai-tools-for-writing-and-reviewing-code","title":"AI tools for writing and reviewing code","text":"<p>There are AI tools that you can use to write, format, and review code, but you will need to check whether the code is correct. For example, GitHub Copilot is a (commercial) tool that accepts natural-language descriptions and generates computer code.</p> <p>Tip</p> <p>Feel free to use AI tools as a way to get started, but don't simply copy-and-paste the code they give you without reviewing it.</p>"},{"location":"community/meetings/2024-02-19/","title":"19 February 2024","text":"<p>In this meeting we asked participants to suggest goals and activities to achieve in 2024.</p> <p>Note</p> <p>If you were unable to attend the meeting, you can send us suggestions via email.</p> <p>We have identified the following goals for 2024:</p> <ul> <li> <p>Develop orientation materials for new students and staff;</p> </li> <li> <p>Share examples of project repositories and model implementations;</p> </li> <li> <p>Build expertise in testing your own code;</p> </li> <li> <p>Use peer code review to share knowledge and develop coding skills;</p> </li> </ul> <p>See the sections below for further details.</p>"},{"location":"community/meetings/2024-02-19/#orientation-materials","title":"Orientation materials","text":"<p>The first suggestion was to develop orientation materials for new students, postdocs, people coming from wet-lab backgrounds, etc. Suggested topics included:</p> <ul> <li>How to set up common tools on your laptop (e.g., Python and R);</li> <li>How to organise your files;</li> <li>How to write Markdown documents;</li> <li>How to format and lint your code;</li> <li>How to set up git on your own device and using platforms such as GitHub;</li> <li>How to recover old versions of files;</li> <li>How to make your code device-agnostic, so it can run on HPC platforms, virtual machines, and can easily be migrated to new devices; and</li> <li>How to plan for reproducibility from the beginning, rather than waiting until you're preparing a publication.</li> </ul> <p>Info</p> <p>Some of these topics are already covered in Git is my lab book; see the links above.</p> <p>There was broad interest in having a checklist, and example workflows for people to follow \u2014 particularly for projects that involve some form of code \"hand over\", to ensure that the recipients experience few problems in running the code themselves.</p> <p>We aim to address these topics in Git is my lab book, with assistance and feedback from the community. See the How to contribute page for details.</p>"},{"location":"community/meetings/2024-02-19/#example-projects-and-model-templates","title":"Example projects and model templates","text":"<p>Building on the idea of orientation materials, a number of participants suggested providing example projects and different types of models.</p> <p>The most commonly used languages in our community are:</p> <ul> <li>R</li> <li>Python</li> <li>Matlab</li> <li>Julia</li> <li>C++</li> </ul> <p>As an example, we could demonstrate how to write an age-stratified SEIR ODE model in R and Python, and how to write agent-based models in vector and object-oriented forms.</p> <p>Info</p> <p>GitHub allows you to create template repositories, which might be a useful way of sharing such examples. We could host these template repositories in our Community of Practice GitHub organisation.</p>"},{"location":"community/meetings/2024-02-19/#how-and-why-to-begin-testing-your-code","title":"How (and why!) to begin testing your code","text":"<p>We asked everyone whether they'd ever found bugs in their code, and were relieved to see that yes, all of us have made mistakes! Writing test cases in one way to check that your code is behaving in the way that you expect.</p> <ul> <li> <p>But it can be hard to figure out how to actually write useful tests.</p> </li> <li> <p>You can make your code easier to test if you structure your code well, and consider how to test it when you start coding.</p> </li> </ul> <p>As an example, Cam mentioned that he had written a stochastic model of a hospital ward, in which there was a queue of tasks. At the end of a shift, some tasks may not have been done, and these are put back on the queue for the next shift. Cam discovered there was a bug in the way this was done, and fixed it. However, later on he reintroduced the same bug. This is precisely the situation where regression tests are useful. In brief:</p> <ul> <li> <p>When you discover a bug in your code, write a test that detects this bug before you fix it.</p> </li> <li> <p>You now have a test that will identify this bug if you ever make the same mistake again.</p> </li> <li> <p>But you need to run this test whenever you modify your code.</p> </li> </ul> <p>Continuous Integration (CI) is one way to run tests automatically, whenever you push a commit to a platform such as GitHub or GitLab. See the list of resources shared in our previous meeting for some examples of using CI.</p> <p>In our community we have a number of people with familiarity and expertise in testing infectious disease models and related code. We need to share this knowledge and help others in the community to learn how to test their code.</p>"},{"location":"community/meetings/2024-02-19/#peer-code-review","title":"Peer code review","text":"<p>We talked about how we improve our writing skills by receiving feedback on drafts from colleagues, supervisors, etc, and how a similar approach can be extremely useful for improving our coding skills.</p> <p>Info</p> <p>A goal for this year is to review each other's code! Note that we have developed some guidelines for peer code review.</p> <p>Suggestions included:</p> <ul> <li> <p>Before submitting a paper to a journal, ask someone else to run your code.</p> </li> <li> <p>Rob has been working on a within-host malaria model, which is written in R and uses Continuous Integration to generate R Markdown documents every time the code is updated.   He is happy to share this for code review, so that:</p> </li> <li> <p>Everyone can see a working example of continuous integration; and</p> </li> <li> <p>He can receive feedback on the code, since he is not an experienced R programmer.</p> </li> <li> <p>A number of participants expressed a willingness to participate in peer code review.</p> </li> <li> <p>Angus noted that it can be difficult to identify a discrete chunk of digestible code to offer up for peer review.</p> </li> </ul> <p>We can coordinate peer code review through our Community of Practice GitHub organisation.</p>"},{"location":"community/meetings/2024-02-19/#sharing-code-but-not-the-original-data","title":"Sharing code but not the original data","text":"<p>Samik mentioned that in a recent paper, The impact of Covid-19 vaccination in Aotearoa New Zealand: A modelling study, the code is provided in a public GitHub repository, but that they do not have permission to share the original health data.</p> <p>Info</p> <p>We can frequently encounter this issue when working with public health and clinical data sets.</p> <p>What are the best practices in this case?</p> <ul> <li> <p>One option is to generate dummy data by, e.g., resampling or adding noise to the original data.   You could then inform the reader that they should obtain similar, but not necessarily identical results.</p> </li> <li> <p>You can also use a checksum algorithm (such as SHA-2) and include the checksum for  each original data file in the public repository.   This would allow users who can obtain access to the original data to verify that they are using identical data.</p> </li> </ul>"},{"location":"guides/","title":"Topical guides","text":"<p>These materials are divided into the following sections:</p> <ol> <li> <p>Understanding version control, which provides you with a complete and annotated history of your work, and with powerful ways to search and examine this history.</p> </li> <li> <p>Learning to use Git, the most widely used version control system, which is the foundation of popular code-hosting services such as GitHub, GitLab, and Bitbucket.</p> </li> <li> <p>Using Git to collaborate with colleagues in a precisely controlled and manageable way.</p> </li> <li> <p>Ensuring that your research is reproducible by others.</p> </li> <li> <p>Using testing frameworks to verify that your code behaves as intended, and to automatically detect when you introduce a bug or mistake into your code.</p> </li> <li> <p>Running your code on various computing platforms that allow you to obtain results efficiently and without relying on your own laptop/computer.</p> </li> </ol>"},{"location":"guides/learning-objectives/","title":"Learning objectives","text":"<p>This page defines the learning objectives for individual sections. These are skills that the reader should be able to demonstrate after reading through the relevant section, and completing any exercises in that section.</p>"},{"location":"guides/learning-objectives/#version-control-concepts","title":"Version control concepts","text":"<p>After completing this section, you should be able to identify how to apply version control concepts to your existing work. This includes being able to:</p> <ul> <li> <p>Identify projects and tasks for which version control would be suitable;</p> </li> <li> <p>Categorise recent work activities into one or more commits;</p> </li> <li> <p>Write commit messages that describe what changes you made and why you made them; and</p> </li> <li> <p>Identify pieces of work that could be carried out in separate branches of a repository.</p> </li> </ul>"},{"location":"guides/learning-objectives/#effective-use-of-git","title":"Effective use of git","text":"<p>After completing this section, you should be able to:</p> <ul> <li> <p>Create a local repository;</p> </li> <li> <p>Create commits in your local repository;</p> </li> <li> <p>Search your commit history to identify commits that made a specific change;</p> </li> <li> <p>Create a remote repository;</p> </li> <li> <p>Push commits from your local repository to a remote repository;</p> </li> <li> <p>Pull commits from a remote repository to your local repository;</p> </li> <li> <p>Use tags to identify important milestones;</p> </li> <li> <p>Work in a separate branch and then merge your changes into your main branch; and</p> </li> <li> <p>Resolve merge conflicts.</p> </li> </ul>"},{"location":"guides/learning-objectives/#collaborating","title":"Collaborating","text":"<p>After completing this section, you should be able to:</p> <ul> <li> <p>Share a repository with one or more collaborators;</p> </li> <li> <p>Create a pull request;</p> </li> <li> <p>Use a pull request to review a collaborator's work;</p> </li> <li> <p>Use a pull request to merge a collaborator's work into your main branch; and</p> </li> <li> <p>Conduct peer code review in a respectful manner.</p> </li> </ul>"},{"location":"guides/prerequisites/","title":"Prerequisites","text":"<p>These materials assume that the reader has a basic knowledge of the Bash command-line shell and using SSH to connect to remote computers. You should be comfortable with using the command-line to perform the following tasks:</p> <ul> <li>Navigate your files and directories;</li> <li>Create, copy, move, and delete files and directories; and</li> <li>Work remotely using SSH.</li> </ul> <p>Please refer to the following materials for further details:</p> <ul> <li>The Unix Shell: an introduction to using Bash.</li> <li>Extra Unix Shell Material: additional shell lessons, including SSH.</li> </ul> <p>Info</p> <p>If you use Windows, you may want to use PowerShell instead of Bash, in which case please refer to this Introduction to the Windows Command Line with Powershell.</p> <p>Some chapters also assume that the reader has an account on GitHub and has added an SSH key to their account.</p>"},{"location":"guides/resources/","title":"Useful resources","text":""},{"location":"guides/resources/#education-and-commentary-articles","title":"Education and commentary articles","text":"<ul> <li> <p>A Beginner's Guide to Conducting Reproducible Research describes key requirements for producing reproducible research outputs.</p> </li> <li> <p>Why code rusts collects together some of reasons the behaviour of code changes over time.</p> </li> <li> <p>Point of View: How open science helps researchers succeed presents evidence that open research practices bring significant benefits to researchers.</p> </li> <li> <p>The Journal of Statistics and Data Science Education published a special issue: Teaching Reproducibility in November 2022.   Also see the presentations from an invited paper session:</p> <ul> <li> <p>Collaborative writing workflows: building blocks towards reproducibility</p> </li> <li> <p>Opinionated practices for teaching reproducibility: motivation, guided instruction, and practice</p> </li> <li> <p>From teaching to practice: Insights from the Toronto Reproducibility Conferences</p> </li> <li> <p>Teaching reproducibility and responsible workflow: an editor's perspective</p> </li> </ul> </li> </ul>"},{"location":"guides/resources/#how-to-structure-your-project","title":"How to structure your project?","text":"<ul> <li> <p>A Quick Guide to Organizing Computational Biology Projects suggests an approach for structuring a computational research repository.</p> </li> <li> <p>The TIER Protocol 4.0 provides a template for organising the contents and reproduction documentation for projects that involve working with statistical data:</p> <p>Documentation that meets the specifications of the TIER Protocol contains all the data, scripts, and supporting information necessary to enable you, your instructor, or an interested third party to reproduce all the computations necessary to generate the results you present in the report you write about your project.</p> </li> <li> <p>A simple kit to use computational notebooks for more openness, reproducibility, and productivity in research provides some good recommendations for organising a project repository and setting up a reproducible workflow using computational notebooks.</p> </li> </ul>"},{"location":"guides/resources/#using-git-and-other-software-tools","title":"Using Git and other software tools","text":"<ul> <li> <p>NDP Software have created an interactive Git cheat-sheet that shows how git commands interact with the local and upstream repositories, and provides brief documentation for many common examples.</p> </li> <li> <p>The Pro Git book is available online.   It starts with an overview of Git basics and then covers every aspect of Git in great detail.</p> </li> <li> <p>The Software Carpentry Foundation publishes many lessons, including Version Control with Git.</p> </li> <li> <p>A Quick Introduction to Version Control with Git and GitHub provides a short guide to using Git and GitHub.   It presents an example of analysing publicly available ChIP-seq data with Python.   The repository for the article is also publicly available.</p> </li> </ul>"},{"location":"guides/resources/#examples-of-making-models-publicly-available","title":"Examples of making models publicly available","text":"<ul> <li> <p>CoMo Consortium App: the COVID-19 International Modelling Consortium (CoMo) has developed a Shiny web application for an age-structured, compartmental SEIRS model.</p> </li> <li> <p>Mastering Shiny: an online book that teaches how to create web applications with R and Shiny.</p> </li> </ul>"},{"location":"guides/resources/#performing-peer-code-review","title":"Performing peer code review","text":"<ul> <li> <p>The Art of Giving and Receiving Code Reviews (Gracefully)</p> </li> <li> <p>Code Review in the Lab</p> </li> <li> <p>Scientific Code Review</p> </li> <li> <p>The 5 Golden Rules of Code Review</p> </li> </ul>"},{"location":"guides/resources/#continuous-integration-ci-examples","title":"Continuous Integration (CI) examples","text":"<ul> <li> <p>GitHub Actions for Python: the GitHub Actions documentation includes examples of building and testing Python projects.</p> </li> <li> <p>Building reproducible analytical pipelines with R: this article shows how to use GitHub Actions to run R code when you push new commits to a GitHub repository.</p> </li> <li> <p>GitHub Actions for the R language: this repository provides a variety of GitHub actions for R projects, such as installing specific versions of R and R packages.</p> </li> <li> <p>See the GitHub actions for Git is my lab book.   The build action does the following:</p> <ol> <li> <p>Check out the repository with <code>actions/checkout</code>;</p> </li> <li> <p>Install Python with <code>actions/setup-python</code>;</p> </li> <li> <p>Install Material for MkDocs and other required tools, as listed in <code>requirements.txt</code>; and</p> </li> <li> <p>Build the HTML version of this book with <code>mkdocs</code>.</p> </li> </ol> </li> </ul>"},{"location":"guides/resources/#high-performance-computing-platforms","title":"High-performance computing platforms","text":"<ul> <li> <p>How to access the ARDC Nectar Research Cloud</p> </li> <li> <p>Melbourne Research Cloud</p> </li> <li> <p>High Performance Computing at University of Melbourne</p> </li> </ul>"},{"location":"guides/resources/#how-to-acknowledge-and-cite-research-software","title":"How to acknowledge and cite research software","text":"<ul> <li> <p>The ARDC Guide to making software citable explains how to cite your code and assign it a DOI.</p> </li> <li> <p>Recognizing the value of software: a software citation guide provides further examples and guidance for ensuring your work receives proper attribution and credit.</p> </li> </ul>"},{"location":"guides/resources/#software-licensing","title":"Software licensing","text":"<ul> <li> <p>Choose an open source license provides advice for selecting an appropriate license that meets your needs.</p> </li> <li> <p>A Quick Guide to Software Licensing for the Scientist-Programmer explains the various types of available licenses and provides advice for selecting a suitable license.</p> </li> </ul>"},{"location":"guides/collaborating/","title":"Collaborating","text":"<p>This section demonstrates how to use Git for collaborative research, enabling multiple people to work on the same code or paper in parallel. This includes deciding how to structure your repository, how to use branches for each collaborator, and how to use tags to track your progress.</p> <p>Info</p> <p>We also show how these skills support peer code review, so that you can share knowledge with, and learn from, your colleagues as part of your regular activity.</p>"},{"location":"guides/collaborating/an-example-pull-request/","title":"An example pull request","text":"<p>The initial draft of each chapter in this section were proposed in a pull request.</p> <p>When this pull request was created, the branch added four new commits:</p> <pre><code>85594bf Add some guidelines for collaboration workflows\n678499b Discuss coding style guides\n2b9ff70 Discuss merge/pull requests and peer code review\n6cc6f54 Discuss repository structure and licenses\n</code></pre> <p>and the author (Rob Moss) asked the reviewer (Eamon Conway) to address several details in particular.</p> <p>Eamon made several suggestions in their initial response, including:</p> <ul> <li> <p>Moving the How to structure a repository and Choosing a license chapters to the Effective use of git section;</p> </li> <li> <p>Starting this section with the Collaborating on code chapter; and</p> </li> <li> <p>Agreeing that we should use this pull request as an example in this book.</p> </li> </ul> <p>In response, Rob pushed two commits that addressed the first two points above:</p> <pre><code>e1d1dd9 Move collaboration guidelines to the start\n3f78ef8 Move the repository structure and license chapters\n</code></pre> <p>and then wrote this chapter to show how we used a pull request to draft this book section.</p>"},{"location":"guides/collaborating/coding-style-guides/","title":"Coding style guides","text":"<p>A style guide defines rules and guidelines for how to structure and format your code. This can make code easier to write, because you don't need to worry about how to format your code. It can also make code easier to read, because consistent styling allows you to focus on the content.</p> <p>There are two types of tools that can help you use a style guide:</p> <ul> <li> <p>A formatter formats your code to make it consistent with a specific style; and</p> </li> <li> <p>A linter checks whether your code is consistent with a specific style.</p> </li> </ul>"},{"location":"guides/collaborating/coding-style-guides/#recommended-style-guides","title":"Recommended style guides","text":"<p>Because programming languages can be very different from each other, style guides are usually defined for a single programming language.</p> <p>Here we list some of the most widely-used style guides for several common programming languages:</p> <ul> <li>For R there is a tidyverse style guide.</li> <li>You can apply this style to your code with styler.</li> <li> <p>You can check that your code conforms to this style with lintr.</p> </li> <li> <p>For Python there is Black, which defines a coding style and applies this style to your code.</p> </li> <li> <p>For C++ there is a Google C++ style guide.</p> </li> </ul>"},{"location":"guides/collaborating/collaborating-on-a-paper/","title":"Collaborating on a paper","text":"<p>Once you are comfortable with creating commits, working in branches, and merging branches, you can use these skills to write papers collaboratively as a team. This approach is particularly useful if you are writing a paper in LaTeX.</p> <p>Here are some general guidelines that you may find useful:</p> <ul> <li> <p>Divide the paper into separate LaTeX files for each section.</p> </li> <li> <p>Use tags to identify milestones such as draft versions and revisions.</p> </li> <li> <p>Consider creating a separate branch for each collaborator.</p> <ul> <li>Merge these branches when completing a major draft or revision.</li> </ul> </li> <li> <p>Use latexdiff to show tracked changes between the current version and a previous commit/tag:</p> <pre><code>latexdiff-git --flatten -r tag-name paper.tex\n</code></pre> </li> <li> <p>Collaborators who will provide feedback, rather than contributing directly to the writing process, can do this by:</p> </li> <li> <p>Annotating PDF versions of the paper; or</p> </li> <li>Providing comments in response to a merge/pull request.</li> </ul>"},{"location":"guides/collaborating/collaborating-on-code/","title":"Collaborating on code","text":"<p>Once you are comfortable with creating commits, working in branches, and merging branches, you can use these skills to write code collaboratively as a team.</p> <p>The precise workflow will depend on the nature of your research and on the collaborators in your team, but there are some general guidelines that you may find helpful:</p> <ul> <li> <p>Agree on a style guide.</p> </li> <li> <p>Work on separate features in separate branches.</p> </li> <li> <p>Use peer code review before merging changes from these branches.</p> </li> <li> <p>Consider using continuous integration to:</p> </li> <li> <p>Run test cases and detect bugs as early as possible; and</p> </li> <li>Verify that code meets your chosen style guide.</li> </ul>"},{"location":"guides/collaborating/continuous-integration/","title":"Continuous integration","text":"<p>Continuous Integration (CI) is an automated process where code changes are merged in a central repository in order to run automated tests and other processes. This can provide rapid feedback while you develop your code and collaborate with others, as long as commits are regularly pushed to the central repository.</p> <p>Info</p> <p>This book is an example of Continuous Integration: every time a commit is pushed to the central repository, the online book is automatically updated.</p> <p>Because the central repository is hosted on GitHub, we use GitHub Actions. Note that this is a GitHub-specific CI system. You can view the update action for this book here.</p> <p>We also use CI to publish each pull request, so that contributions can be previewed during the review process. We added this feature in this pull request.</p>"},{"location":"guides/collaborating/merge-pull-requests/","title":"Merge/Pull requests","text":"<p>Recall that incorporating the changes from one branch into another branch is referred to as a \"merge\". You can merge one branch into another branch by taking the following steps:</p> <ol> <li> <p>Checking out the branch you want to merge the changes into:</p> <pre><code>git checkout -b my-branch\n</code></pre> </li> <li> <p>Merging the changes from the other branch:</p> <pre><code>git merge other-branch\n</code></pre> </li> </ol> <p>Tip</p> <p>It's a good idea to review these changes before you merge them.</p> <p>If possible, it's even better to have someone else review the changes.</p> <p>You can use <code>git diff</code> to view differences between branches. However, platforms such as GitHub and GitLab offer an easier approach: \"pull requests\" (also called \"merge requests\").</p>"},{"location":"guides/collaborating/merge-pull-requests/#creating-a-pull-request-on-github","title":"Creating a pull request on GitHub","text":"<p>The steps required to create a pull request differ depending on which platform you are using. Here, we will describe how to create a pull request on GitHub. For further details, see the GitHub documentation.</p> <ul> <li> <p>Open the main page of your GitHub repository.</p> </li> <li> <p>In the \"Branch\" menu, select the branch that contains the changes you want to merge.</p> </li> <li> <p>Open the \"Contribute\" menu.   This should be located on the right-hand side, above the list of files.</p> </li> <li> <p>Click the \"Open pull request\" button.</p> </li> <li> <p>In the \"base\" menu, select the branch you want to merge the changes into.</p> </li> <li> <p>Enter a descriptive title for the pull request.</p> </li> <li> <p>In the message editor, write a summary of the changes in this branch, and identify specific questions or objectives that you want the reviewer to address.</p> </li> <li> <p>Select potential reviewers by clicking on the \"Reviewers\" link in the right-hand sidebar.</p> </li> <li> <p>Click the \"Create pull request\" button.</p> </li> </ul> <p>Once the pull request has been created, the reviewer(s) can review your changes and discuss their feedback and suggestions with you.</p>"},{"location":"guides/collaborating/merge-pull-requests/#merging-a-pull-request-on-github","title":"Merging a pull request on GitHub","text":"<p>When the pull request has been reviewed to your satisfaction, you can merge these changes by clicking the \"Merge pull request\" button.</p> <p>Info</p> <p>If the pull request has merge conflicts (e.g., if the branch you're merging into contains new commits), you will need to resolve these conflicts.</p> <p>For further details about merging pull requests on GitHub, see the GitHub documentation.</p>"},{"location":"guides/collaborating/peer-code-review/","title":"Peer code review","text":"<p>Once you're comfortable in using merge/pull requests to review changes in a branch, you can use this approach for peer code review.</p> <p>Info</p> <p>Remember that code review is a discussion and critique of a person's work. The code author will naturally feel that they own the code, and the reviewer needs to respect this.</p> <p>For further advice and suggestions on how to conduct peer code review, please see the Performing peer code review resources.</p> <p>Tip</p> <p>Mention people who have reviewed your code in the acknowledgements section of the paper.</p>"},{"location":"guides/collaborating/peer-code-review/#define-the-goals-of-a-peer-review","title":"Define the goals of a peer review","text":"<p>In creating a pull request and inviting someone to review your work, the pull request description should include the following details:</p> <ul> <li> <p>An overview of the work included in the pull request: what have you done, why have you done it?</p> </li> <li> <p>You may also want to explain how this work fits into the broader context of your research project.</p> </li> <li> <p>Identify specific questions or tasks that you would like the reviewer to address.   For example, you might ask the reviewer to address one or more of the following questions:</p> </li> <li> <p>Can the reviewer run your code and reproduce the outputs?</p> </li> <li> <p>Is the code easy to understand?</p> </li> <li> <p>If you have a style guide, is the code formatted appropriately?</p> </li> <li> <p>Do the model equation or data analysis steps seem sensible?</p> </li> <li> <p>If you have written documentation, is it easy to understand?</p> </li> <li> <p>Can the reviewer suggest how to improve or rewrite a specific piece of code?</p> </li> </ul> <p>Tip</p> <p>Make the reviewer's job easier by giving them small amounts of code to review.</p>"},{"location":"guides/collaborating/peer-code-review/#finding-a-reviewer","title":"Finding a reviewer","text":"<p>On GitHub we have started a peer-review team. We encourage you to post on the discussion board, to find like-minded members to review your code.</p>"},{"location":"guides/collaborating/peer-code-review/#guidelines-for-reviewing-other-peoples-code","title":"Guidelines for reviewing other people's code","text":"<p>Peer code review is an opportunity for the author and the reviewer to learn from each other and improve a piece of code.</p> <p>Tip</p> <p>The most important guideline for the reviewer is to be kind.</p> <p>Treat other people's code the way you would want them to treat your code.</p> <ul> <li> <p>Avoid saying \"you\".   Instead, say \"we\" or make the code the subject of the sentence.</p> </li> <li> <p>Don't say \"You don't have a test for this function\", but instead say \"We should test this function\".</p> </li> <li> <p>Don't say \"Why did you write it this way?\", but instead say \"What are the advantages of this approach?\".</p> </li> <li> <p>Ask questions rather than stating criticisms.</p> </li> <li> <p>Don't say \"This code is unclear\", but instead say \"Can you help me understand how this code works?\".</p> </li> <li> <p>Treat peer review as an opportunity to praise good work!</p> </li> <li> <p>Don't be afraid to tell the author that a piece of code was very clear, easy to understand, or well written.</p> </li> <li> <p>Tell the author if reading their code made you aware of a useful function or package.</p> </li> <li> <p>Tell the author if reading their code gave you some ideas for your own code.</p> </li> </ul>"},{"location":"guides/collaborating/peer-code-review/#complete-the-review","title":"Complete the review","text":"<p>Once the peer code review is complete, and any corresponding updates to the code have been made, you can merge the branch.</p>"},{"location":"guides/collaborating/peer-code-review/#retain-a-record-of-the-review","title":"Retain a record of the review","text":"<p>By using merge/pull requests to review code, the discussion between the author and the reviewer is recorded. This can be a useful reference for future code reviews.</p> <p>Tip</p> <p>Try to record all of the discussion in the pull request comments, even if the author and reviewer meet in person, so that you have a complete record of the review.</p>"},{"location":"guides/collaborating/sharing-a-branch/","title":"Sharing a branch","text":"<p>You might want a collaborator to work on a specific branch of your repository, so that you can keep their changes separate from your own work. Remember that you can merge commits from their branch into your own branches at any time.</p> <p>Info</p> <p>You need to ensure that your collaborator has access to the remote repository.</p> <ol> <li> <p>Create a new branch for the collaborator, and give it a descriptive name.</p> <pre><code>git checkout -b collab/jamie\n</code></pre> <p>In this example we created a branch called \"collab/jamie\", where \"collab\" is a prefix used to identify branches intended for collaborators, and the collaborator is called Jamie.</p> <p>Remember that you can choose your own naming conventions.</p> </li> <li> <p>Push this branch to your remote repository:</p> <pre><code>git push -u origin collab/jamie\n</code></pre> </li> <li> <p>Your collaborator can then make a local copy of this branch:</p> <pre><code>git clone --single-branch --branch collab/jamie repository-url\n</code></pre> </li> <li> <p>They can then create commits and push them to your remote repository with <code>git push</code>.</p> </li> </ol>"},{"location":"guides/collaborating/sharing-a-repository/","title":"Sharing a repository","text":"<p>The easiest way to share a repository with collaborators is to have a single remote repository that all collaborators can access. This repository could be located on a platform such as GitHub, GitLab, or Bitbucket, or on a platform provided by your University or Institute.</p> <p>Theses platforms allow you to create public repositories and private repositories.</p> <ul> <li> <p>Everybody can view the contents of a public repository.</p> </li> <li> <p>You control who can view the contents of a private repository.</p> </li> <li> <p>For both types of repository, you control who can make changes to the repository, such as creating commits and branches.</p> </li> </ul> <p>Info</p> <p>You should decide whether a public repository or a private repository suits you best.</p>"},{"location":"guides/collaborating/sharing-a-repository/#giving-collaborators-access-to-your-remote-repository","title":"Giving collaborators access to your remote repository","text":"<p>The steps required to do this differ depending on which platform you are using. Here, we will describe how to give collaborators access to a repository on GitHub. For further details, see the GitHub documentation.</p> <ul> <li> <p>Open the main page of your GitHub repository.</p> </li> <li> <p>Click on the \"Settings\" tab in the top navigation bar.</p> </li> <li> <p>Click on the \"Collaborators\" item in the left sidebar.</p> </li> <li> <p>Click on the \"Add people\" button.</p> </li> <li> <p>Search for collaborators by entering their GitHub user name, their full name, or their email address.</p> </li> <li> <p>Click the \"Add  to this repository\" button. <p>This will send an invitation to the collaborator. If they accept this invitation, they will have access to your repository.</p>"},{"location":"guides/high-performance-computing/","title":"Cloud and HPC platforms","text":"<p>This section introduces computing platforms that allow you to generate outputs more quickly, and without relying on your own laptop or desktop computer. It also demonstrates how to use version control to ensure that the code running on these platforms is the same as the code on your laptop.</p>"},{"location":"guides/reproducibility/","title":"Reproducibility","text":"<p>This section demonstrates how to use version control and software testing to ensure that your research results can be independently reproduced by others.</p> <p>Tip</p> <p>Reproducibility is just as much about simple work habits as the tools used to share data and code.</p> <p>\u2014 Jesse M. Alston and Jessica A. Rick</p>"},{"location":"guides/testing/","title":"Testing","text":"<p>This section introduces the topic of software testing. Testing your code is an important part of any code-based research activity. Tests check whether your code behaves as intended, and can warn you if you introduce a bug or mistake into your code.</p> <p>Tip</p> <p>Tests can show the presence of bugs, but not their absence.</p> <p>\u2014 Edsger W. Dijkstra</p>"},{"location":"guides/using-git/","title":"Effective use of git","text":"<p>This section shows how to use the <code>git</code> command-line program to record your work, to inspect your commit history, and to search this commit history to identify commits that make specific changes or have specific effects.</p> <p>Reminder</p> <p>Remember to commit early and commit often. Do not wait until your code is \"perfect\".</p>"},{"location":"guides/using-git/choosing-a-license/","title":"Choosing a license","text":"<p>A license specifies the conditions under which others may use, modify, and/or distribute your work.</p> <p>Info</p> <p>Simply making a repository publicly accessible is not sufficient to allow others to make use of your work. Unless you include a license that specifies otherwise, nobody else can copy, distribute, or modify your work.</p> <p>There are many different types of licenses that you can use, and the number of options can seem overwhelming. But it is usually straightforward to narrow down your options.</p> <ul> <li> <p>If you're working on an existing project, the easiest option is to use that project's license.</p> </li> <li> <p>If you're working with an existing community, they may have a preferred license.</p> </li> <li> <p>If you want to choose an open source license, the Choose an open source license website  provides advice for selecting a license that meets your needs.</p> </li> </ul> <p>For further information about the various types of available licenses, and some advice for selecting a suitable license for academic software, see A Quick Guide to Software Licensing for the Scientist-Programmer.</p>"},{"location":"guides/using-git/choosing-your-git-editor/","title":"Choosing your Git editor","text":"<p>In this video, we show how to use nano and vim for writing commit messages. See below for brief instructions on how to use these editors.</p> <p>Tip</p> <p>This editor is only used for writing commit messages. It is entirely separate from your choice of editor for any other task, such as writing code.</p> Git editor example <p></p> <p>Video timeline:</p> <ol> <li>Overview</li> <li>Show how to use nano</li> <li>Show how to use vim</li> </ol> <p>Note</p> <p>You can pause the video to select and copy any of the text, such as the <code>git config --global core.editor</code> commands.</p>"},{"location":"guides/using-git/choosing-your-git-editor/#how-to-use-nano","title":"How to use nano","text":"<p>Once you have written your commit message, press Ctrl + O and then Enter to save the commit message, then press Ctrl + X to quit the editor.</p> <p>To quit without saving press Ctrl + X. If you have made any changes, <code>nano</code> will ask if you want to save them. Press n to quit without saving these changes.</p>"},{"location":"guides/using-git/choosing-your-git-editor/#how-to-use-vim","title":"How to use vim","text":"<p>You need to press i (switch to insert mode) before you can write your commit message. Once you have written your commit message, press Esc and then type :wq to save your changes and quit the editor.</p> <p>To quit without saving press Esc and then type :q!.</p>"},{"location":"guides/using-git/cloning-an-existing-repository/","title":"Cloning an existing repository","text":"<p>If there is an existing repository that you want to work on, you can \"clone\" the repository and have a local copy. To do this, you need to know the remote repository's URL.</p> <p>Tip</p> <p>For GitHub repositories, there should be a green button labelled \"Code\". Click on this button, and it will provide you with the URL.</p> <p>You can then make a local copy of the repository by running:</p> <pre><code>git clone URL\n</code></pre> <p>For example, to make a local copy of this book, run the following command:</p> <pre><code>git clone https://github.com/robmoss/git-is-my-lab-book.git\n</code></pre> <p>This will create a local copy in the directory <code>git-is-my-lab-book</code>.</p> <p>Note</p> <p>If you have a GitHub account and have set up an SSH key, you can clone GitHub repositories using your SSH key. This will allow you to push commits to the remote repository (if you are permitted to do so) without having to enter your user name and password.</p> <p>You can obtain the SSH URL from GitHub by clicking on the green \"Code\" button, and selecting the \"SSH\" tab.</p> <p>For example, to make a local copy of this book using SSH, run the following command:</p> <pre><code>git clone git@github.com:robmoss/git-is-my-lab-book.git\n</code></pre>"},{"location":"guides/using-git/creating-a-commit/","title":"Creating a commit","text":"<p>Creating a commit involves two steps:</p> <ol> <li> <p>Identify the changes that should be included in the commit.    These changes are then \"staged\" and ready to be included in the next commit.</p> </li> <li> <p>Create a new commit that records these staged changes.    This should be accompanied by a useful commit message.</p> </li> </ol> <p>We will now show how to perform these steps.</p> <p>Note</p> <p>At any time, you can see a summary of the changes in your repository, and which ones are staged to be committed, by running:</p> <pre><code>git status\n</code></pre> <p>This will show you:</p> <ol> <li>The files (if any) that contain changes that have been staged;</li> <li>The files (if any) that contain changes that have not been staged; and</li> <li>The files (if any) that are not recorded in the repository history.</li> </ol>"},{"location":"guides/using-git/creating-a-commit/#adding-a-new-file","title":"Adding a new file","text":"<p>If you've created a new file, you can include this file in the next commit by running:</p> <pre><code>git add filename\n</code></pre>"},{"location":"guides/using-git/creating-a-commit/#adding-all-changes-in-an-existing-file","title":"Adding all changes in an existing file","text":"<p>If you've made changes to an existing file, you can include all of these changes in the next commit by running:</p> <pre><code>git add filename\n</code></pre>"},{"location":"guides/using-git/creating-a-commit/#adding-some-changes-in-an-existing-file","title":"Adding some changes in an existing file","text":"<p>If you've made changes to an existing file and only want to include some of these changes in the next commit, you can select the changes to include by running:</p> <pre><code>git add -p filename\n</code></pre> <p>This will show you each of the changes in turn, and allow you select which ones to stage.</p> <p>Tip</p> <p>This interactive selection mode is very flexible; you can enter <code>?</code> at any of the prompts to see the range of available actions.</p>"},{"location":"guides/using-git/creating-a-commit/#renaming-a-file","title":"Renaming a file","text":"<p>If you want to rename a file, you can use <code>git mv</code> to rename the file and stage this change for inclusion in the next commit:</p> <pre><code>git mv filename newname\n</code></pre>"},{"location":"guides/using-git/creating-a-commit/#removing-a-file","title":"Removing a file","text":"<p>If you want to remove a file, you can use <code>git rm</code> to remove the file and stage this change for inclusion in the next commit:</p> <pre><code>git rm filename\n</code></pre> <p>Tip</p> <p>If the file has any uncommitted changes, git will refuse to remove the file. You can override this behaviour by running:</p> <pre><code>git rm --force filename\n</code></pre>"},{"location":"guides/using-git/creating-a-commit/#inspecting-the-staged-changes","title":"Inspecting the staged changes","text":"<p>To verify that you have staged all of the desired changes, you can view the staged changes by running:</p> <pre><code>git diff --cached\n</code></pre> <p>You can view the staged changes for a specific file by running:</p> <pre><code>git diff --cached filename\n</code></pre>"},{"location":"guides/using-git/creating-a-commit/#undoing-a-staged-change","title":"Undoing a staged change","text":"<p>You may sometimes stage a change for inclusion in the next commit, but decide later that you don't want to include it in the next commit. You can undo staged changes to a file by running:</p> <pre><code>git restore --staged filename\n</code></pre> <p>Note</p> <p>This will not modify the contents of the file.</p>"},{"location":"guides/using-git/creating-a-commit/#creating-a-new-commit","title":"Creating a new commit","text":"<p>Once you have staged all of the changes that you want to include in the commit, create the commit by running:</p> <pre><code>git commit\n</code></pre> <p>This will open your chosen editor and prompt you to write the commit message.</p> <p>Tip</p> <p>Note that the commit will not be created until you exit the editor.</p> <p>If you decide that you don't want to create the commit, you can abort this action by closing your editor without saving a commit message.</p> <p>Please see Choosing your Git editor for details.</p>"},{"location":"guides/using-git/creating-a-commit/#modifying-the-most-recent-commit","title":"Modifying the most recent commit","text":"<p>After you create a commit, you might decide that there are other changes that should be included in the commit. Git provides a simple way of modifying the most recent commit.</p> <p>Warning</p> <p>Do not modify the commit if you have already pushed it to another repository. Instead, record a new commit that includes the desired changes.</p> <p>Remember that your commit history should not be a highly-edited, polished view of your work, but should instead act as a lab book.</p> <p>Do not worry about creating \"perfect\" commits!</p> <p>To modify the most recent commit, stage the changes that you want to commit (see the sections above) and add them to the most recent commit by running:</p> <pre><code>git commit --amend\n</code></pre> <p>This will open your chosen editor and allow you to modify the commit message.</p>"},{"location":"guides/using-git/creating-a-remote-repository/","title":"Creating a remote repository","text":"<p>Once you have created a \"local\" repository (i.e., a repository that exists on your own computer), it is generally a good idea to create a \"remote\" repository. You may choose to store this remote repository on a service such as GitHub, or on a University-provided platform.</p> <p>If you are using GitHub, you can choose to create a public repository (viewable by anyone, but you control who can make changes) or a private repository (you control who can view and/or make changes).</p>"},{"location":"guides/using-git/creating-a-remote-repository/#linking-your-local-and-remote-repositories","title":"Linking your local and remote repositories","text":"<p>Once you have created the remote repository, you need to link it to your local repository. This will allow you to \"push\" commits from your local repository to the remote repository, and to \"pull\" commits from the remote repository to your local repository.</p> <p>Note</p> <p>When you create a new repository on services such as GitHub, they will give you instructions on how to link this new repository to your local repository. We also provide an example, below.</p> <p>A repository can be linked to more than one remote repository, so we need to choose a name to identify this remote repository.</p> <p>Info</p> <p>The name \"origin\" is commonly used to identify the main remote repository.</p> <p>In this example, we link our local repository to the remote repository for this book (<code>https://github.com/robmoss/git-is-my-lab-book</code>) with the following command:</p> <pre><code>git remote add origin git@github.com:robmoss/git-is-my-lab-book.git\n</code></pre> <p>Note</p> <p>Notice that the URL is similar to, but not identical to, the URL you use to view the repository in your web browser.</p>"},{"location":"guides/using-git/creating-a-repository/","title":"Creating a repository","text":"<p>You can create repositories by running <code>git init</code>. This will create a <code>.git</code> directory that will contain all of the repository information.</p> <p>There are two common ways to use <code>git init</code>:</p> <ol> <li> <p>Create an empty repository in the current directory, by running:</p> <pre><code>git init\n</code></pre> </li> <li> <p>Create an empty repository in a specific directory, by running:</p> <pre><code>git init path/to/repository\n</code></pre> <p>Info</p> <p>Git will create the repository directory if it does not exist.</p> </li> </ol>"},{"location":"guides/using-git/exercise-create-a-local-repository/","title":"Exercise: create a local repository","text":"<p>In this exercise you will create a local repository, and use this repository to create multiple commits, switch between branches, and inspect the repository history.</p> <ol> <li> <p>Create a new, empty repository in a directory called <code>git-exercise</code>.</p> </li> <li> <p>Create a <code>README.md</code> file and write a brief description for this repository.    Record the contents of <code>README.md</code> in a new commit, and write a commit message.</p> </li> <li> <p>Write a script that generates a small data set, and saves the data to a CSV file.    For example, this script could sample values from a probability distribution with fixed shape parameters.    Explain how to use this script in <code>README.md</code>.    Record your changes in a new commit.</p> </li> <li> <p>Write a script that plots these data, and saves the figure in a suitable file format.    Explain how to use this script in <code>README.md</code>.    Record your changes in a new commit.</p> </li> <li> <p>Add a tag <code>milestone-1</code> to the commit you created in the previous step.</p> </li> <li> <p>Create a new branch called <code>feature/new-data</code>.    Check out this branch and modify the data-generation script so that it produces new data and/or more data.    Record your changes in one or more new commits.</p> </li> <li> <p>Create a new branch called <code>feature/summarise</code> from the tag you created in step #5.    Check out this branch and modify the plotting script so that it also prints some summary statistics of the data.    Record your changes in one or more new commits.</p> </li> <li> <p>In your <code>main</code> or <code>master</code> branch, and add a license.    Record your changes in a new commit.</p> </li> <li> <p>In your <code>main</code> or <code>master</code> branch, merge the two feature branches created in steps #6 and #7, and add a new tag <code>milestone-2</code>.</p> </li> </ol>"},{"location":"guides/using-git/exercise-create-a-local-repository/#self-evaluation","title":"Self evaluation","text":"<p>Now that you have started a repository, created commits in multiple branches, and merged these branches, here are some questions for you to consider:</p> <ul> <li> <p>Have you committed the generated data file and/or the plot figure?</p> </li> <li> <p>If you haven't committed either or both of these files, have you instructed <code>git</code> to ignore them?</p> </li> <li> <p>Did you add a meaningful description to each milestone tag?</p> </li> <li> <p>How many commits modified your data-generation script?</p> </li> <li> <p>How many commits modified your plotting script?</p> </li> <li> <p>What changes, if any, were made to <code>README.md</code> since it was first created?</p> </li> </ul> <p>Tip</p> <p>To answer some of these questions, you may need to run <code>git</code> commands.</p>"},{"location":"guides/using-git/exercise-resolve-a-merge-conflict/","title":"Exercise: resolve a merge conflict","text":"<p>We have created a public repository that you can use to try resolving a merge conflict yourself. This repository includes some example data and a script that performs some basic data analysis.</p> <p>First, obtain a local copy (a \"clone\") of this repository by running:</p> <pre><code>git clone https://github.com/robmoss/gimlb-simple-merge-example.git\ncd gimlb-simple-merge-example\n</code></pre>"},{"location":"guides/using-git/exercise-resolve-a-merge-conflict/#the-repository-history","title":"The repository history","text":"<p>You can inspect the repository history by running <code>git log</code>. Some key details to notice are:</p> <ol> <li>The first commit created the following files:</li> <li><code>README.md</code></li> <li><code>LICENSE</code></li> <li><code>analysis/initial_exploration.R</code></li> <li> <p><code>input_data/data.csv</code></p> </li> <li> <p>The second commit created the following file:</p> </li> <li><code>outputs/summary.csv</code></li> </ol> <p>This commit has been given the tag <code>first_milestone</code>.</p> <ol> <li> <p>From this <code>first_milestone</code> tag, two branches were created:</p> </li> <li> <p>The <code>feature/second-data-set</code> branch adds a second data set and updates the analysis script to inspect both data sets.</p> </li> <li> <p>The <code>feature/calculate-rate-of-change</code> branch changes which summary statistics are calculated for the original data set.</p> </li> <li> <p>The <code>example-solution</code> branch merges both feature branches and resolves any merge conflicts.    This branch has been given the tag <code>second_milestone</code>.</p> </li> </ol>"},{"location":"guides/using-git/exercise-resolve-a-merge-conflict/#your-task","title":"Your task","text":"<p>You will start with the <code>master</code> branch, which contains the commits up to the <code>first_milestone</code> tag, and then merge the two feature branches into this branch, resolving any merge conflicts that arise. You can then compare your results to the <code>example-solution</code> branch.</p> <ol> <li> <p>Obtain a local copy of this repository, by running:</p> <pre><code>git clone https://github.com/robmoss/gimlb-simple-merge-example.git\ncd gimlb-simple-merge-example\n</code></pre> </li> <li> <p>Create local copies of the two feature branches and the example solution, by running:</p> <pre><code>git checkout feature/second-data-set\ngit checkout feature/calculate-rate-of-change\ngit checkout example-solution\n</code></pre> </li> <li> <p>Return to the <code>master</code> branch, by running:</p> <pre><code>git checkout master\n</code></pre> </li> <li> <p>Merge the <code>feature/second-data-set</code> branch into <code>master</code>, by running:</p> <pre><code>git merge feature/second-data-set\n</code></pre> </li> <li> <p>Merge the <code>feature/calculate-rate-of-change</code> branch into <code>master</code>, by running:</p> <pre><code>git merge feature/calculate-rate-of-change\n</code></pre> </li> </ol> <p>This will result in a merge conflict, and now you need to decide how to resolve each conflict!    Once you have resolved the conflicts, create a commit that records all of your changes (see the previous chapter for an example).</p> <p>Tip</p> <p>You may find it helpful to inspect the commits in each of the feature branches to understand how they have changed the files in which the conflicts have occurred.</p>"},{"location":"guides/using-git/exercise-resolve-a-merge-conflict/#self-evaluation","title":"Self evaluation","text":"<p>Once you have created a commit that resolves these conflicts, see how similar or different the contents of your commit are to the corresponding commit in the <code>example-solution</code> branch (which has been tagged <code>second_milestone</code>). You can inspect this commit by running:</p> <pre><code>git show example-solution\n</code></pre> <p>You can compare this commit to your solution by running:</p> <pre><code>git diff example-solution\n</code></pre> <p>How does your resolution compare to this commit?</p> <p>Note</p> <p>You may have resolved the conflicts differently to the <code>example-solution</code> branch, and that's perfectly fine as long as they have the same effect.</p>"},{"location":"guides/using-git/exercise-resolve-a-merge-conflict/#example-solution","title":"Example solution","text":"<p>Here we present a recorded terminal session in which we clone this repository and resolve the merge conflict.</p> <p>Tip</p> <p>You can use the video timeline (below) to jump to specific moments in this exercise. Remember that you can pause the recording at any point to select and copy any of the text.</p> Resolving a merge conflict <p></p> <p>Video timeline:</p> <ol> <li>Start: a quick look around</li> <li>Create local copies of branches</li> <li>Inspect the <code>feature/second-data-set</code> branch</li> <li>Inspect the <code>feature/calculate-rate-of-change</code> branch</li> <li>Merge the <code>feature/second-data-set</code> branch</li> <li>Merge the <code>feature/calculate-rate-of-change</code> branch</li> <li>Resolve the merge conflicts</li> <li>Compare to the example solution</li> </ol>"},{"location":"guides/using-git/exercise-use-a-remote-repository/","title":"Exercise: use a remote repository","text":"<p>In this exercise, you will use a remote repository to synchronise and merge changes between multiple local repositories, starting from the local <code>git-exercise</code> repository that you created in the previous exercise.</p>"},{"location":"guides/using-git/exercise-use-a-remote-repository/#create-a-remote-repository","title":"Create a remote repository","text":"<ol> <li> <p>Create a new remote repository on a platform such as GitHub.    You can make this a private repository, because you won't need to share it with anyone.</p> </li> <li> <p>Link your local <code>git-exercise</code> repository to this remote repository, and push all branches and tags to this remote repository.</p> </li> </ol>"},{"location":"guides/using-git/exercise-use-a-remote-repository/#clone-the-remote-repository","title":"Clone the remote repository","text":"<ol> <li> <p>Make a local copy of this remote repository called <code>git-exercise-2</code>.</p> </li> <li> <p>Check out the <code>main</code> or <code>master</code> branch.    The files should be identical to the <code>milestone-2</code> tag in your original <code>git-exercise</code> repository.</p> </li> </ol>"},{"location":"guides/using-git/exercise-use-a-remote-repository/#work-on-the-new-local-repository","title":"Work on the new local repository","text":"<ol> <li> <p>Create a new branch called <code>feature/report</code>.    Check out this branch and create a new file called <code>report.md</code>.    Edit this file so that it contains:</p> </li> <li> <p>A brief description of the generated data set;</p> </li> <li>A table of the summary statistics printed by the plotting scripting (see the Markdown Guide); and</li> <li>The figure produced by the plotting script (see the Markdown Guide).</li> </ol> <p>Record your changes in a new commit.</p> <ol> <li>Push this new branch to the remote repository.</li> </ol>"},{"location":"guides/using-git/exercise-use-a-remote-repository/#merge-the-report-into-the-original-repository","title":"Merge the report into the original repository","text":"<ol> <li> <p>In your original <code>git-exercise</code> repository, checkout the <code>feature/report</code> branch from the remote repository and verify that it now contains the file <code>report.md</code>.</p> </li> <li> <p>Merge this branch into your <code>main</code> or <code>master</code> branch, and add a new tag <code>milestone-3-report</code>.</p> </li> <li> <p>Push the updated <code>main</code> or <code>master</code> branch to the remote repository.</p> </li> </ol>"},{"location":"guides/using-git/exercise-use-a-remote-repository/#update-the-new-local-repository","title":"Update the new local repository","text":"<ol> <li>In your <code>git-exercise-2</code> repository, checkout the <code>main</code> or <code>master</code> branch and pull changes from the remote repository.    It should now contain the file <code>report.md</code>.</li> </ol> <p>Info</p> <p>Congratulations!     You have used a remote repository to synchronise and merge changes between two local repositories. You can use this workflow to collaborate with colleagues.</p>"},{"location":"guides/using-git/exercise-use-a-remote-repository/#self-evaluation","title":"Self evaluation","text":"<p>Now that you have used commits and branches to share work between multiple repositories, here are some questions for you to consider:</p> <ul> <li> <p>Do you feel comfortable in deciding which changes to record in a single commit?</p> </li> <li> <p>Do you feel that your commit messages help describe the changes that you have made in this repository?</p> </li> <li> <p>Do you feel comfortable in using multiple branches to work on separate ideas in parallel?</p> </li> <li> <p>Do you have any current projects that you might want to work on using local and remote <code>git</code> repositories?</p> </li> </ul>"},{"location":"guides/using-git/first-time-git-setup/","title":"First-time Git setup","text":"<p>Once you've installed Git, you should define some important settings before you starting using Git.</p> <p>Info</p> <p>We assume that you will want to set the git configuration for all repositories owned by your user. Therefore, we use the <code>--global</code> flag. Configuration files can be set for a single repository or the whole computer by replacing <code>--global</code> with <code>--local</code> or <code>--system</code> respectively.</p> <ol> <li> <p>Define your user name and email address.    These details are included in every commit that you create.</p> <p><pre><code>git config --global user.name \"My Name\"\ngit config --global user.email \"my.name@some-university.edu.au\"\n</code></pre> 2. Define the text editor that Git should use for tasks such as writing commit messages:</p> <pre><code>git config --global core.editor editor-name\n</code></pre> <p>NOTE: on Windows you need to specify the full path to the editor:</p> <pre><code>git config --global core.editor \"C:/Program Files/My Editor/editor.exe\"\n</code></pre> <p>Tip</p> <p>Please see Choosing your Git editor for details.</p> </li> <li> <p>By default, Git will create a branch called <code>master</code> when you create a new repository.    You can set a different name for this initial branch:</p> <pre><code>git config --global init.defaultBranch main\n</code></pre> </li> <li> <p>Ensure that repository histories always record when branches were merged:</p> <pre><code>git config --global merge.ff no\n</code></pre> <p>This prevents Git from \"fast-forwarding\" when the destination branch contains no new commits. For example, it ensures that when you merge the green branch into the blue branch (as shown below) it records that commits D, E, and F came from the green branch.</p> <p></p> </li> <li> <p>Adjust how Git shows merge conflicts:</p> <pre><code>git config --global merge.conflictstyle diff3\n</code></pre> <p>This will be useful when we look at how to use branches and how to resolve merge conflicts.</p> </li> </ol> <p>Info</p> <p>If you use Windows, there are tools that can improve your Git experience in PowerShell.</p> <p>There are also tools for integrating Git into many common text editors. See Git in other environments, Appendix A of the Pro Git book.</p>"},{"location":"guides/using-git/graphical-git-clients/","title":"Graphical Git clients","text":"<p>In this book we will primarily show how to use Git from the command-line. If you don't have Git already installed on your computer, see these instructions for installing Git.</p> <p>In addition to using the command-line, there are other ways to work with Git repositories:</p> <ul> <li> <p>There are many graphical clients that you can download and use;</p> </li> <li> <p>Many editors include built-in Git support (e.g., Atom, RStudio, Visual Studio Code); and</p> </li> <li> <p>Online platforms such as GitHub, GitLab, and Bitbucket also provide a graphical interface for common Git actions.</p> </li> </ul> <p>All of the concepts and terminology you will learn in this book should also apply to all of the tools listed above.</p>"},{"location":"guides/using-git/how-to-create-and-use-tags/","title":"How to create and use tags","text":"<p>Tags allow you to bookmark important points in your commit history.</p> <p>You can use tags to identify milestones such as:</p> <ul> <li>Adding specific features to your model or data analysis (e.g., <code>feature-age-dependent-mixing</code>);</li> <li>Completing objectives in your research plan (e.g., <code>objective-1</code>, <code>objective-2</code>);</li> <li>Completed manuscript drafts (e.g., <code>draft-1</code>, <code>draft-2</code>); and</li> <li>Manuscript submission and revisions (e.g., <code>submitted</code>, <code>revision-1</code>).</li> </ul>"},{"location":"guides/using-git/how-to-create-and-use-tags/#tagging-the-current-commit","title":"Tagging the current commit","text":"<p>You can add a tag (in this example, \"my-tag\") to the current commit by running:</p> <pre><code>git tag -a my-tag\n</code></pre> <p>This will open your chosen editor and ask you to write a description for this tag.</p>"},{"location":"guides/using-git/how-to-create-and-use-tags/#pushing-tags-to-a-remote-repository","title":"Pushing tags to a remote repository","text":"<p>By default, <code>git push</code> doesn't push tags to remote repositories. Instead, you have to explicitly push tags. You can push a tag (in this example, called \"my-tag\") to a remote repository (in this example, called \"origin\") by running:</p> <pre><code>git push origin my-tag\n</code></pre> <p>You can push all of your tags to a remote repository (in this example, called \"origin\") by running:</p> <pre><code>git push origin --tags\n</code></pre>"},{"location":"guides/using-git/how-to-create-and-use-tags/#tagging-a-past-commit","title":"Tagging a past commit","text":"<p>To add a tag to a previous commit, you can identify the commit by its hash. For example, you can inspect your commit history by running:</p> <pre><code>git log --oneline --no-decorate\n</code></pre> <p>If your commit history looks like:</p> <p><pre><code>003cf6b Show how to ignore certain files\n339eb5a Show how to prepare and record commits\n6a7fb8b Show how to clone remote repositories\n...\n</code></pre> where the current commit is <code>003cf6b</code> (\"Show how to ignore certain files\"), you can tag the previous commit (\"Show how to prepare and record commits\") by running:</p> <pre><code>git tag -a my-tag 339eb5a\n</code></pre>"},{"location":"guides/using-git/how-to-create-and-use-tags/#listing-tags","title":"Listing tags","text":"<p>You can list all tags by running:</p> <pre><code>git tag\n</code></pre> <p>You can also list only tags that match a specific pattern (in this example, all tags beginning with \"my\") by running:</p> <pre><code>git tag --list 'my*'\n</code></pre>"},{"location":"guides/using-git/how-to-create-and-use-tags/#deleting-tags","title":"Deleting tags","text":"<p>You can delete a tag by running:</p> <pre><code>git tag --delete my-tag\n</code></pre>"},{"location":"guides/using-git/how-to-create-and-use-tags/#creating-a-branch-from-a-tag","title":"Creating a branch from a tag","text":"<p>You can check out a tag and begin working on a new branch by running:</p> <pre><code>git checkout -b my-branch my-tag\n</code></pre>"},{"location":"guides/using-git/how-to-ignore-certain-files/","title":"How to ignore certain files","text":"<p>Your repository may contain files that you don't want to include in your commit history. For example, you may not want to include files of the following types:</p> <ul> <li>Sensitive data files for which access must be strictly controlled.</li> <li>Temporary files that do not contain useful information, such as:</li> <li><code>.aux</code> files, which are generated when compiling LaTeX documents; and</li> <li><code>.pyc</code> files, which are generated when running Python code.</li> <li>Files that can be automatically generated from your commit history, such as:</li> <li><code>.pdf</code> versions of LaTeX documents; and</li> <li>documentation generated from your code files.</li> </ul> <p>You can instruct Git to ignore certain files by creating a <code>.gitignore</code> file. This is a plain text file, where each line defines a pattern that identifies files and directories which should be ignored. You can also add comments, which must start with a <code>#</code>, to explain the purpose of these patterns.</p> <p>Tip</p> <p>If your editor will not accept <code>.gitignore</code> as a file name, you can create a <code>.gitignore</code> file in your repository by running:</p> <pre><code>touch .gitignore\n</code></pre> <p>For example, the following <code>.gitignore</code> file would make Git ignore all <code>.aux</code> and <code>.pyc</code> files, and the file <code>my-paper.pdf</code>:</p> <pre><code># Ignore all .aux files generated by LaTeX.\n*.aux\n# Ignore all byte-code files generated by Python.\n*.pyc\n# Ignore the PDF version of my paper.\nmy-paper.pdf\n</code></pre> <p>If you have sensitive data files, one option is to store them all in a dedicated directory and add this directory to your <code>.gitignore</code> file:</p> <pre><code># Ignore all data files in the \"sensitive-data\" directory.\nsensitive-data\n</code></pre> <p>Tip</p> <p>You can force Git to add an ignored file to a commit by running:</p> <pre><code>git add --force my-paper.pdf\n</code></pre> <p>But it would generally be better to update your <code>.gitignore</code> file so that it stops ignoring these files.</p>"},{"location":"guides/using-git/how-to-resolve-merge-conflicts/","title":"How to resolve merge conflicts?","text":"<p>A merge conflict can occur when we try to merge one branch into another, if the two branches introduce any conflicting changes.</p> <p>For example, consider trying to merge two branches that make the following changes to the same line of the file <code>test.txt</code>:</p> <ol> <li> <p>On the branch <code>my-new-branch</code>:</p> <pre><code> First line\n-Second line\n+My new second line\n Third line\n</code></pre> </li> <li> <p>On the main branch:</p> <pre><code> First line\n-Second line\n+A different second line\n Third line\n</code></pre> </li> </ol> <p>When we attempt to merge <code>my-new-branch</code> into the main branch, <code>git merge my-new-branch</code> will tell us:</p> <pre><code>Auto-merging test.txt\nCONFLICT (content): Merge conflict in test.txt\nAutomatic merge failed; fix conflicts and then commit the result.\n</code></pre> <p>The <code>test.txt</code> file will now include the conflicting changes, which we can inspect with <code>git diff</code>:</p> <pre><code>diff --cc test.txt\nindex 18712c4,bc576a6..0000000\n--- a/test.txt\n+++ b/test.txt\n@@@ -1,3 -1,3 +1,7 @@@\n  First line\n++&lt;&lt;&lt;&lt;&lt;&lt;&lt; ours\n +A different second line\n++=======\n+ My new second line\n++&gt;&gt;&gt;&gt;&gt;&gt;&gt; theirs\n  Third line\n</code></pre> <p>Note that this two-day diff shows:</p> <ol> <li>\"our\" changes: from the commits on the branch that we are merging into; and</li> <li>\"their\" changes: from the commits on the branch that we are merging from.</li> </ol> <p>Each conflict is surrounded by <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code> and <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> markers, and the conflicting changes are separated by a <code>=======</code> marker.</p> <p>If we instruct Git to use a three-way diff (see first-time Git setup), the conflict will be reported slightly differently:</p> <pre><code>diff --cc test.txt\nindex 18712c4,bc576a6..0000000\n--- a/test.txt\n+++ b/test.txt\n@@@ -1,3 -1,3 +1,7 @@@\n  First line\n++&lt;&lt;&lt;&lt;&lt;&lt;&lt; ours\n +A different second line\n++||||||| base\n++Second line\n++=======\n+ My new second line\n++&gt;&gt;&gt;&gt;&gt;&gt;&gt; theirs\n  Third line\n</code></pre> <p>In addition to showing \"our\" changes and \"their changes\", this three-way diff also shows the original lines, between the <code>|||||||</code> and <code>=======</code> markers. This extra information can help you decide how to best resolve the conflict.</p>"},{"location":"guides/using-git/how-to-resolve-merge-conflicts/#resolving-the-conflicts","title":"Resolving the conflicts","text":"<p>We can edit <code>test.txt</code> to reconcile these changes, and the commit our fix. For example, we might decide that <code>test.txt</code> should have the following contents:</p> <pre><code>First line\nThe corrected second line\nThird line\n</code></pre> <p>We can then commit these changes to resolve the merge conflict:</p> <pre><code>git add test.txt\ngit commit -m \"Resolved the merge conflict\"\n</code></pre>"},{"location":"guides/using-git/how-to-resolve-merge-conflicts/#cancelling-the-merge","title":"Cancelling the merge","text":"<p>Alternatively, you may decide you don't want to merge these two branches, in which case you cancel the merge by running:</p> <pre><code>git merge --abort\n</code></pre>"},{"location":"guides/using-git/how-to-structure-a-repository/","title":"How to structure a repository","text":"<p>While there is no single \"best\" way to structure a repository, there are some guidelines that you can follow. The key aims are to ensure that your files are logically organised, and that others can easily navigate the repository.</p>"},{"location":"guides/using-git/how-to-structure-a-repository/#divide-your-repository-into-multiple-directories","title":"Divide your repository into multiple directories","text":"<p>It is generally a good idea to have separate directories for different types of files. For example, your repository might contain any of these different file types, and you should at least consider storing each of them in a separate directory:</p> <ul> <li>Input data files (which you may have received from a collaborator);</li> <li>Cleaned and/or processed input files (e.g., if you aggregate the input data before using it);</li> <li>Data analysis code;</li> <li>Simulation/model code;</li> <li>Output data files;</li> <li>Plotting scripts that extract results from the output data files;</li> <li>Output figures produced by the plotting scripts; and</li> <li>Manuscript text and bibliography files.</li> </ul>"},{"location":"guides/using-git/how-to-structure-a-repository/#use-descriptive-names-for-directories-and-files","title":"Use descriptive names for directories and files","text":"<p>Choosing file names that indicate what each file/directory contains can help other people, such as your collaborators, navigate your repository. They can also help you when you return to a project after several weeks or months.</p> <p>Tip</p> <p>Have you ever asked yourself \"where is the file that contains X\"?</p> <p>Use descriptive file names, and the answer might be right in front of you!</p>"},{"location":"guides/using-git/how-to-structure-a-repository/#include-a-readme-file","title":"Include a <code>README</code> file","text":"<p>You can write this in Markdown (<code>README.md</code>), in plain text (<code>README</code> or <code>README.txt</code>), or in any other suitable format. For example, Python projects often use reStructuredText and have a <code>README.rst</code> file.</p> <p>This file should begin with a brief description of why the repository was created and what it contains.</p> <p>Importantly, this file should also mention:</p> <ul> <li> <p>How the files and directories are arranged.   Help your collaborators understand where they need to look in order to find something.</p> </li> <li> <p>How to run important pieces of code (e.g., to generate output data files or figures).</p> </li> <li> <p>The software packages and/or libraries that are required run any of the code in this repository.</p> </li> <li> <p>The license (if any) under which the repository contents are being made available.</p> </li> </ul>"},{"location":"guides/using-git/how-to-use-branches/","title":"How to use branches?","text":"<p>Recall that branches allow you to work on different ideas or tasks in parallel, within a single repository. In this chapter, we will show you how create and use branches. In the Collaborating section, we will show you how branches can allow multiple people to work together on code and papers, and how you can use branches for peer code review.</p> <p>Info</p> <p>Branches, like tags, are identified by name. Common naming conventions include:</p> <ul> <li><code>feature/some-new-thing</code> for adding something new (a new data analysis, a new model feature, etc); and</li> <li><code>bugfix/some-problem</code> for fixing something that isn't working as intended (e.g., perhaps there's a mistake in a data analysis script).</li> </ul> <p>You can choose your own conventions, but make sure that you choose meaningful names.</p> <p>Do not use names like <code>branch1</code>, <code>branch2</code>, etc.</p>"},{"location":"guides/using-git/how-to-use-branches/#creating-a-new-branch","title":"Creating a new branch","text":"<p>You can create a new branch (in this example, called \"my-new-branch\") that starts from the current commit by running:</p> <pre><code>git checkout -b my-new-branch\n</code></pre> <p>You can also create a new branch that starts from a specific commit, tag, or branch in your repository:</p> <pre><code>git checkout -b my-new-branch 95eaae5          # From an existing commit\ngit checkout -b my-new-branch my-tag-name      # From an existing tag\ngit checkout -b my-new-branch my-other-branch  # From an existing branch\n</code></pre> <p>You can then create a corresponding upstream branch in your remote repository (in this example, called \"origin\") by running:</p> <pre><code>git push -u origin my-new-branch\n</code></pre>"},{"location":"guides/using-git/how-to-use-branches/#working-on-a-remote-branch","title":"Working on a remote branch","text":"<p>If there is a branch in your remote repository that you want to work on, you can make a local copy by running:</p> <pre><code>git checkout remote-branch-name\n</code></pre> <p>This will create a local branch with the same name (in this example, \"remote-branch-name\").</p>"},{"location":"guides/using-git/how-to-use-branches/#listing-branches","title":"Listing branches","text":"<p>You can list all of the branches in your repository by running:</p> <pre><code>git branch\n</code></pre> <p>This will also highlight the current branch.</p>"},{"location":"guides/using-git/how-to-use-branches/#switching-between-branches","title":"Switching between branches","text":"<p>You can switch from your current branch to another branch (in this example, called \"other-branch\") by running:</p> <pre><code>git checkout other-branch\n</code></pre> <p>Info</p> <p>Git will not let you switch branches if you have any uncommitted changes.</p> <p>One way to avoid this issue is to record the current changes as a new commit, and explain in the commit message that this is a snapshot of work in progress.</p> <p>A second option is to discard the uncommitted changes to each file by running:</p> <pre><code>git restore file1 file2 file3 ... fileN\n</code></pre>"},{"location":"guides/using-git/how-to-use-branches/#pushing-and-pulling-commits","title":"Pushing and pulling commits","text":"<p>Once you have created a branch, you can use <code>git push</code> to \"push\" your commits to the remote repository, and <code>git pull</code> to \"pull\" commits from the remote repository. See Pushing and pulling commits for details.</p>"},{"location":"guides/using-git/how-to-use-branches/#inspecting-branch-histories","title":"Inspecting branch histories","text":"<p>You can use <code>git log</code> to inspect the commit history of any branch:</p> <pre><code>git log branch-name\n</code></pre> <p>Remember that there are many ways to control what <code>git log</code> will show you.</p> <p>Similarly, you can use <code>git diff</code> to compare the changes in any two branches:</p> <pre><code>git diff first-branch second-branch\n</code></pre> <p>Again, there are ways to control what <code>git diff</code> will show you.</p>"},{"location":"guides/using-git/how-to-use-branches/#merging-branches","title":"Merging branches","text":"<p>You may reach a point where you want to incorporate the changes from one branch into another branch. This is referred to as \"merging\" one branch into another, and is illustrated in the What is a branch? chapter.</p> <p>For example, you might have completed a new feature for your model or data analysis, and now want to merge this back into your main branch.</p> <p>First, ensure that the current branch is the branch you want to merge the changes into (this is often your main or master branch). You can them merge the changes from another branch (in this example, called \"other-branch\") by running:</p> <pre><code>git merge other-branch\n</code></pre> <p>This can have two different results:</p> <ol> <li> <p>The commits from <code>other-branch</code> were merged successfully into the current branch; or</p> </li> <li> <p>There were conflicting changes (referred to as a \"merge conflict\").</p> </li> </ol> <p>In the next chapter we will show you how to resolve merge conflicts.</p>"},{"location":"guides/using-git/inspecting-your-history/","title":"Inspecting your history","text":"<p>You can inspect your commit history at any time with the <code>git log</code> command. By default, this command will list every commit from the very first commit to the current commit, and for each commit it will show you:</p> <ul> <li>The commit identifier (\"hash\"), which uniquely identifies this commit;</li> <li>The person who created the commit (\"author\");</li> <li>The date on which the commit was created; and</li> <li>The commit message.</li> </ul> <p>There are many ways to adjust which commits and what details that <code>git log</code> will show.</p> <p>Tip</p> <p>Each commit has a unique identifier (\"hash\"). These hashes are quite long, but in general you only need to provide the first 5-7 digits to uniquely identify a specific commit.</p>"},{"location":"guides/using-git/inspecting-your-history/#listing-commits-over-a-specific-time-interval","title":"Listing commits over a specific time interval","text":"<p>You can limit which commits <code>git log</code> will show by specifying a start time and/or an end time.</p> <p>Tip</p> <p>This can be extremely useful for generating progress reports and summarising your recent activity in team meetings.</p> <p>For example, you can view commits from the past week by running:</p> <pre><code>git log --since='7 days'\ngit log --since='1 week'\n</code></pre> <p>You can view commits made between 1 and 2 weeks ago by running:</p> <pre><code>git log --since='2 weeks' --until='1 week'\n</code></pre> <p>You can view commits made between specific dates by running:</p> <pre><code>git log --since='2022/05/12' --until='2022/05/14'\n</code></pre>"},{"location":"guides/using-git/inspecting-your-history/#listing-commits-that-modify-a-specific-file","title":"Listing commits that modify a specific file","text":"<p>You can see which commits have made changes to a file by running:</p> <pre><code>git log -- filename\n</code></pre> <p>Info</p> <p>Note the <code>--</code> argument that comes before the file name. This ensures that if the file name begins with a <code>-</code>, <code>git log</code> will not treat the file name as an option.</p>"},{"location":"guides/using-git/inspecting-your-history/#changing-how-commits-are-displayed","title":"Changing how commits are displayed","text":"<p>You can make <code>git log</code> display only the first 7 digits of each commit hash, and the first line of each commit message, by running:</p> <pre><code>git log --oneline\n</code></pre> <p>This can be a useful way to get a quick overview of the recent history.</p>"},{"location":"guides/using-git/inspecting-your-history/#viewing-the-contents-of-a-single-commit","title":"Viewing the contents of a single commit","text":"<p>You can identify a commit by its unique identifier (\"hash\") or by its tag name (if it has been tagged), and view the commit with <code>git show</code>:</p> <pre><code>git show commit-hash\ngit show tag-name\n</code></pre> <p>This will show the commit details and all of the changes that were recorded in this commit.</p> <p>Tip</p> <p>By default, <code>git show</code> will show you the most recent commit.</p>"},{"location":"guides/using-git/inspecting-your-history/#viewing-all-changes-over-a-specific-interval","title":"Viewing all changes over a specific interval","text":"<p>You can view all of the changes that were made between two commits with the <code>git diff</code> command.</p> <p>Tip</p> <p>The <code>git diff</code> command shows the difference between two points in your commit history.</p> <p>Note that <code>git diff</code> does not support start and/or end times like <code>git log</code> does; you must use commit identifiers.</p> <p>For example, here is a subset of the commit history for this book's repository:</p> <pre><code>95eaae5 Note the need for a GitHub account and SSH key\n11085f0 Show how to create a branch from a tag\n9369482 Show how to create and use tags\n003cf6b Show how to ignore certain files\n339eb5a Show how to prepare and record commits\n6a7fb8b Show how to clone remote repositories\n6a49e10 Note that mdbook-admonish must be installed\na8e6114 Fixed the URL for the UoM GitLab instance\n5192704 Add a merge conflict exercise\n</code></pre> <p>We can view all of the changes that were made after the bottom commit (<code>5192704</code>, \"Add a merge conflict exercise\") up to and including the top commit (<code>95eaae5</code>, \"Note the need for a GitHub account and SSH key\") by running:</p> <pre><code>git diff 5192704..95eaae5\n</code></pre> <p>In the above example, 8 files were changed, with a total of 310 new lines and 7 deleted lines. This is a lot of information! You can print a summary of these changes by running:</p> <pre><code>git diff --stat 5192704..95eaae5\n</code></pre> <p>This should show you the following details:</p> <pre><code> README.md                                       |   2 +-\n src/SUMMARY.md                                  |   3 +\n src/prerequisites.md                            |   2 +\n src/using-git/cloning-an-existing-repository.md |  36 ++++++++++\n src/using-git/creating-a-commit.md              | 146 +++++++++++++++++++++++++++++++++++++--\n src/using-git/how-to-create-and-use-tags.md     |  89 ++++++++++++++++++++++++\n src/using-git/how-to-ignore-certain-files.md    |  37 ++++++++++\n src/version-control/what-is-a-repository.md     |   2 +-\n 8 files changed, 310 insertions(+), 7 deletions(-)\n</code></pre> <p>This reveals that about half of the changes (146 new/deleted lines) were made to <code>src/using-git/creating-a-commit.md</code>.</p>"},{"location":"guides/using-git/inspecting-your-history/#viewing-changes-to-a-file-over-a-specific-interval","title":"Viewing changes to a file over a specific interval","text":"<p>Similar to the <code>git log</code> command, you can limit the files that the <code>git diff</code> command will examine. For example, you can display only the changes made to <code>README.md</code> in the above example by running:</p> <pre><code>git diff 5192704..95eaae5 -- README.md\n</code></pre> <p>This should show you the following change:</p> <pre><code>diff --git a/README.md b/README.md\nindex 7956b65..a34f907 100644\n--- a/README.md\n+++ b/README.md\n@@ -15,7 +15,7 @@ This work is licensed under a [Creative Commons Attribution-ShareAlike 4.0 Inter\n\n ## Building the book\n\n-You can build this book by installing [mdBook](https://rust-lang.github.io/mdBook/) and running the following command in this directory:\n+You can build this book by installing [mdBook](https://rust-lang.github.io/mdBook/) and [mdbook-admonish](https://github.com/tommilligan/mdbook-admonish/), and running the following command in this directory:\n\n ```shell\n mdbook build\n</code></pre>"},{"location":"guides/using-git/pushing-and-pulling-commits/","title":"Pushing and pulling commits","text":"<p>In general, we \"push\" commits from our local repository to a remote repository by running:</p> <pre><code>git push &lt;remote-repository&gt;\n</code></pre> <p>and \"pull\" commits from a remote repository into our local repository by running:</p> <pre><code>git pull &lt;remote-repository&gt;\n</code></pre> <p>where <code>&lt;remote-repository&gt;</code> is either a URL or the name of a remote repository.</p> <p>However, we generally want to push to, and pull from, the same remote repository every time. See the next section for an example of linking the main branch in your local repository with a corresponding \"upstream\" branch in your remote repository.</p>"},{"location":"guides/using-git/pushing-and-pulling-commits/#pushing-your-first-commit-to-a-remote-repository","title":"Pushing your first commit to a remote repository","text":"<p>In order to push commits from your local repository to a remote repository, we need to create a branch in the remote repository that corresponds to the main branch of our local repository. This requires that you have created at least one commit in your local repository.</p> <p>Tip</p> <p>This is a good time to create a <code>README.md</code> file and write a brief description of what this repository will contain.</p> <p>Once you have at least one commit in your local repository, you can create a corresponding upstream branch in the remote repository with the following command:</p> <pre><code>git push -u origin &lt;branch-name&gt;\n</code></pre> <p>The default branch will probably be called <code>\"main\"</code> or <code>\"master\"</code>, depending on your Git settings. You can identify the branch name by running:</p> <pre><code>git branch\n</code></pre> <p>Note</p> <p>Recall that we identify remote repositories by name. In this example, the remote repository is call \"origin\". You can choose a different name when linking your local and remote repositories.</p> <p>Once you have defined the upstream branch, you can push commits by running:</p> <pre><code>git push\n</code></pre> <p>and pull commits by running:</p> <pre><code>git pull\n</code></pre> <p>without having to specify the remote repository or branch name.</p>"},{"location":"guides/using-git/pushing-and-pulling-commits/#forcing-updates-to-a-remote-repository","title":"Forcing updates to a remote repository","text":"<p>By default, Git will refuse to push commits from a local branch to a remote branch if the remote branch contains any commits that are not in your local branch. This situation should not arise in general, and typically indicates that either someone else has pushed new commits to the remote branch (see the Collaborating section) or that you have altered the history of your local branch.</p> <p>If you are absolutely confident that your local history of commits should replace the contents of the remote branch, you can force this update by running:</p> <pre><code>git push --force\n</code></pre> <p>Tip</p> <p>Unless you are confident that you understand why this situation has occurred, it is probably a good idea to ask for advice before running the above command.</p>"},{"location":"guides/using-git/where-did-this-line-come-from/","title":"Where did this line come from?","text":"<p>Consider the What should I commit? chapter. Imagine that we want to know when and why the following text was added:</p> <pre><code>A helpful guideline is \"**commit early, commit often**\".\n</code></pre> <p>If we can identify the relevant commit, we can then inspect the commit (using <code>git show &lt;commit&gt;</code>) to see all of the changes that it introduced. Ideally, the commit message will explain the reasons why this commit was made. This is one way in which your commit messages can act as a lab book.</p> <p>At the time of writing (commit <code>2a96324</code>), the contents of the What should I commit? came from two commits:</p> <pre><code>git log --oneline src/version-control/what-should-I-commit.md\n</code></pre> <pre><code>3dfff1f Add notes about committing early and often\n9be780b Briefly describe key version control concepts\n</code></pre> <p>We can use the <code>git blame</code> command to identify the commit that last modified each line in this file:</p> <pre><code>git blame -s src/version-control/what-should-I-commit.md\n</code></pre> <pre><code>9be780b8  1) # What should I commit?\n9be780b8  2)\n9be780b8  3) A commit should represent a **unit of work**.\n9be780b8  4)\n9be780b8  5) If you've made changes that represent multiple units of work (e.g., changing how input data are processed, and adding a new model parameter) these should be saved as separate commits.\n9be780b8  6)\n9be780b8  7) Try describing out loud the changes you have made, and if you find yourself saying something like \"I did X and Y and Z\", then the changes should probably divided into multiple commits.\n3dfff1fe  8)\n3dfff1fe  9) A helpful guideline is \"**commit early, commit often**\".\n3dfff1fe 10)\n3dfff1fe 11) ## Commit early\n3dfff1fe 12)\n3dfff1fe 13) - Don't delay creating a commit because \"it's not ready yet\".\n3dfff1fe 14)\n3dfff1fe 15) - A commit doesn't have to be \"perfect\".\n3dfff1fe 16)\n3dfff1fe 17) ## Commit often\n3dfff1fe 18)\n3dfff1fe 19) - Small, focused commits are **extremely helpful** when trying to identify the cause of an unintended change in your code's behaviour or output.\n3dfff1fe 20)\n3dfff1fe 21) - There is no such thing as too many commits.\n</code></pre> <p>You can see that the first seven lines were last modified by commit <code>9be780b</code> (Briefly describe key version control concepts), while the rest of the file was last modified by commit <code>3dfff1f</code> (Add notes about committing early and often). So the text that we're interested in (line 9) was introduced by commit <code>3dfff1f</code>.</p> <p>You can inspect this commit by running the following command:</p> <pre><code>git show 3dfff1f\n</code></pre> Video demonstration <p></p>"},{"location":"guides/using-git/where-did-this-problem-come-from/","title":"Where did this problem come from?","text":"<p>Let's find the commit that created the file <code>src/version-control/what-is-a-repository.md</code>. We could find this out using <code>git log</code>, but the point here is to illustrate how to use a script to find the commit that causes any arbitrary change to our repository.</p> <p>Once the commit has been found, you can inspect it (using <code>git show &lt;commit&gt;</code>) to see all of the changes this commit introduced and the commit message that (hopefully) explains the reasons why this commit was made. This is one way in which your commit messages can act as a lab book.</p> <ol> <li> <p>Create a Python script called <code>my_test.py</code> with the following contents:</p> <pre><code>#!/usr/bin/env python3\nfrom pathlib import Path\nimport sys\n\nexpected_file = Path('src') / 'version-control' / 'what-is-a-repository.md'\n\nif expected_file.exists():\n    # This file is the \"new\" thing that we want to detect.\n    sys.exit(1)\nelse:\n    # The file does not exist, this commit is \"old\".\n    sys.exit(0)\n</code></pre> <p>For reference, here is an equivalent R script:</p> <pre><code>#!/usr/bin/Rscript --vanilla\n\nexpected_file &lt;- file.path('src', 'version-control', 'what-is-a-repository.md')\n\nif (file.exists(expected_file)) {\n    # This file is the \"new\" thing that we want to detect.\n    quit(status = 1)\n} else {\n    # The file does not exist, this commit is \"old\".\n    quit(status = 0)\n}\n</code></pre> </li> <li> <p>Select the commit range over which to search.    We know that the file exists in the commit <code>3dfff1f</code> (Add notes about committing early and often), and it did not exist in the very first commit (<code>5a19b02</code>).</p> </li> <li> <p>Instruct Git to start searching with the following command:</p> <pre><code>git bisect start 3dfff1f 5a19b02\n</code></pre> <p>Note that we specify the newer commit first, and then the older commit.</p> <p>Git will inform you about the search progress, and which commit is currently being investigated.</p> <pre><code>Bisecting: 7 revisions left to test after this (roughly 3 steps)\n[92f1375db21dd8a35ca141365a477b963dbbf6dc] Add CC-BY-SA license text and badge\n</code></pre> </li> <li> <p>Instruct Git to use the script <code>my_test.py</code> to check each commit with the following command:</p> <pre><code>git bisect run ./my_test.py\n</code></pre> <p>It will continue to report the search progress and automatically identify the commit that we're looking for:</p> <pre><code>running  './my_test.py'\nBisecting: 3 revisions left to test after this (roughly 2 steps)\n[9be780b8785d67ee191b2c0b113270059c9e0c3a] Briefly describe key version control concepts\nrunning  './my_test.py'\nBisecting: 1 revision left to test after this (roughly 1 step)\n[055906f28da146a2d012b7c1c0e4707503ed1b11] Display example commit message as plain text\nrunning  './my_test.py'\nBisecting: 0 revisions left to test after this (roughly 0 steps)\n[1251357ab5b41d511deb48cd5386cae37eec6751] Rename the \"What is a repository?\" source file\nrunning  './my_test.py'\n1251357ab5b41d511deb48cd5386cae37eec6751 is the first bad commit\ncommit 1251357ab5b41d511deb48cd5386cae37eec6751\nAuthor: Rob Moss &lt;robm.dev@gmail.com&gt;\nDate:   Sun Apr 17 21:41:43 2022 +1000\n\n    Rename the \"What is a repository?\" source file\n\n    The file name was missing the word \"a\" and did not match the title.\n\n src/SUMMARY.md                              |  2 +-\n src/version-control/what-is-a-repository.md | 18 ++++++++++++++++++\n src/version-control/what-is-repository.md   | 18 ------------------\n 3 files changed, 19 insertions(+), 19 deletions(-)\n create mode 100644 src/version-control/what-is-a-repository.md\n delete mode 100644 src/version-control/what-is-repository.md\n</code></pre> </li> <li> <p>To quit the search and return to your current commit, run the following command:</p> <pre><code>git bisect reset\n</code></pre> </li> <li> <p>You can then inspect this commit by running the following command:</p> <pre><code>git show 1251357\n</code></pre> </li> </ol>"},{"location":"guides/version-control/","title":"Version control concepts","text":"<p>This section provides a high-level introduction to the concepts that you should understand in order to make effective use of version control.</p> <p>Info</p> <p>Version control can turn your files into a lab book that captures the broader context of your research activities and that you can easily search and reproduce.</p>"},{"location":"guides/version-control/exercise-using-version-control/","title":"Exercise: using version control","text":"<p>In this section we have introduced version control, and outlined how it can be useful for academic research activities, including:</p> <ul> <li>Capturing a detailed, annotated record of your research;</li> <li>Inspecting changes made between any two moments in time;</li> <li>Identifying when a specific change was made; and</li> <li>Sharing your research with collaborators.</li> </ul> <p>Info</p> <p>We'd now like you think about how version control might be useful to you and your research.</p> <p>Have you experienced any issues or challenges in your career where version control would have been helpful? For example:</p> <ul> <li> <p>Have you ever looked at some of your older code and had difficulty understanding what it is doing, how it works, or why it was written?</p> </li> <li> <p>Have you ever had difficulties identifying what code and/or data were used to generate a particular analysis or output?</p> </li> <li> <p>Have you ever discovered a bug in your code and tried to identify when it was introduced, or what outputs it might have affected?</p> </li> <li> <p>When collaborating on a research project, have you ever had challenges in making sure that everyone was working with the most recent files?</p> </li> </ul> <p>How can you use version control in your current research project(s)?</p> <ul> <li> <p>Do you have an existing project or piece of code that could benefit from being stored in a repository?</p> </li> <li> <p>Have you recently written any code that could be recorded as one or more commits?</p> </li> <li> <p>If so, what would you write for the commit messages?</p> </li> <li> <p>Have you written some exploratory code or analysis that could be stored in a separate branch?</p> </li> </ul> <p>Having looked at the use of version control in the past and present, how would using version control benefit you?</p>"},{"location":"guides/version-control/how-do-I-write-a-commit-message/","title":"How do I write a commit message?","text":"<p>Commit messages are shown as part of the repository history (e.g., when running <code>git log</code>). Each message consists of a short one-line description, followed by as much or as little text as required.</p> <p>You should treat these messages as entries in a log book. Explain what changes were made and why they were made. This can help collaborators understand what we have done, but more importantly is acts as a record for our future selves.</p> <p>Info</p> <p>Have you ever looked at code you wrote a long time ago and wondered what you were thinking?</p> <p>A history of detailed commit messages should allow you to answer this question!</p> <p>Remember that code is harder to read than it is to write (Joel Spolsky).</p> <p>For example, rather than writing:</p> <p>Added model</p> <p>You could write something like:</p> <p>Implemented the initial model</p> <p>This model includes all of the core features that we need to fit the data, but there several other features that we intend to add:</p> <p>- Parameter X is currently constant, but we may need to allow it to vary   over time;</p> <p>- Parameter Y should probably be a hyperparameter; and</p> <p>- The population includes age-structured mixing, but we need to also include   age-specific outcomes, even though there is very little data to suggest   what the age effects might be.</p>"},{"location":"guides/version-control/what-is-a-branch/","title":"What is a branch?","text":"<p>A branch allows you create a series of commits that are separate from the main history of your repository. They can be used for units of work that are too large to be a single commit.</p> <p>Info</p> <p>It is easy to switch between branches! You can work on multiple ideas or tasks in parallel.</p> <p>Consider a repository with three commits: commit A, followed by commit B, followed by commit C:</p> <p></p> <p>At this point, you might consider two ways to implement a new model feature. One way to do this is to create a separate branch for each implementation:</p> <p></p> <p>You can work on each branch, and switch between them, in the same local repository.</p> <p>If you decide that the first implementation (the green branch) is the best way to proceed, you can then merge this branch back into your main branch. This means that your main branch now contains six commits (A to F), and you can continue adding new commits to your main branch:</p> <p></p>"},{"location":"guides/version-control/what-is-a-commit/","title":"What is a commit?","text":"<p>A \"commit\" is a set of changes to one or more files in a repository. These changes can include:</p> <ul> <li>Adding lines to a file;</li> <li>Removing lines from a file;</li> <li>Changing lines in a file;</li> <li>Adding new files; and</li> <li>Deleting existing files.</li> </ul> <p>Each commit also includes the date and time that it was created, the user that created it, and a commit message.</p>"},{"location":"guides/version-control/what-is-a-merge-conflict/","title":"What is a merge conflict?","text":"<p>In What is a branch? we presented an example of successfully merging a branch into another. However, when we try to merge one branch into another, we may find that the two branches have conflicting changes. This is known as a merge conflict.</p> <p>Consider two branches that make conflicting changes to the same line of a file:</p> <ol> <li> <p>Replace \"Second line\" with \"My new second line\":</p> <pre><code> First line\n-Second line\n+My new second line\n Third line\n</code></pre> </li> <li> <p>Replace \"Second line\" with \"A different second line\":</p> <pre><code> First line\n-Second line\n+A different second line\n Third line\n</code></pre> </li> </ol> <p>There is no way to automatically reconcile these two branches, and we have to fix this conflict manually. This means that we need to decide what the true result should be, edit the file to resolve these conflicting changes, and commit our modifications.</p>"},{"location":"guides/version-control/what-is-a-repository/","title":"What is a repository?","text":"<p>A repository records a set of files managed by a version control system, including the historical record of changes made to these files.</p> <p>You can create as many repositories as you want. Each repository should be a single \"thing\", such as a research project or a journal article, and should be located in a separate directory.</p> <p>You will generally have at least two copies of each repository:</p> <ol> <li> <p>A local repository on your computer; and</p> </li> <li> <p>A remote repository on a service such as GitHub, or a University-provided platform (such as the University of Melbourne's GitLab instance).</p> </li> </ol> <p>You make changes in your local repository and \"push\" them to the remote repository. You can share this remote repository with your collaborators and supervisors, and they will be able to see all of the changes that you have pushed.</p> <p>You can also allow collaborators to push their own changes to the remote repository, and then \"pull\" them into your local repository. This is one way in which you can use version control to work collaboratively on a project.</p>"},{"location":"guides/version-control/what-is-a-tag/","title":"What is a tag?","text":"<p>A tag is a short, unique name that identifies a specific commit. You can use tags as bookmarks for interesting or important commits. Common uses of tags include:</p> <ul> <li> <p>Identifying manuscript revisions: <code>draft-1</code>, <code>submitted-version</code>, <code>revision-1</code>, etc.</p> </li> <li> <p>Identifying software package versions: <code>v1.0</code>, <code>v1.1</code>, <code>v2.0</code>, etc.</p> </li> </ul>"},{"location":"guides/version-control/what-is-version-control/","title":"What is version control?","text":"<p>Version control is a way of systematically recording changes to files (such as computer code and data files). This allows you to restore any previous version of a file. More importantly, this history of changes can be queried, and each set of changes can include additional information, such as who made the changes and an explanation of why the changes were made.</p> <p>A core component of making great decisions is understanding the rationale behind previous decisions. If we don't understand how we got \"here\", we run the risk of making things much worse.</p> <p>\u2014 Chesterton's Fence</p> <p>For academic research activities that involve data analysis or simulation modelling, some key uses of version control are:</p> <ul> <li> <p>You can use it as a log book, and capture a detailed and permanent record of every step of your research.   This is extremely helpful for people \u2014 including you! \u2014 who want to understand and make use of your work.</p> </li> <li> <p>You can collaborate with others in a systematic way, ensuring that everyone has access to the most recent files and data, and review everyone's contributions.</p> </li> <li> <p>You can inspect the changes made over a period of interest (e.g., \"What have I done in the last week?\").</p> </li> <li> <p>You can identify when a specific change occurred, and what other changes were made at the same time (e.g., \"What changes did I make that affected this output figure?\").</p> </li> </ul> <p>In this book we will focus on the Git version control system, which is used by popular online platforms such as GitHub, GitLab, and Bitbucket.</p>"},{"location":"guides/version-control/what-should-I-commit/","title":"What should I commit?","text":"<p>A commit should represent a unit of work.</p> <p>If you've made changes that represent multiple units of work (e.g., changing how input data are processed, and adding a new model parameter) these should be saved as separate commits.</p> <p>Try describing out loud the changes you have made, and if you find yourself saying something like \"I did X and Y and Z\", then the changes should probably divided into multiple commits.</p> <p>A helpful guideline is \"commit early, commit often\".</p>"},{"location":"guides/version-control/what-should-I-commit/#commit-early","title":"Commit early","text":"<ul> <li> <p>Don't delay creating a commit because \"it's not ready yet\".</p> </li> <li> <p>A commit doesn't have to be \"perfect\".</p> </li> </ul>"},{"location":"guides/version-control/what-should-I-commit/#commit-often","title":"Commit often","text":"<ul> <li> <p>Small, focused commits are extremely helpful when trying to identify the cause of an unintended change in your code's behaviour or output.</p> </li> <li> <p>There is no such thing as too many commits.</p> </li> </ul>"},{"location":"orientation/","title":"Orientation","text":"<p>One of our goals for 2024 is to develop orientation materials for new students, postdocs, etc. There was broad interest in having a checklist, and example workflows for people to follow \u2014 particularly for projects that involve some form of code \"hand over\", to ensure that the recipients experience few problems in running the code themselves.</p> <p>Suggested topics included:</p> <ul> <li>How to set up common tools on your laptop (e.g., Python and R);</li> <li>How to organise your files;</li> <li>How to write Markdown documents (see Nick Tierney's book RMarkdown for Scientists);</li> <li>How to format and lint your code;</li> <li>How to set up git on your own device and using platforms such as GitHub;</li> <li>How to recover old versions of files;</li> <li>How to make your code device-agnostic, so it can run on HPC platforms, virtual machines, and can easily be migrated to new devices; and</li> <li>How to plan for reproducibility from the beginning, rather than waiting until you're preparing a publication.</li> </ul> <p>Note</p> <p>In addition to the topical guides, the Useful resources section includes:</p> <ul> <li>A beginner's guide to conducting reproducible research;</li> <li>A quick guide to organising computational biology projects;</li> <li>Examples of making models publicly available; and</li> <li>Examples of using GitHub Actions for Python and for R.</li> </ul>"}]}